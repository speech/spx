(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

},{}],2:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}],3:[function(require,module,exports){
"use strict";function DNS(){var e=this;this.pubs={},this.db=new PouchDB("speech",{auto_compaction:!0}),this.db.replicate.from("https://indolering.cloudant.com/bit/","speech",{continuous:!0}),this.pubs.speech=new PouchDB("https://indolering.cloudant.com/bit/"),this.lookup=function(n,i){e.db.get(n,function(e,t){e?this.fetch(n,i):i(t)})},this.fetch=function(n,i){e.pubs.speech.get(n,function(n,t){if(n)throw new Fail({name:"name"}).over();e.save(t),e.db.get(r.name,function(e,n){i(e?e:n)})})},this.save=function(n,i){i=i||function(e){log.log(e)},("undefined"==typeof n.$jsdns||null===n.$jsdns)&&(n=new Record(n.name,n.value)),e.db.get(n.name,function(t,o){t?e.db.put(n.value,n.name):e.db.put(n.value,n.name,o._rev),e.db.get(n.name,function(e,n){i(e?e:n)})})},this.delete=function(n){e.db.get(n,function(i,t){i?log.info("error while fetching rev of "+n+" for deltion.",i):e.db.remove(t,function(e,i){e&&log.warn("Unable to delete "+n+" ",e),i&&log.log(i)})})},this.getRecords=function(n,i){i=i||n,Array.isArray(n)?e.db.allDocs({keys:n,include_docs:!0},i):e.db.allDocs({include_docs:!0},i)},this.init=function(){return new DNS}}var $=require("./libs/jquery/dist/jquery"),URI=require("./libs/uri.js/src/URI"),PouchDB=require("./libs/pouchdb/lib/index.js"),Record=require("./record"),Fail=require("./fail"),log=require("./logger");module.exports=new DNS;
},{"./fail":4,"./libs/jquery/dist/jquery":7,"./libs/pouchdb/lib/index.js":19,"./libs/uri.js/src/URI":29,"./logger":31,"./record":33}],4:[function(require,module,exports){
function Fail(e){this.name=e.name||"Fail",this.message=e}var URI=require("./libs/uri.js/src/URI");Fail.prototype=new Error,Fail.prototype.over=function(){url=new URI;var e={url:url.href(),urn:(new URI).subdomain().split(".").slice(-1).pop(),value:this.message.value,name:this.message.name,message:this.message.message};""===e.urn&&(e.urn=url.hash()&&"!"!==url.hash[0]?url.hash().slice(1,url.hash().length):"localhost"==url.hostname()||"127.0.0.1"==url.hostname()?"localhost":"www");var t=(new URI).path("error.html").subdomain("");switch(e.name.toLowerCase()){case"format":e.text="The name server was unable to interpret the query.",e.code=1;break;case"server":e.text="The name server was unable to process this query due to a problem with the name server.",e.code=2;break;case"name":e.text="Domain name referenced in the query does not exist.",e.code=3,e.message="The domain name "+e.urn+" could not be found";break;case"unimplemented":e.text="The name server does not support the requested kind of query.",e.code=4,t.path("connect.html");break;case"unauthorized":e.text="Authentication is required and has failed or has not yet been provided.",e.code=401;break;case"forbidden":e.text="Successful authentication but credentials do not grant the client permission to access the resource.",e.code=403;break;case"timeout":e.text="The server timed out waiting for the request.",e.code=408,t.path("connect.html");break;case"length":e.text="URI too long.",e.code=414;break;case"calm":e.text="The user has sent too many requests in a given amount of time. Intended for use with rate limiting schemes.",e.code=420;break;case"rate":case"flood":e.text="The user has sent too many requests in a given amount of time. Intended for use with rate limiting schemes.",e.code=429;break;case"censored":e.text="Unavailable For Legal Reasons",e.code=451;break;default:e.code||(e.code=-1),e.name||(e.name="unknown"),e.message||(e.message="There was a problem looking up your request.")}console.log(e.name,e),location.href=(new URI).path("error.html").subdomain("").addQuery(e).href()},module.exports=Fail;
},{"./libs/uri.js/src/URI":29}],5:[function(require,module,exports){
"use strict";function updater(e){var t=e.type;if(console.dir(e),"location"===t){var a=new URL(e.value),r=a.pathname;a.search&&(r="?"+a.search),a.hash&&(r="#"+a.hash),history.replaceState(null,null,r)}else if("title"===t)document.title=e.value;else if("favicon"===t){document.getElementById("favicon")&&document.head.removeChild(document.getElementById("favicon"));var n=document.createElement("link");n.id="favicon",n.type="image/x-icon",n.rel="shortcut icon",n.href=e.value,document.head.appendChild(n)}}function dns(){return DNS}var $=require("./libs/jquery/dist/jquery"),URI=require("./libs/uri.js/src/URI"),ready=require("./libs/domready/ready.min"),resize=require("./resize"),DNS=require("./dns"),Nav=require("./nav"),log=require("./logger"),DEBUG=!0;if(DEBUG){var dummies=[["www",{translate:""}],["localhost",{translate:""}],["ipv4",{ip:"208.113.212.187"}],["ipv6-2",{ip6:["2607:f298:5:102b::ddb:b09e","2607:f298:5:102b::af3:5aa3"]}],["ipv6",{ip6:"2607:f298:5:102b::ddb:b09e"}],["ipv4-2",{ip:["208.113.212.187","208.113.212.1s87"]}],["bits",{ip:["208.113.212.187"],cors:["speech.is"]}],["$setting",{name:"subscriber name",url:"jsDNS url"}],["reddit",{translate:"http://www.reddit.com"}],["aaronsw",{translate:"http://www.aaronsw.com/"}],["wikipedia",{translate:"http://www.wikipedia.org"}],["accessnow",{translate:"http://www.accessnow.org"}],["indolering",{ip:["208.113.212.21"],cors:["speech.is"]}],["fightforthefuture",{translate:"http://www.fightforthefuture.org/"}],["internetdefenseleague",{translate:"http://internetdefenseleague.org"}]];dummies.forEach(function(e){var t=new URI;"www"===e[0]?(t.subdomain("www"),t.path("/Speech.js/site/connect.html"),e[1].translate=t.href()):"localhost"===e[0]&&(t.path("/Speech.js/site/connect.html"),e[1].translate=t.href()),DNS.save({name:e[0],value:e[1]})})}ready(function(){var e=new URI;log.info("uri: "+e);var t=e.subdomain().split(".").slice(-1).pop();log.info("urn: "+t,t);var a=e.fragment();log.info("fragment: "+a),""===t&&(t=a&&"!"!==a[0]?a:"localhost"===e.hostname()||"127.0.0.1"===e.hostname()?"localhost":"www");var r=document.getElementById("speech"),n=new Nav(r);DNS.lookup(t,n.load),window.addEventListener("message",function(e){var t=new URL(r.src).origin;e.origin===t&&(console.dir(e),updater(e.data))})});
},{"./dns":3,"./libs/domready/ready.min":6,"./libs/jquery/dist/jquery":7,"./libs/uri.js/src/URI":29,"./logger":31,"./nav":32,"./resize":34}],6:[function(require,module,exports){
!function(e,n){"undefined"!=typeof module?module.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(){function e(e){for(i=1;e=t.shift();)e()}var n,t=[],o=!1,d=document,f="DOMContentLoaded",i=/^loaded|^c/.test(d.readyState);return d.addEventListener(f,n=function(){d.removeEventListener(f,n,o),e()},o),function(e){i?e():t.push(e)}});
},{}],7:[function(require,module,exports){
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=et.type(e);return"function"===n||et.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(et.isFunction(t))return et.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return et.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return et.filter(t,e,n);t=et.filter(t,e)}return et.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ht[e]={};return et.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function s(){K.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),et.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=et.expando+Math.random()}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(bt,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?et.parseJSON(n):n}catch(i){}yt.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return K.activeElement}catch(e){}}function p(e,t){return et.nodeName(e,"table")&&et.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),s=vt.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)et.event.add(t,i,l[i][n])}yt.hasData(e)&&(a=yt.access(e),u=et.extend({},a),yt.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&et.nodeName(e,t)?et.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Nt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r=et(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:et.css(r[0],"display");return r.detach(),i}function b(e){var t=K,n=$t[e];return n||(n=x(e,t),"none"!==n&&n||(Wt=(Wt||et("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Wt[0].contentDocument,t.write(),t.close(),n=x(e,t),Wt.detach()),$t[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_t(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||et.contains(e.ownerDocument,e)||(s=et.style(e,t)),It.test(s)&&Bt.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Gt.length;i--;)if(t=Gt[i]+n,t in e)return t;return r}function N(e,t,n){var r=zt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=et.css(e,n+Tt[o],!0,i)),r?("content"===n&&(s-=et.css(e,"padding"+Tt[o],!0,i)),"margin"!==n&&(s-=et.css(e,"border"+Tt[o]+"Width",!0,i))):(s+=et.css(e,"padding"+Tt[o],!0,i),"padding"!==n&&(s+=et.css(e,"border"+Tt[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_t(e),s="border-box"===et.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),It.test(i))return i;r=s&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function D(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[s]=vt.access(r,"olddisplay",b(r.nodeName)))):o[s]||(i=Ct(r),(n&&"none"!==n||!i)&&vt.set(r,"olddisplay",i?n:et.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function S(){return setTimeout(function(){Qt=void 0}),Qt=et.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Tt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c=this,f={},p=e.style,d=e.nodeType&&Ct(e),h=vt.get(e,"fxshow");n.queue||(a=et._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,et.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=et.css(e,"display"),"none"===l&&(l=b(e.nodeName)),"inline"===l&&"none"===et.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Kt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;d=!0}f[r]=h&&h[r]||et.style(e,r)}if(!et.isEmptyObject(f)){h?"hidden"in h&&(d=h.hidden):h=vt.access(e,"fxshow",{}),o&&(h.hidden=!d),d?et(e).show():c.done(function(){et(e).hide()}),c.done(function(){var t;vt.remove(e,"fxshow");for(t in f)et.style(e,t,f[t])});for(r in f)s=L(d?h[r]:0,r,c),r in h||(h[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=et.camelCase(n),i=t[r],o=e[n],et.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=et.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tn.length,a=et.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qt||S(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:et.extend({},t),opts:et.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qt||S(),duration:n.duration,tweens:[],createTween:function(t,n){var r=et.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=tn[o].call(l,e,c,l.opts))return r;return et.map(c,L,l),et.isFunction(l.opts.start)&&l.opts.start.call(e,l),et.fx.timer(et.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(dt)||[];if(et.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,et.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===Tn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function M(e,t){var n,r,i=et.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&et.extend(!0,e,r),e}function R(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(et.isArray(t))et.each(t,function(t,i){n||En.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==et.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function B(e){return et.isWindow(e)?e:9===e.nodeType&&e.defaultView}var I=[],_=I.slice,X=I.concat,z=I.push,U=I.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q="".trim,J={},K=e.document,Z="2.1.0",et=function(e,t){return new et.fn.init(e,t)},tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};et.fn=et.prototype={jquery:Z,constructor:et,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=et.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return et.each(this,e,t)},map:function(e){return this.pushStack(et.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:I.sort,splice:I.splice},et.extend=et.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||et.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(et.isPlainObject(r)||(i=et.isArray(r)))?(i?(i=!1,o=n&&et.isArray(n)?n:[]):o=n&&et.isPlainObject(n)?n:{},s[t]=et.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},et.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===et.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==et.type(e)||e.nodeType||et.isWindow(e))return!1;try{if(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=et.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":Q.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?et.merge(r,"string"==typeof e?[e]:e):z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return X.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),et.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||et.guid++,i):void 0},now:Date.now,support:J}),et.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var it=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,h,g,m;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(O&&!r){if(i=yt.exec(e))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&R(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(C.qsa&&(!F||!F.test(e))){if(h=f=W,g=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=p(e),(f=t.getAttribute("id"))?h=f.replace(bt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+d(l[u]);g=xt.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{f||t.removeAttribute("id")}}}return w(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>N.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)N.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==V&&e}function f(){}function p(e,n){var r,i,o,s,a,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=N.preFilter;a;){(!r||(i=lt.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),a=a.slice(r.length));for(s in N.filter)!(i=ht[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):X(e,u).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[B,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===B&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,g=r||b(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:m(g,p,e,a,u),y=n?o||(r?e:h||i)?[]:s:v;if(n&&n(v,y,a,u),i)for(l=m(y,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(v[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);o(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=o?tt.call(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else y=m(y===s?y.splice(h,y.length):y),o?o(null,s,y,u):Z.apply(s,y)})}function y(e){for(var t,n,r,i=e.length,o=N.relative[e[0].type],s=o||N.relative[" "],a=o?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return tt.call(t,e)>-1},s,!0),c=[function(e,n,r){return!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>a;a++)if(n=N.relative[e[a].type])c=[h(g(c),n)];else{if(n=N.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!N.relative[e[r].type];r++);return v(a>1&&g(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&d(e))}c.push(n)}return g(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=j,x=r||o&&N.find.TAG("*",l),b=B+=null==y?1:Math.random()||.1,w=x.length;for(l&&(j=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(B=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=J.call(u));v=m(v)}Z.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(B=b,j=y),g};return i?r(s):s}function b(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function w(e,t,n,r){var i,o,s,a,u,l=p(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&C.getById&&9===t.nodeType&&O&&N.relative[o[1].type]){if(t=(N.find.ID(s.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(s=o[i],!N.relative[a=s.type]);)if((u=N.find[a])&&(r=u(s.matches[0].replace(wt,Tt),xt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return Z.apply(n,r),n;break}}return D(e,l)(r,t,!O,n,xt.test(e)&&c(t.parentNode)||t),n}var T,C,N,k,E,D,j,S,A,L,q,H,O,F,P,M,R,W="sizzle"+-new Date,$=e.document,B=0,I=0,_=n(),X=n(),z=n(),U=function(e,t){return e===t&&(A=!0),0},V="undefined",Y=1<<31,G={}.hasOwnProperty,Q=[],J=Q.pop,K=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),st="\\["+rt+"*("+it+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+rt+"*\\]",at=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),lt=new RegExp("^"+rt+"*,"+rt+"*"),ct=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ft=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),pt=new RegExp(at),dt=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(Q=et.call($.childNodes),$.childNodes),Q[$.childNodes.length].nodeType}catch(Ct){Z={apply:Q.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}C=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:$,r=n.defaultView;return n!==q&&9===n.nodeType&&n.documentElement?(q=n,H=n.documentElement,O=!E(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){L()},!1):r.attachEvent&&r.attachEvent("onunload",function(){L()})),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=i(function(e){return H.appendChild(e).id=W,!n.getElementsByName||!n.getElementsByName(W).length}),C.getById?(N.find.ID=function(e,t){if(typeof t.getElementById!==V&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},N.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&O?t.getElementsByClassName(e):void 0},P=[],F=[],(C.qsa=vt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&F.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(C.matchesSelector=vt.test(M=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){C.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),P.push("!=",at)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=vt.test(H.compareDocumentPosition),R=t||vt.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!C.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===$&&R($,e)?-1:t===n||t.ownerDocument===$&&R($,t)?1:S?tt.call(S,e)-tt.call(S,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:S?tt.call(S,e)-tt.call(S,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},n):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(ft,"='$1']"),!(!C.matchesSelector||!O||P&&P.test(n)||F&&F.test(n)))try{var r=M.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=N.attrHandle[t.toLowerCase()],r=n&&G.call(N.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:C.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!C.detectDuplicates,S=!C.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},N=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&pt.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===B&&l[1],p=l[0]===B&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[B,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===B)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[B,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=N.pseudos[e]||N.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],N.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=tt.call(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(ut,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},N.pseudos.nth=N.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[T]=a(T);for(T in{submit:!0,reset:!0})N.pseudos[T]=u(T);return f.prototype=N.filters=N.pseudos,N.setFilters=new f,D=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=p(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=z(e,x(i,r))}return o},C.sortStable=W.split("").sort(U).join("")===W,C.detectDuplicates=!!A,L(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);et.find=it,et.expr=it.selectors,et.expr[":"]=et.expr.pseudos,et.unique=it.uniqueSort,et.text=it.getText,et.isXMLDoc=it.isXML,et.contains=it.contains;var ot=et.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;et.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?et.find.matchesSelector(r,e)?[r]:[]:et.find.matches(e,et.grep(t,function(e){return 1===e.nodeType}))},et.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(et(e).filter(function(){for(t=0;n>t;t++)if(et.contains(i[t],this))return!0}));for(t=0;n>t;t++)et.find(e,i[t],r);return r=this.pushStack(n>1?et.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r
},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?et(e):e||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=et.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:lt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof et?t[0]:t,et.merge(this,et.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),st.test(n[1])&&et.isPlainObject(t))for(n in t)et.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):et.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(et):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),et.makeArray(e,this))};ct.prototype=et.fn,ut=et(K);var ft=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};et.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&et(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),et.fn.extend({has:function(e){var t=et(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(et.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ot.test(e)||"string"!=typeof e?et(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&et.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?et.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(et(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(et.unique(et.merge(this.get(),et(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),et.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return et.dir(e,"parentNode")},parentsUntil:function(e,t,n){return et.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return et.dir(e,"nextSibling")},prevAll:function(e){return et.dir(e,"previousSibling")},nextUntil:function(e,t,n){return et.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return et.dir(e,"previousSibling",n)},siblings:function(e){return et.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return et.sibling(e.firstChild)},contents:function(e){return e.contentDocument||et.merge([],e.childNodes)}},function(e,t){et.fn[e]=function(n,r){var i=et.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=et.filter(r,i)),this.length>1&&(pt[e]||et.unique(i),ft.test(e)&&i.reverse()),this.pushStack(i)}});var dt=/\S+/g,ht={};et.Callbacks=function(e){e="string"==typeof e?ht[e]||o(e):et.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(t){et.each(t,function(t,n){var r=et.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&et.each(arguments,function(e,t){for(var n;(n=et.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?et.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},et.extend({Deferred:function(e){var t=[["resolve","done",et.Callbacks("once memory"),"resolved"],["reject","fail",et.Callbacks("once memory"),"rejected"],["notify","progress",et.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return et.Deferred(function(n){et.each(t,function(t,o){var s=et.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&et.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?et.extend(e,r):r}},i={};return r.pipe=r.then,et.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&et.isFunction(e.promise)?s:0,u=1===a?e:et.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&et.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var gt;et.fn.ready=function(e){return et.ready.promise().done(e),this},et.extend({isReady:!1,readyWait:1,holdReady:function(e){e?et.readyWait++:et.ready(!0)},ready:function(e){(e===!0?--et.readyWait:et.isReady)||(et.isReady=!0,e!==!0&&--et.readyWait>0||(gt.resolveWith(K,[et]),et.fn.trigger&&et(K).trigger("ready").off("ready")))}}),et.ready.promise=function(t){return gt||(gt=et.Deferred(),"complete"===K.readyState?setTimeout(et.ready):(K.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),gt.promise(t)},et.ready.promise();var mt=et.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===et.type(n)){i=!0;for(a in n)et.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,et.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(et(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};et.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=et.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,et.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(et.isEmptyObject(o))et.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,et.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{et.isArray(t)?r=t.concat(t.map(et.camelCase)):(i=et.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(dt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!et.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,yt=new a,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;et.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),et.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)r=s[n].name,0===r.indexOf("data-")&&(r=et.camelCase(r.slice(5)),u(o,r,i[r]));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){yt.set(this,e)}):mt(this,function(t){var n,r=et.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),et.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||et.isArray(n)?r=vt.access(e,t,et.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=et.queue(e,t),r=n.length,i=n.shift(),o=et._queueHooks(e,t),s=function(){et.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:et.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),et.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?et.queue(this[0],e):void 0===t?this:this.each(function(){var n=et.queue(this,e,t);et._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&et.dequeue(this,e)})},dequeue:function(e){return this.each(function(){et.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=et.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=vt.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===et.css(e,"display")||!et.contains(e.ownerDocument,e)},Nt=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var kt="undefined";J.focusinBubbles="onfocusin"in e;var Et=/^key/,Dt=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,St=/^([^.]*)(?:\.(.+)|)$/;et.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=et.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof et!==kt&&et.event.triggered!==t.type?et.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(dt)||[""],l=t.length;l--;)a=St.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=et.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=et.event.special[d]||{},c=et.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&et.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),et.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.hasData(e)&&vt.get(e);if(m&&(u=m.events)){for(t=(t||"").match(dt)||[""],l=t.length;l--;)if(a=St.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=et.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||et.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)et.event.remove(e,d+t[l],n,r,!0);et.isEmptyObject(u)&&(delete m.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||K],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!jt.test(d+et.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[et.expando]?t:new et.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:et.makeArray(n,[t]),f=et.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!et.isWindow(r)){for(u=f.delegateType||d,jt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||K)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(vt.get(s,"events")||{})[t.type]&&vt.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&et.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!et.acceptData(r)||l&&et.isFunction(r[d])&&!et.isWindow(r)&&(a=r[l],a&&(r[l]=null),et.event.triggered=d,r[d](),et.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=et.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(vt.get(this,"events")||{})[e.type]||[],l=et.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=et.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((et.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?et(i,this).index(u)>=0:et.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[et.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Dt.test(i)?this.mouseHooks:Et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new et.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&et.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return et.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=et.extend(new et.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?et.event.trigger(i,null,t):et.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},et.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},et.Event=function(e,t){return this instanceof et.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&et.extend(this,t),this.timeStamp=e&&e.timeStamp||et.now(),void(this[et.expando]=!0)):new et.Event(e,t)},et.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},et.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){et.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!et.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||et.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){et.event.simulate(t,e.target,et.event.fix(e),!0)};et.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,t);i||r.addEventListener(e,n,!0),vt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,t)-1;i?vt.access(r,t,i):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),et.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return et().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=et.guid++)),this.each(function(){et.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,et(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){et.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){et.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?et.event.trigger(e,t,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,qt=/<|&#?\w+;/,Ht=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Pt=/^true\/(.*)/,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rt.optgroup=Rt.option,Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td,et.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=et.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||et.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if(i=e[p],i||0===i)if("object"===et.type(i))et.merge(f,i.nodeType?[i]:i);else if(qt.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Lt.exec(i)||["",""])[1].toLowerCase(),a=Rt[s]||Rt._default,o.innerHTML=a[1]+i.replace(At,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;et.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===et.inArray(i,r))&&(u=et.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Ft.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o,s,a=et.event.special,u=0;void 0!==(n=e[u]);u++){if(et.acceptData(n)&&(o=n[vt.expando],o&&(t=vt.cache[o]))){if(r=Object.keys(t.events||{}),r.length)for(s=0;void 0!==(i=r[s]);s++)a[i]?et.event.remove(n,i):et.removeEvent(n,i,t.handle);vt.cache[o]&&delete vt.cache[o]}delete yt.cache[n[yt.expando]]}}}),et.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?et.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?et.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||et.cleanData(v(n)),n.parentNode&&(t&&et.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(et.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return et.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ht.test(e)&&!Rt[(Lt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(At,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(et.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,et.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=et.isFunction(p);if(g||l>1&&"string"==typeof p&&!J.checkClone&&Ot.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=et.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=et.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==f&&(s=et.clone(s,!0,!0),o&&et.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,et.map(i,h),u=0;o>u;u++)s=i[u],Ft.test(s.type||"")&&!vt.access(s,"globalEval")&&et.contains(a,s)&&(s.src?et._evalUrl&&et._evalUrl(s.src):et.globalEval(s.textContent.replace(Mt,"")))}return this}}),et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){et.fn[e]=function(e){for(var n,r=[],i=et(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),et(i[s])[t](n),z.apply(r,n.get());return this.pushStack(r)}});var Wt,$t={},Bt=/^margin/,It=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),_t=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",o.appendChild(s);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,o.removeChild(s)}var n,r,i="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=K.documentElement,s=K.createElement("div"),a=K.createElement("div");a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(a),e.getComputedStyle&&et.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(K.createElement("div"));return n.style.cssText=a.style.cssText=i,n.style.marginRight=n.style.width="0",a.style.width="1px",o.appendChild(s),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(s),a.innerHTML="",t}})}(),et.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var Xt=/^(none|table(?!-c[ea]).+)/,zt=new RegExp("^("+wt+")(.*)$","i"),Ut=new RegExp("^([+-])=("+wt+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Gt=["Webkit","O","Moz","ms"];et.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=et.camelCase(t),u=e.style;return t=et.cssProps[a]||(et.cssProps[a]=C(u,a)),s=et.cssHooks[t]||et.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(et.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||et.cssNumber[a]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]="",u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=et.camelCase(t);return t=et.cssProps[a]||(et.cssProps[a]=C(e.style,a)),s=et.cssHooks[t]||et.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Yt&&(i=Yt[t]),""===n||n?(o=parseFloat(i),n===!0||et.isNumeric(o)?o||0:i):i}}),et.each(["height","width"],function(e,t){et.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&Xt.test(et.css(e,"display"))?et.swap(e,Vt,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&_t(e);return N(e,n,r?k(e,t,r,"border-box"===et.css(e,"boxSizing",!1,i),i):0)}}}),et.cssHooks.marginRight=T(J.reliableMarginRight,function(e,t){return t?et.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),et.each({margin:"",padding:"",border:"Width"},function(e,t){et.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Tt[r]+t]=o[r]||o[r-2]||o[0];return i}},Bt.test(e)||(et.cssHooks[e+t].set=N)}),et.fn.extend({css:function(e,t){return mt(this,function(e,t,n){var r,i,o={},s=0;if(et.isArray(t)){for(r=_t(e),i=t.length;i>s;s++)o[t[s]]=et.css(e,t[s],!1,r);return o}return void 0!==n?et.style(e,t,n):et.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?et(this).show():et(this).hide()})}}),et.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(et.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?et.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=et.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){et.fx.step[e.prop]?et.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[et.cssProps[e.prop]]||et.cssHooks[e.prop])?et.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},et.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},et.fx=j.prototype.init,et.fx.step={};var Qt,Jt,Kt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[q],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Zt.exec(t),o=i&&i[3]||(et.cssNumber[e]?"":"px"),s=(et.cssNumber[e]||"px"!==o&&+r)&&Zt.exec(et.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,et.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};et.Animation=et.extend(O,{tweener:function(e,t){et.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),et.speed=function(e,t,n){var r=e&&"object"==typeof e?et.extend({},e):{complete:n||!n&&t||et.isFunction(e)&&e,duration:e,easing:n&&t||t&&!et.isFunction(t)&&t};return r.duration=et.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in et.fx.speeds?et.fx.speeds[r.duration]:et.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){et.isFunction(r.old)&&r.old.call(this),r.queue&&et.dequeue(this,r.queue)},r},et.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=et.isEmptyObject(e),o=et.speed(t,n,r),s=function(){var t=O(this,et.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=et.timers,s=vt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&en.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&et.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=et.timers,s=r?r.length:0;for(n.finish=!0,et.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),et.each(["toggle","show","hide"],function(e,t){var n=et.fn[t];et.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)
}}),et.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){et.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),et.timers=[],et.fx.tick=function(){var e,t=0,n=et.timers;for(Qt=et.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||et.fx.stop(),Qt=void 0},et.fx.timer=function(e){et.timers.push(e),e()?et.fx.start():et.timers.pop()},et.fx.interval=13,et.fx.start=function(){Jt||(Jt=setInterval(et.fx.tick,et.fx.interval))},et.fx.stop=function(){clearInterval(Jt),Jt=null},et.fx.speeds={slow:600,fast:200,_default:400},et.fn.delay=function(e,t){return e=et.fx?et.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rn,on,sn=et.expr.attrHandle;et.fn.extend({attr:function(e,t){return mt(this,et.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){et.removeAttr(this,e)})}}),et.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===kt?et.prop(e,t,n):(1===o&&et.isXMLDoc(e)||(t=t.toLowerCase(),r=et.attrHooks[t]||(et.expr.match.bool.test(t)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=et.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void et.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[i++];)r=et.propFix[n]||n,et.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&et.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?et.removeAttr(e,n):e.setAttribute(n,n),n}},et.each(et.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||et.find.attr;sn[t]=function(e,t,r){var i,o;return r||(o=sn[t],sn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,sn[t]=o),i}});var an=/^(?:input|select|textarea|button)$/i;et.fn.extend({prop:function(e,t){return mt(this,et.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[et.propFix[e]||e]})}}),et.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!et.isXMLDoc(e),o&&(t=et.propFix[t]||t,i=et.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(et.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){et.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;et.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(et.isFunction(e))return this.each(function(t){et(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=et.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(et.isFunction(e))return this.each(function(t){et(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?et.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(et.isFunction(e)?function(n){et(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=et(this),o=e.match(dt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===kt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var ln=/\r/g;et.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=et.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,et(this).val()):e,null==i?i="":"number"==typeof i?i+="":et.isArray(i)&&(i=et.map(i,function(e){return null==e?"":e+""})),t=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=et.valHooks[i.type]||et.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),et.extend({valHooks:{select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&et.nodeName(n.parentNode,"optgroup"))){if(t=et(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=et.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=et.inArray(et(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),et.each(["radio","checkbox"],function(){et.valHooks[this]={set:function(e,t){return et.isArray(t)?e.checked=et.inArray(et(e).val(),t)>=0:void 0}},J.checkOn||(et.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),et.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){et.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),et.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=et.now(),fn=/\?/;et.parseJSON=function(e){return JSON.parse(e+"")},et.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&et.error("Invalid XML: "+e),t};var pn,dn,hn=/#.*$/,gn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,xn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wn={},Tn={},Cn="*/".concat("*");try{dn=location.href}catch(Nn){dn=K.createElement("a"),dn.href="",dn=dn.href}pn=bn.exec(dn.toLowerCase())||[],et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dn,type:"GET",isLocal:vn.test(pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":et.parseJSON,"text xml":et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,et.ajaxSettings),t):M(et.ajaxSettings,e)},ajaxPrefilter:F(wn),ajaxTransport:F(Tn),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=R(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(et.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(et.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--et.active||et.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=et.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?et(p):et.event,h=et.Deferred(),g=et.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=mn.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||dn)+"").replace(hn,"").replace(xn,pn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=et.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=bn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===pn[1]&&u[2]===pn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(pn[3]||("http:"===pn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=et.param(f.data,f.traditional)),P(wn,f,t,w),2===x)return w;l=f.global,l&&0===et.active++&&et.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!yn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=gn.test(i)?i.replace(gn,"$1_="+cn++):i+(fn.test(i)?"&":"?")+"_="+cn++)),f.ifModified&&(et.lastModified[i]&&w.setRequestHeader("If-Modified-Since",et.lastModified[i]),et.etag[i]&&w.setRequestHeader("If-None-Match",et.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Cn+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(Tn,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return et.get(e,t,n,"json")},getScript:function(e,t){return et.get(e,void 0,t,"script")}}),et.each(["get","post"],function(e,t){et[t]=function(e,n,r,i){return et.isFunction(n)&&(i=i||r,r=n,n=void 0),et.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){et.fn[t]=function(e){return this.on(t,e)}}),et._evalUrl=function(e){return et.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},et.fn.extend({wrapAll:function(e){var t;return et.isFunction(e)?this.each(function(t){et(this).wrapAll(e.call(this,t))}):(this[0]&&(t=et(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(et.isFunction(e)?function(t){et(this).wrapInner(e.call(this,t))}:function(){var t=et(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=et.isFunction(e);return this.each(function(n){et(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){et.nodeName(this,"body")||et(this).replaceWith(this.childNodes)}).end()}}),et.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},et.expr.filters.visible=function(e){return!et.expr.filters.hidden(e)};var kn=/%20/g,En=/\[\]$/,Dn=/\r?\n/g,jn=/^(?:submit|button|image|reset|file)$/i,Sn=/^(?:input|select|textarea|keygen)/i;et.param=function(e,t){var n,r=[],i=function(e,t){t=et.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray(e)||e.jquery&&!et.isPlainObject(e))et.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(kn,"+")},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=et.prop(this,"elements");return e?et.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!et(this).is(":disabled")&&Sn.test(this.nodeName)&&!jn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=et(this).val();return null==n?null:et.isArray(n)?et.map(n,function(e){return{name:t.name,value:e.replace(Dn,"\r\n")}}):{name:t.name,value:n.replace(Dn,"\r\n")}}).get()}}),et.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var An=0,Ln={},qn={0:200,1223:204},Hn=et.ajaxSettings.xhr();e.ActiveXObject&&et(e).on("unload",function(){for(var e in Ln)Ln[e]()}),J.cors=!!Hn&&"withCredentials"in Hn,J.ajax=Hn=!!Hn,et.ajaxTransport(function(e){var t;return J.cors||Hn&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++An;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Ln[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(qn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Ln[s]=t("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:void 0}),et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return et.globalEval(e),e}}}),et.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),et.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=et("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var On=[],Fn=/(=)\?(?=&|$)|\?\?/;et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||et.expando+"_"+cn++;return this[e]=!0,e}}),et.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Fn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=et.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Fn,"$1"+i):t.jsonp!==!1&&(t.url+=(fn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||et.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,On.push(i)),s&&et.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),et.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var r=st.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=et.buildFragment([e],t,i),i&&i.length&&et(i).remove(),et.merge([],r.childNodes))};var Pn=et.fn.load;et.fn.load=function(e,t,n){if("string"!=typeof e&&Pn)return Pn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),et.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&et.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?et("<div>").append(et.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},et.expr.filters.animated=function(e){return et.grep(et.timers,function(t){return e===t.elem}).length};var Mn=e.document.documentElement;et.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=et.css(e,"position"),f=et(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=et.css(e,"top"),u=et.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),et.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},et.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){et.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,et.contains(t,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===et.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),et.nodeName(e[0],"html")||(r=e.offset()),r.top+=et.css(e[0],"borderTopWidth",!0),r.left+=et.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-et.css(n,"marginTop",!0),left:t.left-r.left-et.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Mn;e&&!et.nodeName(e,"html")&&"static"===et.css(e,"position");)e=e.offsetParent;return e||Mn})}}),et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;et.fn[t]=function(i){return mt(this,function(t,i,o){var s=B(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),et.each(["top","left"],function(e,t){et.cssHooks[t]=T(J.pixelPosition,function(e,n){return n?(n=w(e,t),It.test(n)?et(e).position()[t]+"px":n):void 0})}),et.each({Height:"height",Width:"width"},function(e,t){et.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){et.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return mt(this,function(t,n,r){var i;return et.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?et.css(t,n,s):et.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),et.fn.size=function(){return this.length},et.fn.andSelf=et.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return et});var Rn=e.jQuery,Wn=e.$;return et.noConflict=function(t){return e.$===et&&(e.$=Wn),t&&e.jQuery===et&&(e.jQuery=Rn),et},typeof t===kt&&(e.jQuery=e.$=et),et});
},{}],8:[function(require,module,exports){
"use strict";function arrayFirst(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r)===!0)return e[r];return!1}function yankError(e){return function(t,r){t||r[0].error?call(e,t||r[0]):call(e,null,r[0])}}function computeHeight(e){var t={},r=[];return merge.traverseRevTree(e,function(e,i,o,a){var n=i+"-"+o;return e&&(t[n]=0),void 0!==a&&r.push({from:a,to:n}),n}),r.reverse(),r.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}var utils=require("./utils"),merge=require("./merge"),errors=require("./deps/errors"),call=utils.call;module.exports=function(Pouch){return function(opts,callback){function autoCompact(e){return auto_compaction?function(t,r){if(t)call(e,t);else{var i=r.length,o=function(){i--,i||call(e,null,r)};r.forEach(function(e){e.ok?compactDocument(e.id,1,o):o()})}}:e}function compactDocument(e,t,r){customApi._getRevisionTree(e,function(i,o){if(i)return call(r);var a=computeHeight(o),n=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&n.push(e)}),merge.traverseRevTree(o,function(e,t,r,i,o){var a=t+"-"+r;"available"===o.status&&-1!==n.indexOf(a)&&(o.status="missing",s.push(a))}),customApi._doCompaction(e,o,s,r)})}function processChange(e,t,r){var i=[{rev:e._rev}];"all_docs"===r.style&&(i=merge.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:i,doc:e};return utils.isDeleted(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=merge.collectConflicts(t),o.doc._conflicts.length||delete o.doc._conflicts),o}var api={},customApi=Pouch.adapters[opts.adapter](opts,function(e,t){if(e)return void(callback&&callback(e));for(var r in api)t.hasOwnProperty(r)||(t[r]=api[r]);opts.name===Pouch.prefix+Pouch.ALL_DBS?callback(e,t):Pouch.open(opts,function(e){callback(e,t)})}),auto_compaction=opts.auto_compaction===!0;api.post=function(e,t,r){return"function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e)?call(r,errors.NOT_AN_OBJECT):customApi.bulkDocs({docs:[e]},t,autoCompact(yankError(r)))},api.put=function(e,t,r){return"function"==typeof t&&(r=t,t={}),"object"!=typeof e?call(r,errors.NOT_AN_OBJECT):utils.isValidId(e._id)?customApi.bulkDocs({docs:[e]},t,autoCompact(yankError(r))):call(r,errors.MISSING_ID)},api.putAttachment=function(e,t,r,i,o,a){function n(e){e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:i},api.put(e,a)}return api.taskqueue.ready()?("function"==typeof o&&(a=o,o=i,i=r,r=null),"undefined"==typeof o&&(o=i,i=r,r=null),void api.get(e,function(t,i){return t&&t.error===errors.MISSING_DOC.error?void n({_id:e}):t?void call(a,t):i._rev!==r?void call(a,errors.REV_CONFLICT):void n(i)})):void api.taskqueue.addTask("putAttachment",arguments)},api.removeAttachment=function(e,t,r,i){api.get(e,function(e,o){return e?void call(i,e):o._rev!==r?void call(i,errors.REV_CONFLICT):o._attachments?(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,void api.put(o,i)):call(i,null)})},api.remove=function(e,t,r){"function"==typeof t&&(r=t,t={}),void 0===t&&(t={}),t.was_delete=!0;var i={_id:e._id,_rev:e._rev};return i._deleted=!0,customApi.bulkDocs({docs:[i]},t,yankError(r))},api.revsDiff=function(e,t,r){function i(e,t){s[e]||(s[e]={missing:[]}),s[e].missing.push(t)}function o(t,r){var o=e[t].slice(0);merge.traverseRevTree(r,function(e,r,a,n,s){var c=r+"-"+a,u=o.indexOf(c);-1!==u&&(o.splice(u,1),"available"!==s.status&&i(t,c))}),o.forEach(function(e){i(t,e)})}"function"==typeof t&&(r=t,t={});var a=Object.keys(e),n=0,s={};a.map(function(t){customApi._getRevisionTree(t,function(i,c){if(i&&"not_found"===i.name&&"missing"===i.message)s[t]={missing:e[t]};else{if(i)return call(r,i);o(t,c)}return++n===a.length?call(r,null,s):void 0})})},api.compact=function(e,t){"function"==typeof e&&(t=e,e={}),api.changes({complete:function(e,r){if(e)return void call(t);var i=r.results.length;return i?void r.results.forEach(function(e){compactDocument(e.id,0,function(){i--,i||call(t)})}):void call(t)}})},api.get=function(e,t,r){function i(){var i=[],a=o.length;return a?void o.forEach(function(o){api.get(e,{rev:o,revs:t.revs},function(e,t){i.push(e?{missing:o}:{ok:t}),a--,a||call(r,null,i)})}):call(r,null,i)}if(!api.taskqueue.ready())return void api.taskqueue.addTask("get",arguments);"function"==typeof t&&(r=t,t={});var o=[];{if(!t.open_revs)return customApi._get(e,t,function(e,i){if(e)return call(r,e);var o=i.doc,a=i.metadata,n=i.ctx;if(t.conflicts){var s=merge.collectConflicts(a);s.length&&(o._conflicts=s)}if(t.revs||t.revs_info){var c=merge.rootToLeaf(a.rev_tree),u=arrayFirst(c,function(e){return-1!==e.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])});if(u.ids.splice(u.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1),u.ids.reverse(),t.revs&&(o._revisions={start:u.pos+u.ids.length-1,ids:u.ids.map(function(e){return e.id})}),t.revs_info){var l=u.pos+u.ids.length;o._revs_info=u.ids.map(function(e){return l--,{rev:l+"-"+e.id,status:e.opts.status}})}}if(t.local_seq&&(o._local_seq=i.metadata.seq),t.attachments&&o._attachments){var p=o._attachments,f=Object.keys(p).length;if(0===f)return call(r,null,o);Object.keys(p).forEach(function(e){customApi._getAttachment(p[e],{encode:!0,ctx:n},function(t,i){o._attachments[e].data=i,--f||call(r,null,o)})})}else{if(o._attachments)for(var d in o._attachments)o._attachments[d].stub=!0;call(r,null,o)}});if("all"===t.open_revs)customApi._getRevisionTree(e,function(e,t){e&&(t=[]),o=merge.collectLeaves(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return call(r,errors.error(errors.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var n=o[a];if("string"!=typeof n||!/^\d+-/.test(n))return call(r,errors.error(errors.BAD_REQUEST,"Invalid rev format"))}i()}}},api.getAttachment=function(e,t,r,i){return api.taskqueue.ready()?(r instanceof Function&&(i=r,r={}),void customApi._get(e,r,function(e,o){return e?call(i,e):o.doc._attachments&&o.doc._attachments[t]?(r.ctx=o.ctx,void customApi._getAttachment(o.doc._attachments[t],r,i)):call(i,errors.MISSING_DOC)})):void api.taskqueue.addTask("getAttachment",arguments)},api.allDocs=function(e,t){if(!api.taskqueue.ready())return void api.taskqueue.addTask("allDocs",arguments);if("function"==typeof e&&(t=e,e={}),"keys"in e){if("startkey"in e)return void call(t,errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `start_key` is not compatible with multi-get"));if("endkey"in e)return void call(t,errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `end_key` is not compatible with multi-get"))}return"undefined"==typeof e.skip&&(e.skip=0),customApi._allDocs(e,t)},api.changes=function(opts){if(!api.taskqueue.ready()){var task=api.taskqueue.addTask("changes",arguments);return{cancel:function(){return task.task?task.task.cancel():(Pouch.DEBUG,void(task.parameters[0].aborted=!0))}}}if(opts=utils.extend(!0,{},opts),opts.processChange=processChange,opts.since||(opts.since=0),"latest"===opts.since){var changes;return api.info(function(e,t){opts.aborted||(opts.since=t.update_seq-1,api.changes(opts))}),{cancel:function(){return changes?changes.cancel():(Pouch.DEBUG,void(opts.aborted=!0))}}}if(opts.filter&&"string"==typeof opts.filter){if("_view"===opts.filter)if(opts.view&&"string"==typeof opts.view){var viewName=opts.view.split("/");api.get("_design/"+viewName[0],function(err,ddoc){if(ddoc&&ddoc.views&&ddoc.views[viewName[1]]){var filter=eval("(function () {  return function (doc) {    var emitted = false;    var emit = function (a, b) {      emitted = true;    };    var view = "+ddoc.views[viewName[1]].map+";    view(doc);    if (emitted) {      return true;    }  }})()");opts.aborted||(opts.filter=filter,api.changes(opts))}else{var msg=ddoc.views?"missing json key: "+viewName[1]:"missing json key: views";err=err||errors.error(errors.MISSING_DOC,msg),utils.call(opts.complete,err)}})}else{var err=errors.error(errors.BAD_REQUEST,"`view` filter parameter is not provided.");utils.call(opts.complete,err)}else{var filterName=opts.filter.split("/");api.get("_design/"+filterName[0],function(err,ddoc){if(ddoc&&ddoc.filters&&ddoc.filters[filterName[1]]){var filter=eval("(function () { return "+ddoc.filters[filterName[1]]+" })()");opts.aborted||(opts.filter=filter,api.changes(opts))}else{var msg=ddoc&&ddoc.filters?"missing json key: "+filterName[1]:"missing json key: filters";err=err||errors.error(errors.MISSING_DOC,msg),utils.call(opts.complete,err)}})}return{cancel:function(){Pouch.DEBUG&&console.log("Cancel Changes Feed"),opts.aborted=!0}}}return"descending"in opts||(opts.descending=!1),opts.limit=0===opts.limit?1:opts.limit,customApi._changes(opts)},api.close=function(e){return api.taskqueue.ready()?customApi._close(e):void api.taskqueue.addTask("close",arguments)},api.info=function(e){return api.taskqueue.ready()?customApi._info(e):void api.taskqueue.addTask("info",arguments)},api.id=function(){return customApi._id()},api.type=function(){return"function"==typeof customApi._type?customApi._type():opts.adapter},api.bulkDocs=function(e,t,r){if(!api.taskqueue.ready())return void api.taskqueue.addTask("bulkDocs",arguments);if("function"==typeof t&&(r=t,t={}),t=t?utils.extend(!0,{},t):{},!e||!e.docs||e.docs.length<1)return call(r,errors.MISSING_BULK_DOCS);if(!Array.isArray(e.docs))return call(r,errors.QUERY_PARSE_ERROR);for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return call(r,errors.NOT_AN_OBJECT);return e=utils.extend(!0,{},e),"new_edits"in t||(t.new_edits=!0),customApi._bulkDocs(e,t,autoCompact(r))};var taskqueue={};taskqueue.ready=!1,taskqueue.queue=[],api.taskqueue={},api.taskqueue.execute=function(e){taskqueue.ready&&taskqueue.queue.forEach(function(t){t.task=e[t.name].apply(null,t.parameters)})},api.taskqueue.ready=function(){return 0===arguments.length?taskqueue.ready:void(taskqueue.ready=arguments[0])},api.taskqueue.addTask=function(e,t){var r={name:e,parameters:t};return taskqueue.queue.push(r),r},api.replicate={},api.replicate.from=function(e,t,r){return"function"==typeof t&&(r=t,t={}),Pouch.replicate(e,customApi,t,r)},api.replicate.to=function(e,t,r){return"function"==typeof t&&(r=t,t={}),Pouch.replicate(customApi,e,t,r)};for(var j in api)customApi.hasOwnProperty(j)||(customApi[j]=api[j]);return opts.skipSetup&&(api.taskqueue.ready(!0),api.taskqueue.execute(api)),utils.isCordova()&&cordova.fireWindowEvent(opts.name+"_pouch",{}),customApi}};
},{"./deps/errors":15,"./merge":20,"./utils":23}],9:[function(require,module,exports){
"use strict";function parseUri(e){for(var t=parseUri.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},u=14;u--;)n[t.key[u]]=r[u]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(e,r,u){r&&(n[t.q.name][r]=u)}),n}function encodeDocId(e){return/^_(design|local)/.test(e)?e:encodeURIComponent(e)}function getHost(e,t){if(/http(s?):/.test(e)){var r=parseUri(e);r.remote=!0,(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var n=r.path.replace(/(^\/|\/$)/g,"").split("/");if(r.db=n.pop(),r.path=n.join("/"),t=t||{},r.headers=t.headers||{},t.auth||r.auth){var u=t.auth||r.auth,o=utils.btoa(u.username+":"+u.password);r.headers.Authorization="Basic "+o}return t.headers&&(r.headers=t.headers),r}return{host:"",path:"/",db:e,auth:!1}}function genDBUrl(e,t){if(e.remote){var r=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+r+e.db+"/"+t}return"/"+e.db+"/"+t}function genUrl(e,t){if(e.remote){var r=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+r+t}return"/"+t}function HttpPouch(e,t){function r(e,t){return utils.ajax(utils.extend({},s,e),t)}var n=getHost(e.name,e),u=genDBUrl(n,""),o={},s=e.ajax||{},a={list:[],get:function(e,t){"function"==typeof e&&(t=e,e={count:10});var u=function(e,r){!e&&"uuids"in r?(a.list=a.list.concat(r.uuids),utils.call(t,null,"OK")):utils.call(t,e||errors.UNKNOWN_ERROR)},o="?count="+e.count;r({headers:n.headers,method:"GET",url:genUrl(n,"_uuids")+o},u)}},i=function(){r({headers:n.headers,method:"PUT",url:u},function(e){e&&401===e.status?r({headers:n.headers,method:"HEAD",url:u},function(e){e?utils.call(t,e):utils.call(t,null,o)}):e&&412!==e.status?utils.call(t,errors.UNKNOWN_ERROR):utils.call(t,null,o)})};return e.skipSetup||r({headers:n.headers,method:"GET",url:u},function(e){e?404===e.status?i():utils.call(t,e):utils.call(t,null,o)}),o.type=function(){return"http"},o.id=function(){return genDBUrl(n,"")},o.request=function(e,t){return o.taskqueue.ready()?(e.headers=n.headers,e.url=genDBUrl(n,e.url),void r(e,t)):void o.taskqueue.addTask("request",arguments)},o.compact=function(e,t){return o.taskqueue.ready()?("function"==typeof e&&(t=e,e={}),void r({headers:n.headers,url:genDBUrl(n,"_compact"),method:"POST"},function(){function r(){o.info(function(n,u){u.compact_running?setTimeout(r,e.interval||200):utils.call(t,null)})}"function"==typeof t&&r()})):void o.taskqueue.addTask("compact",arguments)},o.info=function(e){return o.taskqueue.ready()?void r({headers:n.headers,method:"GET",url:genDBUrl(n,"")},e):void o.taskqueue.addTask("info",arguments)},o.get=function(e,t,u){if(!o.taskqueue.ready())return void o.taskqueue.addTask("get",arguments);"function"==typeof t&&(u=t,t={}),void 0===t.auto_encode&&(t.auto_encode=!0);var s=[];t.revs&&s.push("revs=true"),t.revs_info&&s.push("revs_info=true"),t.local_seq&&s.push("local_seq=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),s.push("open_revs="+t.open_revs)),t.attachments&&s.push("attachments=true"),t.rev&&s.push("rev="+t.rev),t.conflicts&&s.push("conflicts="+t.conflicts),s=s.join("&"),s=""===s?"":"?"+s,t.auto_encode&&(e=encodeDocId(e));var a={headers:n.headers,method:"GET",url:genDBUrl(n,e+s)},i=e.split("/");(i.length>1&&"_design"!==i[0]&&"_local"!==i[0]||i.length>2&&"_design"===i[0]&&"_local"!==i[0])&&(a.binary=!0),r(a,function(e,t,r){return e?utils.call(u,e):void utils.call(u,null,t,r)})},o.remove=function(e,t,u){return o.taskqueue.ready()?("function"==typeof t&&(u=t,t={}),void r({headers:n.headers,method:"DELETE",url:genDBUrl(n,encodeDocId(e._id))+"?rev="+e._rev},u)):void o.taskqueue.addTask("remove",arguments)},o.getAttachment=function(e,t,r,n){"function"==typeof r&&(n=r,r={}),void 0===r.auto_encode&&(r.auto_encode=!0),r.auto_encode&&(e=encodeDocId(e)),r.auto_encode=!1,o.get(e+"/"+t,r,n)},o.removeAttachment=function(e,t,u,s){return o.taskqueue.ready()?void r({headers:n.headers,method:"DELETE",url:genDBUrl(n,encodeDocId(e)+"/"+t)+"?rev="+u},s):void o.taskqueue.addTask("removeAttachment",arguments)},o.putAttachment=function(e,t,u,s,a,i){if(!o.taskqueue.ready())return void o.taskqueue.addTask("putAttachment",arguments);"function"==typeof a&&(i=a,a=s,s=u,u=null),"undefined"==typeof a&&(a=s,s=u,u=null);var l=encodeDocId(e)+"/"+t,d=genDBUrl(n,l);u&&(d+="?rev="+u);var c={headers:n.headers,method:"PUT",url:d,processData:!1,body:s,timeout:6e4};c.headers["Content-Type"]=a,r(c,i)},o.put=function(e,t,u){if(!o.taskqueue.ready())return void o.taskqueue.addTask("put",arguments);if("function"==typeof t&&(u=t,t={}),"object"!=typeof e)return utils.call(u,errors.NOT_AN_OBJECT);if(!utils.isValidId(e._id))return utils.call(u,errors.MISSING_ID);var s=[];t&&"undefined"!=typeof t.new_edits&&s.push("new_edits="+t.new_edits),s=s.join("&"),""!==s&&(s="?"+s),r({headers:n.headers,method:"PUT",url:genDBUrl(n,encodeDocId(e._id))+s,body:e},u)},o.post=function(e,t,r){return o.taskqueue.ready()?("function"==typeof t&&(r=t,t={}),"object"!=typeof e?utils.call(r,errors.NOT_AN_OBJECT):void("_id"in e?o.put(e,t,r):a.list.length>0?(e._id=a.list.pop(),o.put(e,t,r)):a.get(function(n){return n?utils.call(r,errors.UNKNOWN_ERROR):(e._id=a.list.pop(),void o.put(e,t,r))}))):void o.taskqueue.addTask("post",arguments)},o.bulkDocs=function(e,t,u){return o.taskqueue.ready()?("function"==typeof t&&(u=t,t={}),t||(t={}),"undefined"!=typeof t.new_edits&&(e.new_edits=t.new_edits),void r({headers:n.headers,method:"POST",url:genDBUrl(n,"_bulk_docs"),body:e},u)):void o.taskqueue.addTask("bulkDocs",arguments)},o.allDocs=function(e,t){if(!o.taskqueue.ready())return void o.taskqueue.addTask("allDocs",arguments);"function"==typeof e&&(t=e,e={});var u,s=[],a="GET";e.conflicts&&s.push("conflicts=true"),e.descending&&s.push("descending=true"),e.include_docs&&s.push("include_docs=true"),e.startkey&&s.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&s.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),e.limit&&s.push("limit="+e.limit),"undefined"!=typeof e.skip&&s.push("skip="+e.skip),s=s.join("&"),""!==s&&(s="?"+s),"undefined"!=typeof e.keys&&(a="POST",u=JSON.stringify({keys:e.keys})),r({headers:n.headers,method:a,url:genDBUrl(n,"_all_docs"+s),body:u},t)},o.changes=function(e){var t=25;if(!o.taskqueue.ready()){var u=o.taskqueue.addTask("changes",arguments);return{cancel:function(){return u.task?u.task.cancel():void(u.parameters[0].aborted=!0)}}}if("latest"===e.since){var s;return o.info(function(t,r){e.aborted||(e.since=r.update_seq,s=o.changes(e))}),{cancel:function(){return s?s.cancel():void(e.aborted=!0)}}}var a={},i="undefined"!=typeof e.limit?e.limit:!1;0===i&&(i=1);var l=i;if(e.style&&(a.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(a.include_docs=!0),e.continuous&&(a.feed="longpoll"),e.conflicts&&(a.conflicts=!0),e.descending&&(a.descending=!0),e.filter&&"string"==typeof e.filter&&(a.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(a.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var d in e.query_params)e.query_params.hasOwnProperty(d)&&(a[d]=e.query_params[d]);var c,f,p,h,v=function(u,o){a.since=u,e.continuous||h||(h=p),a.limit=!i||l>t?t:l;var s="?"+Object.keys(a).map(function(e){return e+"="+a[e]}).join("&"),d={headers:n.headers,method:"GET",url:genDBUrl(n,"_changes"+s),timeout:null};f=u,e.aborted||(c=r(d,o))},_=10,y=0,m={results:[]},g=function(r,n){if(n&&n.results){m.last_seq=n.last_seq;var u={};u.query=e.query_params,n.results=n.results.filter(function(t){l--;var r=utils.filterChange(e)(t);return r&&(m.results.push(t),utils.call(e.onChange,t)),r})}else r&&(e.aborted=!0,utils.call(e.complete,r,null));n&&n.last_seq&&(f=n.last_seq);var o=n&&n.results.length||0;h-=t;var s=i&&0>=l||n&&!o&&0>=h||o&&n.last_seq===p||e.descending&&0!==f;if(e.continuous||!s){r?y+=1:y=0;var a=1<<y,d=_*a,c=e.maximumWait||3e4;d>c&&utils.call(e.complete,r||errors.UNKNOWN_ERROR,null),setTimeout(function(){v(f,g)},d)}else utils.call(e.complete,null,m)};return e.continuous?v(e.since||0,g):o.info(function(t,r){return t?utils.call(e.complete,t):(p=r.update_seq,void v(e.since||0,g))}),{cancel:function(){e.aborted=!0,c.abort()}}},o.revsDiff=function(e,t,u){return o.taskqueue.ready()?("function"==typeof t&&(u=t,t={}),void r({headers:n.headers,method:"POST",url:genDBUrl(n,"_revs_diff"),body:e},function(e,t){utils.call(u,e,t)})):void o.taskqueue.addTask("revsDiff",arguments)},o.close=function(e){return o.taskqueue.ready()?void utils.call(e,null):void o.taskqueue.addTask("close",arguments)},o.replicateOnServer=function(e,u,s){if(!o.taskqueue.ready())return o.taskqueue.addTask("replicateOnServer",arguments),s;var a=getHost(e.id()),i={source:n.db,target:a.protocol===n.protocol&&a.authority===n.authority?a.db:a.source};u.continuous&&(i.continuous=!0),u.create_target&&(i.create_target=!0),u.doc_ids&&(i.doc_ids=u.doc_ids),u.filter&&"string"==typeof u.filter&&(i.filter=u.filter),u.query_params&&(i.query_params=u.query_params);var l,d={},c={headers:n.headers,method:"POST",url:n.protocol+"://"+n.host+(80===n.port?"":":"+n.port)+"/_replicate",body:i};s.cancel=function(){this.cancelled=!0,l&&!d.ok&&l.abort(),d._local_id&&(c.body={replication_id:d._local_id}),c.body.cancel=!0,r(c,function(e,r,n){return e?utils.call(t,e):void utils.call(u.complete,null,d,n)})},s.cancelled||(l=r(c,function(e,r,n){return e?utils.call(t,e):(d.ok=!0,r._local_id&&(d._local_id=r._local_id),void utils.call(u.complete,null,r,n))}))},o}var utils=require("../utils"),errors=require("../deps/errors");parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},HttpPouch.destroy=function(e,t,r){var n=getHost(e,t);t=t||{},"function"==typeof t&&(r=t,t={}),t.headers=n.headers,t.method="DELETE",t.url=genDBUrl(n,""),utils.ajax(t,r)},HttpPouch.valid=function(){return!0},module.exports=HttpPouch;
},{"../deps/errors":15,"../utils":23}],10:[function(require,module,exports){
"use strict";function idbError(e){return function(t){utils.call(e,errors.error(errors.IDB_ERROR,t.target,t.type))}}function IdbPouch(e,t){function n(e){e.createObjectStore(i,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),e.createObjectStore(c,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(s,{keyPath:"digest"}),e.createObjectStore(u,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(d)}function r(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;t>o;o++)r[o]=e.charCodeAt(o);return n}function o(e,t){return e._bulk_seq-t._bulk_seq}var a=1,i="document-store",c="by-sequence",s="attach-store",u="meta-store",d="detect-blob-support",l=e.name,f=window.indexedDB.open(l,a);"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.openReqList[l]=f;var v=null,_=null,g={},h=null;return f.onupgradeneeded=function(e){for(var t=e.target.result,r=e.oldVersion;r!==e.newVersion;)0===r&&n(t),r++},f.onsuccess=function(e){h=e.target.result,h.onversionchange=function(){h.close()};var n=h.transaction([u,d],"readwrite"),r=n.objectStore(u).get(u);r.onsuccess=function(e){var r=e.target.result||{id:u};l+"_id"in r?_=r[l+"_id"]:(_=utils.uuid(),r[l+"_id"]=_,n.objectStore(u).put(r));try{n.objectStore(d).put(utils.createBlob(),"key"),v=!0}catch(o){v=!1}finally{utils.call(t,null,g)}}},f.onerror=idbError(t),g.type=function(){return"idb"},g.id=function(){return _},g._bulkDocs=function(e,t,n){function a(e){var t=e.target.result;t.updateSeq=(t.updateSeq||0)+D,k.objectStore(u).put(t)}function d(){if(!j.length)return void(k.objectStore(u).get(u).onsuccess=a);var e=j.shift(),t=k.objectStore(i).get(e.metadata.id);t.onsuccess=function(t){var n=t.target.result;n?p(n,e):m(e)}}function f(){var e=[];R.sort(o),R.forEach(function(t){if(delete t._bulk_seq,t.error)return void e.push(t);var n=t.metadata,r=merge.winningRev(n);e.push({ok:!0,id:n.id,rev:r}),utils.isLocalId(n.id)||(IdbPouch.Changes.notify(l),IdbPouch.Changes.notifyLocalWindows(l))}),utils.call(n,null,e)}function _(e,t){if(e.stub)return t();if("string"==typeof e.data){var o;try{o=atob(e.data)}catch(a){var i=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return utils.call(n,i)}if(e.digest="md5-"+utils.Crypto.MD5(o),v){var c=e.content_type;o=r(o),e.data=utils.createBlob([o],{type:c})}return t()}var s=new FileReader;s.onloadend=function(){e.digest="md5-"+utils.Crypto.MD5(this.result),v||(e.data=btoa(this.result)),t()},s.readAsBinaryString(e.data)}function g(e){function t(){n++,j.length===n&&e()}if(!j.length)return e();var n=0;j.forEach(function(e){function n(){o++,o===r.length&&t()}var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!r.length)return t();var o=0;for(var a in e.data._attachments)_(e.data._attachments[a],n)})}function b(e,t){function n(e){a||(e?(a=e,utils.call(t,a)):s===u.length&&o())}function r(e){s++,n(e)}function o(){e.data._doc_id_rev=e.data._id+"::"+e.data._rev;var n=k.objectStore(c).put(e.data);n.onsuccess=function(n){e.metadata.seq=n.target.result,delete e.metadata.rev;var r=k.objectStore(i).put(e.metadata);r.onsuccess=function(){R.push(e),utils.call(t)}}}var a=null,s=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,D++,utils.isDeleted(e.metadata,e.metadata.rev)&&(e.data._deleted=!0);var u=e.data._attachments?Object.keys(e.data._attachments):[];for(var d in e.data._attachments)if(e.data._attachments[d].stub)s++,n();else{var l=e.data._attachments[d].data;delete e.data._attachments[d].data;var f=e.data._attachments[d].digest;I(e,f,l,r)}u.length||o()}function p(e,t){var n=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),r=utils.isDeleted(e),o=r&&utils.isDeleted(t.metadata)||!r&&S&&"new_leaf"!==n.conflicts;return o?(R.push(y(errors.REV_CONFLICT,t._bulk_seq)),d()):(t.metadata.rev_tree=n.tree,void b(t,d))}function m(e){return"was_delete"in t&&utils.isDeleted(e.metadata)?(R.push(errors.MISSING_DOC),d()):void b(e,d)}function y(e,t){return e._bulk_seq=t,e}function I(e,t,n,r){{var o=k.objectStore(s);o.get(t).onsuccess=function(a){var i=a.target.result&&a.target.result.refs||{},c=[e.metadata.id,e.metadata.rev].join("@"),s={digest:t,body:n,refs:i};s.refs[c]=!0;o.put(s).onsuccess=function(){utils.call(r)}}}}var S=t.new_edits,w=e.docs,j=w.map(function(e,t){var n=utils.parseDoc(e,S);return n._bulk_seq=t,n}),q=j.filter(function(e){return e.error});if(q.length)return utils.call(n,q[0]);var k,R=[],D=0;g(function(){k=h.transaction([i,c,s,u],"readwrite"),k.onerror=idbError(n),k.ontimeout=idbError(n),k.oncomplete=f,d()})},g._get=function(e,t,n){function r(){utils.call(n,u,{doc:o,metadata:a,ctx:d})}var o,a,u,d;d=t.ctx?t.ctx:h.transaction([i,c,s],"readonly"),d.objectStore(i).get(e).onsuccess=function(e){if(a=e.target.result,!a)return u=errors.MISSING_DOC,r();if(utils.isDeleted(a)&&!t.rev)return u=errors.error(errors.MISSING_DOC,"deleted"),r();var n=merge.winningRev(a),i=a.id+"::"+(t.rev?t.rev:n),s=d.objectStore(c).index("_doc_id_rev");s.get(i).onsuccess=function(e){return o=e.target.result,o&&o._doc_id_rev&&delete o._doc_id_rev,o?void r():(u=errors.MISSING_DOC,r())}}},g._getAttachment=function(e,t,n){var o,a;a=t.ctx?t.ctx:h.transaction([i,c,s],"readonly");var u=e.digest,d=e.content_type;a.objectStore(s).get(u).onsuccess=function(e){var a=e.target.result.body;if(t.encode)if(v){var i=new FileReader;i.onloadend=function(){o=btoa(this.result),utils.call(n,null,o)},i.readAsBinaryString(a)}else o=a,utils.call(n,null,o);else v?o=a:(a=r(atob(a)),o=utils.createBlob([a],{type:d})),utils.call(n,null,o)}},g._allDocs=function(e,t){var n="startkey"in e?e.startkey:!1,r="endkey"in e?e.endkey:!1,o="descending"in e?e.descending:!1;o=o?"prev":null;var a=n&&r?window.IDBKeyRange.bound(n,r):n?window.IDBKeyRange.lowerBound(n):r?window.IDBKeyRange.upperBound(r):null,s=h.transaction([i,c],"readonly");s.oncomplete=function(){"keys"in e&&(e.keys.forEach(function(e){l.push(e in f?f[e]:{key:e,error:"not_found"})}),e.descending&&l.reverse()),utils.call(t,null,{total_rows:l.length,offset:e.skip,rows:"limit"in e?l.slice(e.skip,e.limit+e.skip):e.skip>0?l.slice(e.skip):l})};var u=s.objectStore(i),d=o?u.openCursor(a,o):u.openCursor(a),l=[],f={};d.onsuccess=function(t){function n(t,n){if(utils.isLocalId(t.id))return r["continue"]();var o={id:t.id,key:t.id,value:{rev:merge.winningRev(t)}};if(e.include_docs){o.doc=n,o.doc._rev=merge.winningRev(t),o.doc._doc_id_rev&&delete o.doc._doc_id_rev,e.conflicts&&(o.doc._conflicts=merge.collectConflicts(t));for(var a in o.doc._attachments)o.doc._attachments[a].stub=!0}"keys"in e?e.keys.indexOf(t.id)>-1&&(utils.isDeleted(t)&&(o.value.deleted=!0,o.doc=null),f[o.id]=o):utils.isDeleted(t)||l.push(o),r["continue"]()}if(t.target.result){var r=t.target.result,o=r.value;if(e.include_docs){var a=s.objectStore(c).index("_doc_id_rev"),i=merge.winningRev(o),u=o.id+"::"+i;a.get(u).onsuccess=function(e){n(r.value,e.target.result)}}else n(o)}}},g._info=function(e){function t(e){o=e.target.result&&e.target.result.updateSeq||0}function n(e){var n=e.target.result;return n?(n.value.deleted!==!0&&r++,void n["continue"]()):void(a.objectStore(u).get(u).onsuccess=t)}var r=0,o=0,a=h.transaction([i,u],"readonly");a.oncomplete=function(){e(null,{db_name:l,doc_count:r,update_seq:o})},a.objectStore(i).openCursor().onsuccess=n},g._changes=function(e){function t(){d=h.transaction([i,c]),d.oncomplete=r;var t;t=s?d.objectStore(c).openCursor(window.IDBKeyRange.lowerBound(e.since,!0),s):d.objectStore(c).openCursor(window.IDBKeyRange.lowerBound(e.since,!0)),t.onsuccess=n,t.onerror=o}function n(t){if(!t.target.result){for(var n=0,r=f.length;r>n;n++){var o=f[n];o&&_.push(o)}return!1}var a=t.target.result,s=a.value._id,l=v[s];if(void 0!==l)return f[l].seq=a.key,f.push(f[l]),f[l]=null,v[s]=f.length-1,a["continue"]();var g=d.objectStore(i);g.get(a.value._id).onsuccess=function(t){var n=t.target.result;if(utils.isLocalId(n.id))return a["continue"]();u<n.seq&&(u=n.seq);var r=merge.winningRev(n),o=n.id+"::"+r,i=d.objectStore(c).index("_doc_id_rev");i.get(o).onsuccess=function(t){var o=t.target.result;delete o._doc_id_rev,o._rev=r;var i=e.processChange(o,n,e);i.seq=a.key;var c=i.id,s=v[c];void 0!==s&&(f[s]=null),f.push(i),v[c]=f.length-1,a["continue"]()}}}function r(){utils.processChanges(e,_,u)}function o(){utils.call(e.complete)}if(e.continuous){var a=l+":"+utils.uuid();return e.cancelled=!1,IdbPouch.Changes.addListener(l,a,g,e),IdbPouch.Changes.notify(l),{cancel:function(){e.cancelled=!0,IdbPouch.Changes.removeListener(l,a)}}}var s=e.descending?"prev":null,u=0;e.since=e.since&&!s?e.since:0;var d,f=[],v={},_=[];t()},g._close=function(e){return null===h?utils.call(e,errors.NOT_OPEN):(h.close(),void utils.call(e,null))},g._getRevisionTree=function(e,t){var n=h.transaction([i],"readonly"),r=n.objectStore(i).get(e);r.onsuccess=function(e){var n=e.target.result;n?utils.call(t,null,n.rev_tree):utils.call(t,errors.MISSING_DOC)}},g._doCompaction=function(e,t,n,r){var o=h.transaction([i,c],"readwrite"),a=o.objectStore(i);a.get(e).onsuccess=function(r){var a=r.target.result;a.rev_tree=t;var s=n.length;n.forEach(function(t){var n=o.objectStore(c).index("_doc_id_rev"),r=e+"::"+t;n.getKey(r).onsuccess=function(e){var t=e.target.result;if(t){{o.objectStore(c)["delete"](t)}s--,s||o.objectStore(i).put(a)}}})},o.oncomplete=function(){utils.call(r)}},g}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors");IdbPouch.valid=function(){return"undefined"!=typeof window&&!!window.indexedDB},IdbPouch.destroy=function(e,t,n){"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.Changes.clearListeners(e),IdbPouch.openReqList[e]&&IdbPouch.openReqList[e].result&&IdbPouch.openReqList[e].result.close();var r=window.indexedDB.deleteDatabase(e);r.onsuccess=function(){IdbPouch.openReqList[e]&&(IdbPouch.openReqList[e]=null),utils.call(n,null)},r.onerror=idbError(n)},IdbPouch.Changes=new utils.Changes,module.exports=IdbPouch;
},{"../deps/errors":15,"../merge":20,"../utils":23}],11:[function(require,module,exports){
"use strict";function quote(e){return"'"+e+"'"}function openDB(){return"undefined"!=typeof window?window.navigator&&window.navigator.sqlitePlugin&&window.navigator.sqlitePlugin.openDatabase?navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,arguments):window.sqlitePlugin&&window.sqlitePlugin.openDatabase?window.sqlitePlugin.openDatabase.apply(window.sqlitePlugin,arguments):window.openDatabase.apply(window,arguments):void 0}function unknownError(e){return function(t){utils.call(e,{status:500,error:t.type,reason:t.target})}}function idbError(e){return function(t){utils.call(e,errors.error(errors.WSQ_ERROR,t.target,t.type))}}function webSqlPouch(e,t){function n(){t(null,a)}function i(){s.transaction(function(e){var t="CREATE TABLE IF NOT EXISTS "+META_STORE+" (update_seq, dbid)",n="CREATE TABLE IF NOT EXISTS "+ATTACH_STORE+" (digest, json, body BLOB)",i="CREATE TABLE IF NOT EXISTS "+DOC_STORE+" (id unique, seq, json, winningseq)",a="CREATE TABLE IF NOT EXISTS "+BY_SEQ_STORE+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, doc_id_rev UNIQUE, json)";e.executeSql(n),e.executeSql(i),e.executeSql(a),e.executeSql(t);var o="SELECT update_seq FROM "+META_STORE;e.executeSql(o,[],function(e,t){if(!t.rows.length){var n="INSERT INTO "+META_STORE+" (update_seq) VALUES (?)";return void e.executeSql(n,[0])}});var s="SELECT dbid FROM "+META_STORE+" WHERE dbid IS NOT NULL";e.executeSql(s,[],function(e,t){if(!t.rows.length){var n="UPDATE "+META_STORE+" SET dbid=?";return r=utils.uuid(),void e.executeSql(n,[r])}r=t.rows.item(0).dbid})},unknownError(t),n)}var a={},r=null,o=e.name,s=openDB(o,POUCH_VERSION,o,POUCH_SIZE);return s?(utils.isCordova()&&"undefined"!=typeof window?window.addEventListener(o+"_pouch",function u(){window.removeEventListener(o+"_pouch",u,!1),i()},!1):i(),a.type=function(){return"websql"},a.id=function(){return r},a._info=function(e){s.transaction(function(t){var n="SELECT COUNT(id) AS count FROM "+DOC_STORE;t.executeSql(n,[],function(t,n){var i=n.rows.item(0).count,a="SELECT update_seq FROM "+META_STORE;t.executeSql(a,[],function(t,n){var a=n.rows.item(0).update_seq;e(null,{db_name:o,doc_count:i,update_seq:a})})})})},a._bulkDocs=function(e,t,n){function i(e,t){return e._bulk_seq-t._bulk_seq}function a(){var e=[];w.sort(i),w.forEach(function(t){if(delete t._bulk_seq,t.error)return void e.push(t);var n=t.metadata,i=merge.winningRev(n);e.push({ok:!0,id:n.id,rev:i}),utils.isLocalId(n.id)||(R++,webSqlPouch.Changes.notify(o),webSqlPouch.Changes.notifyLocalWindows(o))});var t="SELECT update_seq FROM "+META_STORE;g.executeSql(t,[],function(t,i){var a=i.rows.item(0).update_seq+R,r="UPDATE "+META_STORE+" SET update_seq=?";t.executeSql(r,[a],function(){utils.call(n,null,e)})})}function r(e,t){if(e.stub)return t();if("string"==typeof e.data){try{e.data=atob(e.data)}catch(i){var a=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return utils.call(n,a)}return e.digest="md5-"+utils.Crypto.MD5(e.data),t()}var r=new FileReader;r.onloadend=function(){e.data=this.result,e.digest="md5-"+utils.Crypto.MD5(this.result),t()},r.readAsBinaryString(e.data)}function u(e){function t(){n++,v.length===n&&e()}if(!v.length)return e();var n=0,i=0;v.forEach(function(e){function n(){i++,i===a.length&&t()}var a=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!a.length)return t();for(var o in e.data._attachments)r(e.data._attachments[o],n)})}function l(e,t,n){function i(){var t=e.data,n="INSERT INTO "+BY_SEQ_STORE+" (doc_id_rev, json) VALUES (?, ?);";g.executeSql(n,[t._id+"::"+t._rev,JSON.stringify(t)],o)}function a(e){s||(e?(s=e,utils.call(t,s)):u===l.length&&i())}function r(e){u++,a(e)}function o(i,a){var r=e.metadata.seq=a.insertId;delete e.metadata.rev;var o=merge.winningRev(e.metadata),s=n?"UPDATE "+DOC_STORE+" SET seq=?, json=?, winningseq=(SELECT seq FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?) WHERE id=?":"INSERT INTO "+DOC_STORE+" (id, seq, winningseq, json) VALUES (?, ?, ?, ?);",u=JSON.stringify(e.metadata),l=e.metadata.id+"::"+o,d=n?[r,u,l,e.metadata.id]:[e.metadata.id,r,r,u];i.executeSql(s,d,function(){w.push(e),utils.call(t,null)})}var s=null,u=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,utils.isDeleted(e.metadata,e.metadata.rev)&&(e.data._deleted=!0);var l=e.data._attachments?Object.keys(e.data._attachments):[];for(var d in e.data._attachments)if(e.data._attachments[d].stub)u++,a();else{var c=e.data._attachments[d].data;delete e.data._attachments[d].data;var E=e.data._attachments[d].digest;_(e,E,c,r)}l.length||i()}function d(e,t){var n=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),i=utils.isDeleted(e)&&utils.isDeleted(t.metadata)||!utils.isDeleted(e)&&T&&"new_leaf"!==n.conflicts;return i?(w.push(S(errors.REV_CONFLICT,t._bulk_seq)),E()):(t.metadata.rev_tree=n.tree,void l(t,E,!0))}function c(e){return"was_delete"in t&&utils.isDeleted(e.metadata)?(w.push(errors.MISSING_DOC),E()):void l(e,E,!1)}function E(){if(!v.length)return a();var e=v.shift(),t=e.metadata.id;t in m?d(m[t],e):(m[t]=e.metadata,c(e))}function S(e,t){return e._bulk_seq=t,e}function _(e,t,n,i){var a=[e.metadata.id,e.metadata.rev].join("@"),r={digest:t},o="SELECT digest, json FROM "+ATTACH_STORE+" WHERE digest=?";g.executeSql(o,[t],function(e,s){s.rows.length?(r.refs=JSON.parse(s.rows.item(0).json).refs,o="UPDATE "+ATTACH_STORE+" SET json=?, body=? WHERE digest=?",e.executeSql(o,[JSON.stringify(r),n,t],function(){utils.call(i,null)})):(r.refs={},r.refs[a]=!0,o="INSERT INTO "+ATTACH_STORE+"(digest, json, body) VALUES (?, ?, ?)",e.executeSql(o,[t,JSON.stringify(r),n],function(){utils.call(i,null)}))})}function O(e,t){for(var n=0;n<t.rows.length;n++){var i=t.rows.item(n);m[i.id]=JSON.parse(i.json)}E()}var T=t.new_edits,f=e.docs,R=0,v=f.map(function(e,t){var n=utils.parseDoc(e,T);return n._bulk_seq=t,n}),q=v.filter(function(e){return e.error});if(q.length)return utils.call(n,q[0]);var g,w=[],m={};u(function(){s.transaction(function(e){g=e;var t="("+v.map(function(e){return quote(e.metadata.id)}).join(",")+")",n="SELECT * FROM "+DOC_STORE+" WHERE id IN "+t;g.executeSql(n,[],O)},unknownError(n))})},a._get=function(e,t,n){function i(){utils.call(n,u,{doc:r,metadata:o,ctx:l})}var r,o,u;if(!t.ctx)return void s.transaction(function(i){t.ctx=i,a._get(e,t,n)});var l=t.ctx,d="SELECT * FROM "+DOC_STORE+" WHERE id=?";l.executeSql(d,[e],function(e,n){if(!n.rows.length)return u=errors.MISSING_DOC,i();if(o=JSON.parse(n.rows.item(0).json),utils.isDeleted(o)&&!t.rev)return u=errors.error(errors.MISSING_DOC,"deleted"),i();var a=merge.winningRev(o),s=t.rev?t.rev:a;s=o.id+"::"+s;var d="SELECT * FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?";l.executeSql(d,[s],function(e,t){return t.rows.length?(r=JSON.parse(t.rows.item(0).json),void i()):(u=errors.MISSING_DOC,i())})})},a._allDocs=function(e,t){var n=[],i={},a="startkey"in e?e.startkey:!1,r="endkey"in e?e.endkey:!1,o="descending"in e?e.descending:!1,u="SELECT "+DOC_STORE+".id, "+BY_SEQ_STORE+".seq, "+BY_SEQ_STORE+".json AS data, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq",l=[];"keys"in e?(u+=" WHERE "+DOC_STORE+".id IN ("+e.keys.map(function(){return"?"}).join(",")+")",l=l.concat(e.keys)):(a&&(u+=" WHERE "+DOC_STORE+".id >= ?",l.push(a)),r&&(u+=(a?" AND ":" WHERE ")+DOC_STORE+".id <= ?",l.push(r)),u+=" ORDER BY "+DOC_STORE+".id "+(o?"DESC":"ASC")),s.transaction(function(t){t.executeSql(u,l,function(t,a){for(var r=0,o=a.rows.length;o>r;r++){var s=a.rows.item(r),u=JSON.parse(s.metadata),l=JSON.parse(s.data);if(!utils.isLocalId(u.id)){if(s={id:u.id,key:u.id,value:{rev:merge.winningRev(u)}},e.include_docs){s.doc=l,s.doc._rev=merge.winningRev(u),e.conflicts&&(s.doc._conflicts=merge.collectConflicts(u));for(var d in s.doc._attachments)s.doc._attachments[d].stub=!0}"keys"in e?e.keys.indexOf(u.id)>-1&&(utils.isDeleted(u)&&(s.value.deleted=!0,s.doc=null),i[s.id]=s):utils.isDeleted(u)||n.push(s)}}})},unknownError(t),function(){"keys"in e&&(e.keys.forEach(function(e){n.push(e in i?i[e]:{key:e,error:"not_found"})}),e.descending&&n.reverse()),utils.call(t,null,{total_rows:n.length,offset:e.skip,rows:"limit"in e?n.slice(e.skip,e.limit+e.skip):e.skip>0?n.slice(e.skip):n})})},a._changes=function(e){function t(){var t="SELECT "+DOC_STORE+".id, "+BY_SEQ_STORE+".seq, "+BY_SEQ_STORE+".json AS data, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq WHERE "+DOC_STORE+".seq > "+e.since+" ORDER BY "+DOC_STORE+".seq "+(i?"DESC":"ASC");s.transaction(function(n){n.executeSql(t,[],function(t,n){for(var i=0,a=0,o=n.rows.length;o>a;a++){var s=n.rows.item(a),u=JSON.parse(s.metadata);if(!utils.isLocalId(u.id)){i<s.seq&&(i=s.seq);var l=JSON.parse(s.data),d=e.processChange(l,u,e);d.seq=s.seq,r.push(d)}}utils.processChanges(e,r,i)})})}if(e.continuous){var n=o+":"+utils.uuid();return e.cancelled=!1,webSqlPouch.Changes.addListener(o,n,a,e),webSqlPouch.Changes.notify(o),{cancel:function(){e.cancelled=!0,webSqlPouch.Changes.removeListener(o,n)}}}var i=e.descending;e.since=e.since&&!i?e.since:0;var r=[];t()},a._close=function(e){utils.call(e,null)},a._getAttachment=function(e,t,n){var i,a=t.ctx,r=e.digest,o=e.content_type,s="SELECT body FROM "+ATTACH_STORE+" WHERE digest=?";a.executeSql(s,[r],function(e,a){var r=a.rows.item(0).body;i=t.encode?btoa(r):utils.createBlob([r],{type:o}),utils.call(n,null,i)})},a._getRevisionTree=function(e,t){s.transaction(function(n){var i="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";n.executeSql(i,[e],function(e,n){if(n.rows.length){var i=JSON.parse(n.rows.item(0).metadata);utils.call(t,null,i.rev_tree)}else utils.call(t,errors.MISSING_DOC)})})},a._doCompaction=function(e,t,n,i){s.transaction(function(a){var r="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";a.executeSql(r,[e],function(a,r){if(!r.rows.length)return utils.call(i);var o=JSON.parse(r.rows.item(0).metadata);o.rev_tree=t;var s="DELETE FROM "+BY_SEQ_STORE+" WHERE doc_id_rev IN ("+n.map(function(t){return quote(e+"::"+t)}).join(",")+")";a.executeSql(s,[],function(t){var n="UPDATE "+DOC_STORE+" SET json = ? WHERE id = ?";t.executeSql(n,[JSON.stringify(o),e],function(){i()})})})})},a):utils.call(t,errors.UNKNOWN_ERROR)}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors"),POUCH_VERSION=1,POUCH_SIZE=5242880,DOC_STORE=quote("document-store"),BY_SEQ_STORE=quote("by-sequence"),ATTACH_STORE=quote("attach-store"),META_STORE=quote("metadata-store");webSqlPouch.valid=function(){if("undefined"!=typeof window){if(window.navigator&&window.navigator.sqlitePlugin&&window.navigator.sqlitePlugin.openDatabase)return!0;if(window.sqlitePlugin&&window.sqlitePlugin.openDatabase)return!0;if(window.openDatabase)return!0}return!1},webSqlPouch.destroy=function(e,t,n){var i=openDB(e,POUCH_VERSION,e,POUCH_SIZE);i.transaction(function(e){e.executeSql("DROP TABLE IF EXISTS "+DOC_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+BY_SEQ_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+ATTACH_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+META_STORE,[])},unknownError(n),function(){utils.call(n,null)})},webSqlPouch.Changes=new utils.Changes,module.exports=webSqlPouch;
},{"../deps/errors":15,"../merge":20,"../utils":23}],12:[function(require,module,exports){
"use strict";function PouchDB(e,a,r){if(!(this instanceof PouchDB))return new PouchDB(e,a,r);("function"==typeof a||"undefined"==typeof a)&&(r=a,a={}),"object"==typeof e&&(a=e,e=void 0),"undefined"==typeof r&&(r=function(){});var i=a.name||e,t=PouchDB.parseAdapter(i);if(a.originalName=i,a.name=t.name,a.adapter=a.adapter||t.adapter,!PouchDB.adapters[a.adapter])throw"Adapter is missing";if(!PouchDB.adapters[a.adapter].valid())throw"Invalid Adapter";var n=new Adapter(a,function(e,a){if(e)return void(r&&r(e));for(var i in PouchDB.plugins){var t=PouchDB.plugins[i](a);for(var n in t)n in a||(a[n]=t[n])}a.taskqueue.ready(!0),a.taskqueue.execute(a),r(null,a)});for(var o in n)this[o]=n[o];for(var u in PouchDB.plugins){var d=PouchDB.plugins[u](this);for(var p in d)p in this||(this[p]=d[p])}}var Adapter=require("./adapter")(PouchDB);module.exports=PouchDB;
},{"./adapter":8}],13:[function(require,module,exports){
(function (process){
"use strict";function ajax(e,r){function t(e){var r=Array.prototype.slice.call(arguments,1);typeof e==typeof Function&&e.apply(this,r)}function o(r,o,s){if(e.binary||e.json||!e.processData||"string"==typeof r){if(!e.binary&&e.json&&"string"==typeof r)try{r=JSON.parse(r)}catch(n){return void t(s,n)}}else r=JSON.stringify(r);Array.isArray(r)&&(r=r.map(function(e){var r;return e.ok?e:e.error&&"conflict"===e.error?(r=errors.REV_CONFLICT,r.id=e.id,r):e.missing?(r=errors.MISSING_DOC,r.missing=e.missing,r):void 0})),t(s,null,r,o)}function s(e,r){var o,s,n,a;try{o=JSON.parse(e.responseText);for(a in errors)if(errors[a].name===o.error){n=errors[a];break}n=n||errors.UNKNOWN_ERROR,s=errors.error(n,o.reason)}catch(i){s=errors.error(errors.UNKNOWN_ERROR)}t(r,s)}"function"==typeof e&&(r=e,e={});var n={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4};if(e=extend(!0,n,e),process.browser&&"undefined"!=typeof XMLHttpRequest){var a,i=!1,p=new XMLHttpRequest;p.open(e.method,e.url),p.withCredentials=!0,e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(p.responseType="arraybuffer");var u=function(e,r,t){var o="";if(t){var s=new Date;s.setTime(s.getTime()+24*t*60*60*1e3),o="; expires="+s.toGMTString()}document.cookie=e+"="+r+o+"; path=/"};for(var c in e.headers)if("Cookie"===c){var d=e.headers[c].split("=");u(d[0],d[1],10)}else p.setRequestHeader(c,e.headers[c]);"body"in e||(e.body=null);var y=function(){i=!0,p.abort(),t(s,p,r)};return p.onreadystatechange=function(){if(4===p.readyState&&!i)if(clearTimeout(a),p.status>=200&&p.status<300){var n;n=e.binary?createBlob([p.response||""],{type:p.getResponseHeader("Content-Type")}):p.responseText,t(o,n,p,r)}else t(s,p,r)},e.timeout>0&&(a=setTimeout(y,e.timeout),p.upload.onprogress=p.onprogress=function(){clearTimeout(a),a=setTimeout(y,e.timeout)}),p.send(e.body),{abort:y}}return e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),request(e,function(n,a,i){if(n)return n.status=a?a.statusCode:400,t(s,n,r);var p,u=a.headers["content-type"],c=i||"";e.binary||!e.json&&e.processData||"object"==typeof c||!(/json/.test(u)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c))||(c=JSON.parse(c)),a.statusCode>=200&&a.statusCode<300?t(o,c,a,r):(e.binary&&(c=JSON.parse(c.toString())),p="missing"===c.reason?errors.MISSING_DOC:"no_db_file"===c.reason?errors.error(errors.DB_MISSING,c.reason):"conflict"===c.error?errors.REV_CONFLICT:errors.error(errors.UNKNOWN_ERROR,c.reason,c.error),p.status=a.statusCode,t(r,p))})}var request=require("request"),extend=require("./extend.js"),createBlob=require("./blob.js"),errors=require("./errors");module.exports=ajax;
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./blob.js":14,"./errors":15,"./extend.js":16,"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2,"request":1}],14:[function(require,module,exports){
"use strict";function createBlob(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(r){if("TypeError"!==r.name)throw r;for(var t=window.BlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder,l=new t,n=0;n<e.length;n+=1)l.append(e[n]);return l.getBlob(o.type)}}module.exports=createBlob;
},{}],15:[function(require,module,exports){
"use strict";function PouchError(r){this.status=r.status,this.name=r.error,this.message=r.reason,this.error=!0}PouchError.prototype=new Error,exports.MISSING_BULK_DOCS=new PouchError({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),exports.MISSING_DOC=new PouchError({status:404,error:"not_found",reason:"missing"}),exports.REV_CONFLICT=new PouchError({status:409,error:"conflict",reason:"Document update conflict"}),exports.INVALID_ID=new PouchError({status:400,error:"invalid_id",reason:"_id field must contain a string"}),exports.MISSING_ID=new PouchError({status:412,error:"missing_id",reason:"_id is required for puts"}),exports.RESERVED_ID=new PouchError({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),exports.NOT_OPEN=new PouchError({status:412,error:"precondition_failed",reason:"Database not open so cannot close"}),exports.UNKNOWN_ERROR=new PouchError({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),exports.BAD_ARG=new PouchError({status:500,error:"badarg",reason:"Some query argument is invalid"}),exports.INVALID_REQUEST=new PouchError({status:400,error:"invalid_request",reason:"Request was invalid"}),exports.QUERY_PARSE_ERROR=new PouchError({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),exports.DOC_VALIDATION=new PouchError({status:500,error:"doc_validation",reason:"Bad special document member"}),exports.BAD_REQUEST=new PouchError({status:400,error:"bad_request",reason:"Something wrong with the request"}),exports.NOT_AN_OBJECT=new PouchError({status:400,error:"bad_request",reason:"Document must be a JSON object"}),exports.DB_MISSING=new PouchError({status:404,error:"not_found",reason:"Database not found"}),exports.IDB_ERROR=new PouchError({status:500,error:"indexed_db_went_bad",reason:"unknown"}),exports.WSQ_ERROR=new PouchError({status:500,error:"web_sql_went_bad",reason:"unknown"}),exports.LDB_ERROR=new PouchError({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),exports.error=function(r,e,o){function s(){this.message=e,o&&(this.name=o)}return s.prototype=r,new s(e)};
},{}],16:[function(require,module,exports){
"use strict";function type(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?class2type[core_toString.call(t)]||"object":typeof t}function isWindow(t){return null!==t&&t===t.window}function isPlainObject(t){if(!t||"object"!==type(t)||t.nodeType||isWindow(t))return!1;try{if(t.constructor&&!core_hasOwn.call(t,"constructor")&&!core_hasOwn.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var e;for(e in t);return void 0===e||core_hasOwn.call(t,e)}function isFunction(t){return"function"===type(t)}function extend(){var t,r,e,n,o,i,c=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[1]||{},s=2),"object"==typeof c||isFunction(c)||(c={}),a===s&&(c=this,--s);a>s;s++)if(null!=(t=arguments[s]))for(r in t)e=c[r],n=t[r],c!==n&&(u&&n&&(isPlainObject(n)||(o=isArray(n)))?(o?(o=!1,i=e&&isArray(e)?e:[]):i=e&&isPlainObject(e)?e:{},c[r]=extend(u,i,n)):void 0!==n&&(isArray(t)&&isFunction(n)||(c[r]=n)));return c}for(var class2type={},types=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],i=0;i<types.length;i++){var typename=types[i];class2type["[object "+typename+"]"]=typename.toLowerCase()}var core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,isArray=Array.isArray||function(t){return"array"===type(t)};module.exports=extend;
},{}],17:[function(require,module,exports){
(function (process){
"use strict";var crypto=require("crypto");exports.MD5=function(r){function n(r,n){return r<<n|r>>>32-n}function t(r,n){var t,e,u,o,c;return u=2147483648&r,o=2147483648&n,t=1073741824&r,e=1073741824&n,c=(1073741823&r)+(1073741823&n),t&e?2147483648^c^u^o:t|e?1073741824&c?3221225472^c^u^o:1073741824^c^u^o:c^u^o}function e(r,n,t){return r&n|~r&t}function u(r,n,t){return r&t|n&~t}function o(r,n,t){return r^n^t}function c(r,n,t){return n^(r|~t)}function i(r,u,o,c,i,f,a){return r=t(r,t(t(e(u,o,c),i),a)),t(n(r,f),u)}function f(r,e,o,c,i,f,a){return r=t(r,t(t(u(e,o,c),i),a)),t(n(r,f),e)}function a(r,e,u,c,i,f,a){return r=t(r,t(t(o(e,u,c),i),a)),t(n(r,f),e)}function s(r,e,u,o,i,f,a){return r=t(r,t(t(c(e,u,o),i),a)),t(n(r,f),e)}function h(r){for(var n,t=r.length,e=t+8,u=(e-e%64)/64,o=16*(u+1),c=new Array(o-1),i=0,f=0;t>f;)n=(f-f%4)/4,i=f%4*8,c[n]=c[n]|r.charCodeAt(f)<<i,f++;return n=(f-f%4)/4,i=f%4*8,c[n]=c[n]|128<<i,c[o-2]=t<<3,c[o-1]=t>>>29,c}function p(r){var n,t,e="",u="";for(t=0;3>=t;t++)n=r>>>8*t&255,u="0"+n.toString(16),e+=u.substr(u.length-2,2);return e}if(!process.browser)return crypto.createHash("md5").update(r).digest("hex");var v,g,d,y,l,w,b,x,A,C=[],m=7,q=12,D=17,H=22,L=5,M=9,S=14,j=20,k=4,z=11,B=16,E=23,F=6,G=10,I=15,J=21;for(C=h(r),w=1732584193,b=4023233417,x=2562383102,A=271733878,v=0;v<C.length;v+=16)g=w,d=b,y=x,l=A,w=i(w,b,x,A,C[v+0],m,3614090360),A=i(A,w,b,x,C[v+1],q,3905402710),x=i(x,A,w,b,C[v+2],D,606105819),b=i(b,x,A,w,C[v+3],H,3250441966),w=i(w,b,x,A,C[v+4],m,4118548399),A=i(A,w,b,x,C[v+5],q,1200080426),x=i(x,A,w,b,C[v+6],D,2821735955),b=i(b,x,A,w,C[v+7],H,4249261313),w=i(w,b,x,A,C[v+8],m,1770035416),A=i(A,w,b,x,C[v+9],q,2336552879),x=i(x,A,w,b,C[v+10],D,4294925233),b=i(b,x,A,w,C[v+11],H,2304563134),w=i(w,b,x,A,C[v+12],m,1804603682),A=i(A,w,b,x,C[v+13],q,4254626195),x=i(x,A,w,b,C[v+14],D,2792965006),b=i(b,x,A,w,C[v+15],H,1236535329),w=f(w,b,x,A,C[v+1],L,4129170786),A=f(A,w,b,x,C[v+6],M,3225465664),x=f(x,A,w,b,C[v+11],S,643717713),b=f(b,x,A,w,C[v+0],j,3921069994),w=f(w,b,x,A,C[v+5],L,3593408605),A=f(A,w,b,x,C[v+10],M,38016083),x=f(x,A,w,b,C[v+15],S,3634488961),b=f(b,x,A,w,C[v+4],j,3889429448),w=f(w,b,x,A,C[v+9],L,568446438),A=f(A,w,b,x,C[v+14],M,3275163606),x=f(x,A,w,b,C[v+3],S,4107603335),b=f(b,x,A,w,C[v+8],j,1163531501),w=f(w,b,x,A,C[v+13],L,2850285829),A=f(A,w,b,x,C[v+2],M,4243563512),x=f(x,A,w,b,C[v+7],S,1735328473),b=f(b,x,A,w,C[v+12],j,2368359562),w=a(w,b,x,A,C[v+5],k,4294588738),A=a(A,w,b,x,C[v+8],z,2272392833),x=a(x,A,w,b,C[v+11],B,1839030562),b=a(b,x,A,w,C[v+14],E,4259657740),w=a(w,b,x,A,C[v+1],k,2763975236),A=a(A,w,b,x,C[v+4],z,1272893353),x=a(x,A,w,b,C[v+7],B,4139469664),b=a(b,x,A,w,C[v+10],E,3200236656),w=a(w,b,x,A,C[v+13],k,681279174),A=a(A,w,b,x,C[v+0],z,3936430074),x=a(x,A,w,b,C[v+3],B,3572445317),b=a(b,x,A,w,C[v+6],E,76029189),w=a(w,b,x,A,C[v+9],k,3654602809),A=a(A,w,b,x,C[v+12],z,3873151461),x=a(x,A,w,b,C[v+15],B,530742520),b=a(b,x,A,w,C[v+2],E,3299628645),w=s(w,b,x,A,C[v+0],F,4096336452),A=s(A,w,b,x,C[v+7],G,1126891415),x=s(x,A,w,b,C[v+14],I,2878612391),b=s(b,x,A,w,C[v+5],J,4237533241),w=s(w,b,x,A,C[v+12],F,1700485571),A=s(A,w,b,x,C[v+3],G,2399980690),x=s(x,A,w,b,C[v+10],I,4293915773),b=s(b,x,A,w,C[v+1],J,2240044497),w=s(w,b,x,A,C[v+8],F,1873313359),A=s(A,w,b,x,C[v+15],G,4264355552),x=s(x,A,w,b,C[v+6],I,2734768916),b=s(b,x,A,w,C[v+13],J,1309151649),w=s(w,b,x,A,C[v+4],F,4149444226),A=s(A,w,b,x,C[v+11],G,3174756917),x=s(x,A,w,b,C[v+2],I,718787259),b=s(b,x,A,w,C[v+9],J,3951481745),w=t(w,g),b=t(b,d),x=t(x,y),A=t(A,l);var K=p(w)+p(b)+p(x)+p(A);return K.toLowerCase()};
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2,"crypto":1}],18:[function(require,module,exports){
"use strict";function uuid(u,r){var i,t=uuid.CHARS,o=[];if(r=r||t.length,u)for(i=0;u>i;i++)o[i]=t[0|Math.random()*r];else{var d;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",i=0;36>i;i++)o[i]||(d=0|16*Math.random(),o[i]=t[19===i?3&d|8:d])}return o.join("")}uuid.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),module.exports=uuid;
},{}],19:[function(require,module,exports){
(function (process){
"use strict";var PouchDB=require("./setup");module.exports=PouchDB,PouchDB.ajax=require("./deps/ajax"),PouchDB.extend=require("./deps/extend"),PouchDB.utils=require("./utils"),PouchDB.Errors=require("./deps/errors"),PouchDB.replicate=require("./replicate").replicate,PouchDB.version=require("./version");var httpAdapter=require("./adapters/http");if(PouchDB.adapter("http",httpAdapter),PouchDB.adapter("https",httpAdapter),PouchDB.adapter("idb",require("./adapters/idb")),PouchDB.adapter("websql",require("./adapters/websql")),PouchDB.plugin("mapreduce",require("pouchdb-mapreduce")),!process.browser){var ldbAdapter=require("./adapters/leveldb");PouchDB.adapter("ldb",ldbAdapter),PouchDB.adapter("leveldb",ldbAdapter)}
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./adapters/http":9,"./adapters/idb":10,"./adapters/leveldb":1,"./adapters/websql":11,"./deps/ajax":13,"./deps/errors":15,"./deps/extend":16,"./replicate":21,"./setup":22,"./utils":23,"./version":24,"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2,"pouchdb-mapreduce":25}],20:[function(require,module,exports){
"use strict";function pathToTree(e){for(var r,t=e.shift(),s=[t.id,t.opts,[]],o=s;e.length;)t=e.shift(),r=[t.id,t.opts,[]],o[2].push(r),o=r;return s}function mergeTree(e,r){for(var t=[{tree1:e,tree2:r}],s=!1;t.length>0;){var o=t.pop(),n=o.tree1,i=o.tree2;(n[1].status||i[1].status)&&(n[1].status="available"===n[1].status||"available"===i[1].status?"available":"missing");for(var u=0;u<i[2].length;u++)if(n[2][0]){for(var c=!1,p=0;p<n[2].length;p++)n[2][p][0]===i[2][u][0]&&(t.push({tree1:n[2][p],tree2:i[2][u]}),c=!0);c||(s="new_branch",n[2].push(i[2][u]),n[2].sort())}else s="new_leaf",n[2][0]=i[2][u]}return{conflicts:s,tree:e}}function doMerge(e,r,t){var s,o=[],n=!1,i=!1;return e.length?(e.forEach(function(e){if(e.pos===r.pos&&e.ids[0]===r.ids[0])s=mergeTree(e.ids,r.ids),o.push({pos:e.pos,ids:s.tree}),n=n||s.conflicts,i=!0;else if(t!==!0){var u=e.pos<r.pos?e:r,c=e.pos<r.pos?r:e,p=c.pos-u.pos,d=[],f=[];for(f.push({ids:u.ids,diff:p,parent:null,parentIdx:null});f.length>0;){var a=f.pop();0!==a.diff?a.ids&&a.ids[2].forEach(function(e,r){f.push({ids:e,diff:a.diff-1,parent:a.ids,parentIdx:r})}):a.ids[0]===c.ids[0]&&d.push(a)}var h=d[0];h?(s=mergeTree(h.ids,c.ids),h.parent[2][h.parentIdx]=s.tree,o.push({pos:u.pos,ids:u.ids}),n=n||s.conflicts,i=!0):o.push(e)}else o.push(e)}),i||o.push(r),o.sort(function(e,r){return e.pos-r.pos}),{tree:o,conflicts:n||"internal_node"}):{tree:[r],conflicts:"new_leaf"}}function stem(e,r){var t=PouchMerge.rootToLeaf(e).map(function(e){var t=e.ids.slice(-r);return{pos:e.pos+(e.ids.length-t.length),ids:pathToTree(t)}});return t.reduce(function(e,r){return doMerge(e,r,!0).tree},[t.shift()])}var extend=require("./deps/extend"),PouchMerge={};PouchMerge.merge=function(e,r,t){e=extend(!0,[],e),r=extend(!0,{},r);var s=doMerge(e,r);return{tree:stem(s.tree,t),conflicts:s.conflicts}},PouchMerge.winningRev=function(e){var r=[];return PouchMerge.traverseRevTree(e.rev_tree,function(e,t,s,o,n){e&&r.push({pos:t,id:s,deleted:!!n.deleted})}),r.sort(function(e,r){return e.deleted!==r.deleted?e.deleted>r.deleted?1:-1:e.pos!==r.pos?r.pos-e.pos:e.id<r.id?1:-1}),r[0].pos+"-"+r[0].id},PouchMerge.traverseRevTree=function(e,r){var t=[];for(e.forEach(function(e){t.push({pos:e.pos,ids:e.ids})});t.length>0;){var s=t.pop(),o=s.pos,n=s.ids,i=r(0===n[2].length,o,n[0],s.ctx,n[1]);n[2].forEach(function(e){t.push({pos:o+1,ids:e,ctx:i})})}},PouchMerge.collectLeaves=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){e&&r.unshift({rev:t+"-"+s,pos:t,opts:n})}),r.sort(function(e,r){return r.pos-e.pos}),r.map(function(e){delete e.pos}),r},PouchMerge.collectConflicts=function(e){var r=PouchMerge.winningRev(e),t=PouchMerge.collectLeaves(e.rev_tree),s=[];return t.forEach(function(e){e.rev===r||e.opts.deleted||s.push(e.rev)}),s},PouchMerge.rootToLeaf=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){if(o=o?o.slice(0):[],o.push({id:s,opts:n}),e){var i=t+1-o.length;r.unshift({pos:i,ids:o})}return o}),r},module.exports=PouchMerge;
},{"./deps/extend":16}],21:[function(require,module,exports){
(function (process){
"use strict";function Promise(){var e=this;this.cancelled=!1,this.cancel=function(){e.cancelled=!0}}function RequestManager(e){var n=[],t={},i=!1;return t.enqueue=function(e,o){n.push({fun:e,args:o}),i||t.process()},t.process=function(){if(!i&&n.length&&!e.cancelled){i=!0;var t=n.shift();process.nextTick(function(){t.fun.apply(null,t.args)})}},t.notifyRequestComplete=function(){i=!1,t.process()},t}function genReplicationId(e,n,t){var i=t.filter?t.filter.toString():"";return"_local/"+PouchUtils.Crypto.MD5(e.id()+n.id()+i)}function fetchCheckpoint(e,n,t,i){n.get(t,function(n,o){n&&404===n.status?i(null,0):n?i(n):e.get(t,function(e,n){e&&404===e.status||!e&&o.last_seq!==n.last_seq?i(null,0):e?i(e):i(null,n.last_seq)})})}function writeCheckpoint(e,n,t,i,o){function c(e,n){e.get(t,function(o,c){o&&404===o.status&&(c={_id:t}),c.last_seq=i,e.put(c,n)})}c(n,function(){c(e,function(){o()})})}function replicate(e,n,t,i){function o(i,o,c){if(t.onChange)for(var r=0;c>r;r++)t.onChange.apply(this,[P]);m-=c,P.docs_written+=c,writeCheckpoint(e,n,d,q,function(){p.notifyRequestComplete(),f()})}function c(){if(!h.length)return p.notifyRequestComplete();var e=h.length;n.bulkDocs({docs:h},{new_edits:!1},function(n,t){o(n,t,e)}),h=[]}function r(n,t){e.get(n,{revs:!0,rev:t,attachments:!0},function(e,n){P.docs_read++,p.notifyRequestComplete(),h.push(n),p.enqueue(c)})}function u(e){return function(n,o){if(p.notifyRequestComplete(),n)return y&&i.cancel(),void PouchUtils.call(t.complete,n,null);if(0===Object.keys(o).length){for(var c in e)m-=e[c];return void f()}var u=function(e){p.enqueue(r,[l,e])};for(var l in o){var s=e[l]-o[l].missing.length;m-=s,o[l].missing.forEach(u)}}}function l(e,t){n.revsDiff(e,u(t))}function s(e){q=e.seq,v.push(e);var n={};n[e.id]=e.changes.map(function(e){return e.rev});var t={};t[e.id]=e.changes.length,m+=e.changes.length,p.enqueue(l,[n,t])}function a(){g=!0,f()}function f(){g&&0===m&&(P.end_time=new Date,PouchUtils.call(t.complete,null,P))}var p=new RequestManager(i),h=[],d=genReplicationId(e,n,t),v=[],g=!1,m=0,q=0,y=t.continuous||!1,_=t.doc_ids,P={ok:!0,start_time:new Date,docs_read:0,docs_written:0};fetchCheckpoint(e,n,d,function(n,o){if(n)return PouchUtils.call(t.complete,n);if(q=o,!i.cancelled){var c={continuous:y,since:q,style:"all_docs",onChange:s,complete:a,doc_ids:_};t.filter&&(c.filter=t.filter),t.query_params&&(c.query_params=t.query_params);var r=e.changes(c);if(t.continuous){var u=i.cancel;i.cancel=function(){u(),r.cancel()}}}})}function toPouch(e,n){return"string"==typeof e?new Pouch(e,n):void n(null,e)}var PouchUtils=require("./utils"),Pouch=require("./index");exports.replicate=function(e,n,t,i){t instanceof Function&&(i=t,t={}),void 0===t&&(t={}),t.complete||(t.complete=i);var o=new Promise;return toPouch(e,function(e,c){return e?PouchUtils.call(i,e):void toPouch(n,function(e,n){if(e)return PouchUtils.call(i,e);if(t.server){if("function"!=typeof c.replicateOnServer)return PouchUtils.call(i,{error:"Server replication not supported for "+c.type()+" adapter"});if(c.type()!==n.type())return PouchUtils.call(i,{error:"Server replication for different adapter types ("+c.type()+" and "+n.type()+") is not supported"});c.replicateOnServer(n,t,o)}else replicate(c,n,t,o)})}),o};
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./index":19,"./utils":23,"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2}],22:[function(require,module,exports){
"use strict";var PouchDB=require("./constructor");PouchDB.adapters={},PouchDB.plugins={},PouchDB.prefix="_pouch_",PouchDB.parseAdapter=function(o){var e,n=o.match(/([a-z\-]*):\/\/(.*)/);if(n){if(o=/http(s?)/.test(n[1])?n[1]+"://"+n[2]:n[2],e=n[1],!PouchDB.adapters[e].valid())throw"Invalid adapter";return{name:o,adapter:n[1]}}for(var u=["idb","leveldb","websql"],t=0;t<u.length;++t)if(u[t]in PouchDB.adapters){e=PouchDB.adapters[u[t]];var r="use_prefix"in e?e.use_prefix:!0;return{name:r?PouchDB.prefix+o:o,adapter:u[t]}}throw"No valid adapter found"},PouchDB.destroy=function(o,e,n){("function"==typeof e||"undefined"==typeof e)&&(n=e,e={}),"object"==typeof o&&(e=o,o=void 0),"undefined"==typeof n&&(n=function(){});var u=PouchDB.parseAdapter(e.name||o),t=u.name,r=function(o){if(o)return void n(o);for(var r in PouchDB.plugins)PouchDB.plugins[r]._delete(t);PouchDB.adapters[u.adapter].destroy(t,e,n)};PouchDB.removeFromAllDbs(u,r)},PouchDB.removeFromAllDbs=function(o,e){if(!PouchDB.enableAllDbs)return void e();var n=o.adapter;return"http"===n||"https"===n?void e():void new PouchDB(PouchDB.allDBName(o.adapter),function(n,u){if(n)return void e();var t=PouchDB.dbName(o.adapter,o.name);u.get(t,function(o,n){o?e():u.remove(n,function(o){e()})})})},PouchDB.adapter=function(o,e){e.valid()&&(PouchDB.adapters[o]=e)},PouchDB.plugin=function(o,e){PouchDB.plugins[o]=e},PouchDB.enableAllDbs=!1,PouchDB.ALL_DBS="_allDbs",PouchDB.dbName=function(o,e){return[o,"-",e].join("")},PouchDB.realDBName=function(o,e){return[o,"://",e].join("")},PouchDB.allDBName=function(o){return[o,"://",PouchDB.prefix+PouchDB.ALL_DBS].join("")},PouchDB.open=function(o,e){if(!PouchDB.enableAllDbs)return void e();var n=o.adapter;return"http"===n||"https"===n?void e():void new PouchDB(PouchDB.allDBName(n),function(u,t){if(u)return void e();var r=PouchDB.dbName(n,o.name);t.get(r,function(n){n&&404===n.status?t.put({_id:r,dbname:o.originalName},function(o){e()}):e()})})},PouchDB.allDbs=function(o){var e=function(n,u){if(0===n.length){var t=[];return u.forEach(function(o){var e=t.some(function(e){return e.id===o.id});e||t.push(o)}),void o(null,t.map(function(o){return o.doc.dbname}))}var r=n.shift();return"http"===r||"https"===r?void e(n,u):void new PouchDB(PouchDB.allDBName(r),function(t,r){return t?void o(t):void r.allDocs({include_docs:!0},function(t,r){return t?void o(t):(u.unshift.apply(u,r.rows),void e(n,u))})})},n=Object.keys(PouchDB.adapters);e(n,[])},module.exports=PouchDB;
},{"./constructor":12}],23:[function(require,module,exports){
function isChromeApp(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}var merge=require("./merge");exports.extend=require("./deps/extend"),exports.ajax=require("./deps/ajax"),exports.createBlob=require("./deps/blob");var uuid=require("./deps/uuid");exports.Crypto=require("./deps/md5.js");var buffer=require("./deps/buffer"),errors=require("./deps/errors"),reservedWords=["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree"];exports.uuids=function(e,r){"object"!=typeof r&&(r={});for(var t=r.length,n=r.radix,o=[];o.push(uuid(t,n))<e;);return o},exports.uuid=function(e){return exports.uuids(1,e)[0]},exports.isValidId=function(e){return e&&"string"==typeof e?/^_/.test(e)?/^_(design|local)/.test(e):!0:!1},exports.call=function(e){if(typeof e==typeof Function){var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}},exports.isLocalId=function(e){return/^_local/.test(e)},exports.isDeleted=function(e,r){r||(r=merge.winningRev(e)),r.indexOf("-")>=0&&(r=r.split("-")[1]);var t=!1;return merge.traverseRevTree(e.rev_tree,function(e,n,o,i,s){o===r&&(t=!!s.deleted)}),t},exports.filterChange=function(e){return function(r){var t={},n=e.filter&&"function"==typeof e.filter;if(t.query=e.query_params,e.filter&&n&&!e.filter.call(this,r.doc,t))return!1;if(e.doc_ids&&-1===e.doc_ids.indexOf(r.id))return!1;if(e.include_docs)for(var o in r.doc._attachments)r.doc._attachments[o].stub=!0;else delete r.doc;return!0}},exports.processChanges=function(e,r,t){r=r.filter(exports.filterChange(e)),e.limit&&e.limit<r.length&&(r.length=e.limit),r.forEach(function(r){exports.call(e.onChange,r)}),exports.call(e.complete,null,{results:r,last_seq:t})},exports.parseDoc=function(e,r){var t,n,o,i=null,s={status:"available"};if(e._deleted&&(s.deleted=!0),r)if(e._id||(e._id=exports.uuid()),n=exports.uuid({length:32,radix:16}).toLowerCase(),e._rev){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)throw"invalid value for property '_rev'";e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],{status:"missing"},[[n,s,[]]]]}],t=parseInt(o[1],10)+1}else e._rev_tree=[{pos:1,ids:[n,s,[]]}],t=1;else if(e._revisions&&(e._rev_tree=[{pos:e._revisions.start-e._revisions.ids.length+1,ids:e._revisions.ids.reduce(function(e,r){return null===e?[r,s,[]]:[r,{status:"missing"},[e]]},null)}],t=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)return errors.BAD_ARG;t=parseInt(o[1],10),n=o[2],e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],s,[]]}]}"string"!=typeof e._id?i=errors.INVALID_ID:exports.isValidId(e._id)||(i=errors.RESERVED_ID);for(var d in e)e.hasOwnProperty(d)&&"_"===d[0]&&-1===reservedWords.indexOf(d)&&(i=exports.extend({},errors.DOC_VALIDATION),i.reason+=": "+d);return e._id=decodeURIComponent(e._id),e._rev=[t,n].join("-"),i?i:Object.keys(e).reduce(function(r,t){return/^_/.test(t)&&"_attachments"!==t?r.metadata[t.slice(1)]=e[t]:r.data[t]=e[t],r},{metadata:{},data:{}})},exports.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},exports.Changes=function(){var e={},r={};return isChromeApp()?chrome.storage.onChanged.addListener(function(r){null!=r.db_name&&e.notify(r.db_name.newValue)}):"undefined"!=typeof window&&window.addEventListener("storage",function(r){e.notify(r.key)}),e.addListener=function(e,t,n,o){r[e]||(r[e]={}),r[e][t]={db:n,opts:o}},e.removeListener=function(e,t){r[e]&&delete r[e][t]},e.clearListeners=function(e){delete r[e]},e.notifyLocalWindows=function(e){isChromeApp()?chrome.storage.local.set({db_name:e}):localStorage[e]="a"===localStorage[e]?"b":"a"},e.notify=function(e){r[e]&&Object.keys(r[e]).forEach(function(t){var n=r[e][t].opts;r[e][t].db.changes({include_docs:n.include_docs,conflicts:n.conflicts,continuous:!1,descending:!1,filter:n.filter,view:n.view,since:n.since,query_params:n.query_params,onChange:function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,exports.call(n.onChange,e))}})})},e},exports.atob="undefined"!=typeof window&&"atob"in window?function(e){return atob(e)}:function(e){var r=new buffer(e,"base64");if(r.toString("base64")!==e)throw"Cannot base64 encode full string";return r.toString("binary")},exports.btoa="undefined"!=typeof window&&"btoa"in window?function(e){return btoa(e)}:function(e){return new buffer(e,"binary").toString("base64")},module.exports=exports;
},{"./deps/ajax":13,"./deps/blob":14,"./deps/buffer":1,"./deps/errors":15,"./deps/extend":16,"./deps/md5.js":17,"./deps/uuid":18,"./merge":20}],24:[function(require,module,exports){
module.exports="1.1.0";
},{}],25:[function(require,module,exports){
/*global Pouch: true, pouchCollate: true */

"use strict";

var pouchCollate = require('pouchdb-collate');

// This is the first implementation of a basic plugin, we register the
// plugin object with pouch and it is mixin'd to each database created
// (regardless of adapter), adapters can override plugins by providing
// their own implementation. functions on the plugin object that start
// with _ are reserved function that are called by pouchdb for special
// notifications.

// If we wanted to store incremental views we can do it here by listening
// to the changes feed (keeping track of our last update_seq between page loads)
// and storing the result of the map function (possibly using the upcoming
// extracted adapter functions)



function MapReduce(db) {
  if(!(this instanceof MapReduce)){
    return new MapReduce(db);
  }
  function viewQuery(fun, options) {
    if (!options.complete) {
      return;
    }

    if (!options.skip) {
      options.skip = 0;
    }

    if (!fun.reduce) {
      options.reduce = false;
    }

    function sum(values) {
      return values.reduce(function (a, b) { return a + b; }, 0);
    }

    var builtInReduce = {
      "_sum": function (keys, values){
        return sum(values);
      },

      "_count": function (keys, values, rereduce){
        if (rereduce){
          return sum(values);
        } else {
          return values.length;
        }
      },

      "_stats": function (keys, values, rereduce) {
        return {
          'sum': sum(values),
          'min': Math.min.apply(null, values),
          'max': Math.max.apply(null, values),
          'count': values.length,
          'sumsqr': (function () {
            var _sumsqr = 0;
            for(var idx in values) {
              if (typeof values[idx] === 'number') {
              _sumsqr += values[idx] * values[idx];
              }
            }
            return _sumsqr;
          })()
        };
      }
    };

    var results = [];
    var current = null;
    var num_started= 0;
    var completed= false;

    function emit(key, val) {
      var viewRow = {
        id: current.doc._id,
        key: key,
        value: val
      };

      if (options.startkey && pouchCollate(key, options.startkey) < 0) return;
      if (options.endkey && pouchCollate(key, options.endkey) > 0) return;
      if (typeof options.key !== 'undefined' && pouchCollate(key, options.key) !== 0) return;

      num_started++;
      if (options.include_docs) {
        //in this special case, join on _id (issue #106)
        if (val && typeof val === 'object' && val._id){
          db.get(val._id,
              function (_, joined_doc){
                if (joined_doc) {
                  viewRow.doc = joined_doc;
                }
                results.push(viewRow);
                checkComplete();
              });
          return;
        } else {
          viewRow.doc = current.doc;
        }
      }
      results.push(viewRow);
    };

    // ugly way to make sure references to 'emit' in map/reduce bind to the
    // above emit
    eval('fun.map = ' + fun.map.toString() + ';');
    if (fun.reduce) {
      if (builtInReduce[fun.reduce]) {
        fun.reduce = builtInReduce[fun.reduce];
      }

      eval('fun.reduce = ' + fun.reduce.toString() + ';');
    }

    //only proceed once all documents are mapped and joined
    function checkComplete() {
      if (completed && results.length == num_started){
        results.sort(function (a, b) {
          return pouchCollate(a.key, b.key);
        });
        if (options.descending) {
          results.reverse();
        }
        if (options.reduce === false) {
          return options.complete(null, {
            total_rows: results.length,
            offset: options.skip,
            rows: ('limit' in options) ? results.slice(options.skip, options.limit + options.skip) :
              (options.skip > 0) ? results.slice(options.skip) : results
          });
        }

        var groups = [];
        results.forEach(function (e) {
          var last = groups[groups.length-1] || null;
          if (last && pouchCollate(last.key[0][0], e.key) === 0) {
            last.key.push([e.key, e.id]);
            last.value.push(e.value);
            return;
          }
          groups.push({key: [[e.key, e.id]], value: [e.value]});
        });
        groups.forEach(function (e) {
          e.value = fun.reduce(e.key, e.value);
          e.value = (typeof e.value === 'undefined') ? null : e.value;
          e.key = e.key[0][0];
        });

        options.complete(null, {
          total_rows: groups.length,
          offset: options.skip,
          rows: ('limit' in options) ? groups.slice(options.skip, options.limit + options.skip) :
            (options.skip > 0) ? groups.slice(options.skip) : groups
        });
      }
    };

    db.changes({
      conflicts: true,
      include_docs: true,
      onChange: function (doc) {
        if (!('deleted' in doc)) {
          current = {doc: doc.doc};
          fun.map.call(this, doc.doc);
        }
      },
      complete: function () {
        completed= true;
        checkComplete();
      }
    });
  }

  function httpQuery(fun, opts, callback) {

    // List of parameters to add to the PUT request
    var params = [];
    var body = undefined;
    var method = 'GET';

    // If opts.reduce exists and is defined, then add it to the list
    // of parameters.
    // If reduce=false then the results are that of only the map function
    // not the final result of map and reduce.
    if (typeof opts.reduce !== 'undefined') {
      params.push('reduce=' + opts.reduce);
    }
    if (typeof opts.include_docs !== 'undefined') {
      params.push('include_docs=' + opts.include_docs);
    }
    if (typeof opts.limit !== 'undefined') {
      params.push('limit=' + opts.limit);
    }
    if (typeof opts.descending !== 'undefined') {
      params.push('descending=' + opts.descending);
    }
    if (typeof opts.startkey !== 'undefined') {
      params.push('startkey=' + encodeURIComponent(JSON.stringify(opts.startkey)));
    }
    if (typeof opts.endkey !== 'undefined') {
      params.push('endkey=' + encodeURIComponent(JSON.stringify(opts.endkey)));
    }
    if (typeof opts.key !== 'undefined') {
      params.push('key=' + encodeURIComponent(JSON.stringify(opts.key)));
    }
    if (typeof opts.group !== 'undefined') {
      params.push('group=' + opts.group);
    }
    if (typeof opts.group_level !== 'undefined') {
      params.push('group_level=' + opts.group_level);
    }
    if (typeof opts.skip !== 'undefined') {
      params.push('skip=' + opts.skip);
    }

    // If keys are supplied, issue a POST request to circumvent GET query string limits
    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options
    if (typeof opts.keys !== 'undefined') {
      method = 'POST';
      body = JSON.stringify({keys:opts.keys});
    }

    // Format the list of parameters into a valid URI query string
    params = params.join('&');
    params = params === '' ? '' : '?' + params;

    // We are referencing a query defined in the design doc
    if (typeof fun === 'string') {
      var parts = fun.split('/');
      db.request({
        method: method,
        url: '_design/' + parts[0] + '/_view/' + parts[1] + params,
        body: body
      }, callback);
      return;
    }

    // We are using a temporary view, terrible for performance but good for testing
    var queryObject = JSON.parse(JSON.stringify(fun, function (key, val) {
      if (typeof val === 'function') {
        return val + ''; // implicitly `toString` it
      }
      return val;
    }));

    db.request({
      method:'POST',
      url: '_temp_view' + params,
      body: queryObject
    }, callback);
  }

  this.query = function(fun, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    if (callback) {
      opts.complete = callback;
    }

    if (db.type() === 'http') {
    if (typeof fun === 'function'){
      return httpQuery({map: fun}, opts, callback);
    }
    return httpQuery(fun, opts, callback);
    }

    if (typeof fun === 'object') {
      return viewQuery(fun, opts);
    }

    if (typeof fun === 'function') {
      return viewQuery({map: fun}, opts);
    }

    var parts = fun.split('/');
    db.get('_design/' + parts[0], function (err, doc) {
      if (err) {
        if (callback) callback(err);
        return;
      }

      if (!doc.views[parts[1]]) {
        if (callback) callback({ error: 'not_found', reason: 'missing_named_view' });
        return;
      }

      viewQuery({
        map: doc.views[parts[1]].map,
        reduce: doc.views[parts[1]].reduce
      }, opts);
    });
  }

};

// Deletion is a noop since we dont store the results of the view
MapReduce._delete = function () { };
module.exports = MapReduce;

},{"pouchdb-collate":26}],26:[function(require,module,exports){
'use strict';

function arrayCollate(a, b) {
  var len = Math.min(a.length, b.length);
  for (var i = 0; i < len; i++) {
    var sort = pouchCollate(a[i], b[i]);
    if (sort !== 0) {
      return sort;
    }
  }
  return (a.length === b.length) ? 0 :
    (a.length > b.length) ? 1 : -1;
}
function stringCollate(a, b) {
  // See: https://github.com/daleharvey/pouchdb/issues/40
  // This is incompatible with the CouchDB implementation, but its the
  // best we can do for now
  return (a === b) ? 0 : ((a > b) ? 1 : -1);
}
function objectCollate(a, b) {
  var ak = Object.keys(a), bk = Object.keys(b);
  var len = Math.min(ak.length, bk.length);
  for (var i = 0; i < len; i++) {
    // First sort the keys
    var sort = pouchCollate(ak[i], bk[i]);
    if (sort !== 0) {
      return sort;
    }
    // if the keys are equal sort the values
    sort = pouchCollate(a[ak[i]], b[bk[i]]);
    if (sort !== 0) {
      return sort;
    }

  }
  return (ak.length === bk.length) ? 0 :
    (ak.length > bk.length) ? 1 : -1;
}
// The collation is defined by erlangs ordered terms
// the atoms null, true, false come first, then numbers, strings,
// arrays, then objects
function collationIndex(x) {
  var id = ['boolean', 'number', 'string', 'object'];
  if (id.indexOf(typeof x) !== -1) {
    if (x === null) {
      return 1;
    }
    return id.indexOf(typeof x) + 2;
  }
  if (Array.isArray(x)) {
    return 4.5;
  }
  if (typeof x === 'undefined') {
    // CouchDB indexes both null/undefined as null
    return 1;
  }
}
module.exports = pouchCollate;
function pouchCollate(a, b) {
  var ai = collationIndex(a);
  var bi = collationIndex(b);
  if ((ai - bi) !== 0) {
    return ai - bi;
  }
  if (a === null || typeof a === 'undefined') {
    return 0;
  }
  if (typeof a === 'number') {
    return a - b;
  }
  if (typeof a === 'boolean') {
    return a === b ? 0 : (a < b ? -1 : 1);
  }
  if (typeof a === 'string') {
    return stringCollate(a, b);
  }
  if (Array.isArray(a)) {
    return arrayCollate(a, b);
  }
  if (typeof a === 'object') {
    return objectCollate(a, b);
  }
};;
},{}],27:[function(require,module,exports){
!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),n=e.split(":"),i=n.length,r=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[i-1]&&""===n[i-2]&&n.pop(),i=n.length,-1!==n[i-1].indexOf(".")&&(r=7);var o;for(o=0;i>o&&""!==n[o];o++);if(r>o){for(n.splice(o,1,"0000");n.length<r;)n.splice(o,0,"0000");i=n.length}for(var f,s=0;r>s;s++){f=n[s].split("");for(var l=0;3>l&&("0"===f[0]&&f.length>1);l++)f.splice(0,1);n[s]=f.join("")}var c=-1,h=0,p=0,v=-1,u=!1;for(s=0;r>s;s++)u?"0"===n[s]?p+=1:(u=!1,p>h&&(c=v,h=p)):"0"==n[s]&&(u=!0,v=s,p=1);p>h&&(c=v,h=p),h>1&&n.splice(c,h,""),i=n.length;var a="";for(""===n[0]&&(beststr=":"),s=0;i>s&&(a+=n[s],s!==i-1);s++)a+=":";return""===n[i-1]&&(a+=":"),a}function n(){return t.IPv6===this&&(t.IPv6=i),this}var i=t&&t.IPv6;return{best:e,noConflict:n}});
},{}],28:[function(require,module,exports){
!function(o,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):o.SecondLevelDomains=e(o)}(this,function(o){"use strict";var e=o&&o.SecondLevelDomains,n=Object.prototype.hasOwnProperty,r={list:{ac:"com|gov|mil|net|org",ae:"ac|co|gov|mil|name|net|org|pro|sch",af:"com|edu|gov|net|org",al:"com|edu|gov|mil|net|org",ao:"co|ed|gv|it|og|pb",ar:"com|edu|gob|gov|int|mil|net|org|tur",at:"ac|co|gv|or",au:"asn|com|csiro|edu|gov|id|net|org",ba:"co|com|edu|gov|mil|net|org|rs|unbi|unmo|unsa|untz|unze",bb:"biz|co|com|edu|gov|info|net|org|store|tv",bh:"biz|cc|com|edu|gov|info|net|org",bn:"com|edu|gov|net|org",bo:"com|edu|gob|gov|int|mil|net|org|tv",br:"adm|adv|agr|am|arq|art|ato|b|bio|blog|bmd|cim|cng|cnt|com|coop|ecn|edu|eng|esp|etc|eti|far|flog|fm|fnd|fot|fst|g12|ggf|gov|imb|ind|inf|jor|jus|lel|mat|med|mil|mus|net|nom|not|ntr|odo|org|ppg|pro|psc|psi|qsl|rec|slg|srv|tmp|trd|tur|tv|vet|vlog|wiki|zlg",bs:"com|edu|gov|net|org",bz:"du|et|om|ov|rg",ca:"ab|bc|mb|nb|nf|nl|ns|nt|nu|on|pe|qc|sk|yk",ck:"biz|co|edu|gen|gov|info|net|org",cn:"ac|ah|bj|com|cq|edu|fj|gd|gov|gs|gx|gz|ha|hb|he|hi|hl|hn|jl|js|jx|ln|mil|net|nm|nx|org|qh|sc|sd|sh|sn|sx|tj|tw|xj|xz|yn|zj",co:"com|edu|gov|mil|net|nom|org",cr:"ac|c|co|ed|fi|go|or|sa",cy:"ac|biz|com|ekloges|gov|ltd|name|net|org|parliament|press|pro|tm","do":"art|com|edu|gob|gov|mil|net|org|sld|web",dz:"art|asso|com|edu|gov|net|org|pol",ec:"com|edu|fin|gov|info|med|mil|net|org|pro",eg:"com|edu|eun|gov|mil|name|net|org|sci",er:"com|edu|gov|ind|mil|net|org|rochest|w",es:"com|edu|gob|nom|org",et:"biz|com|edu|gov|info|name|net|org",fj:"ac|biz|com|info|mil|name|net|org|pro",fk:"ac|co|gov|net|nom|org",fr:"asso|com|f|gouv|nom|prd|presse|tm",gg:"co|net|org",gh:"com|edu|gov|mil|org",gn:"ac|com|gov|net|org",gr:"com|edu|gov|mil|net|org",gt:"com|edu|gob|ind|mil|net|org",gu:"com|edu|gov|net|org",hk:"com|edu|gov|idv|net|org",id:"ac|co|go|mil|net|or|sch|web",il:"ac|co|gov|idf|k12|muni|net|org","in":"ac|co|edu|ernet|firm|gen|gov|i|ind|mil|net|nic|org|res",iq:"com|edu|gov|i|mil|net|org",ir:"ac|co|dnssec|gov|i|id|net|org|sch",it:"edu|gov",je:"co|net|org",jo:"com|edu|gov|mil|name|net|org|sch",jp:"ac|ad|co|ed|go|gr|lg|ne|or",ke:"ac|co|go|info|me|mobi|ne|or|sc",kh:"com|edu|gov|mil|net|org|per",ki:"biz|com|de|edu|gov|info|mob|net|org|tel",km:"asso|com|coop|edu|gouv|k|medecin|mil|nom|notaires|pharmaciens|presse|tm|veterinaire",kn:"edu|gov|net|org",kr:"ac|busan|chungbuk|chungnam|co|daegu|daejeon|es|gangwon|go|gwangju|gyeongbuk|gyeonggi|gyeongnam|hs|incheon|jeju|jeonbuk|jeonnam|k|kg|mil|ms|ne|or|pe|re|sc|seoul|ulsan",kw:"com|edu|gov|net|org",ky:"com|edu|gov|net|org",kz:"com|edu|gov|mil|net|org",lb:"com|edu|gov|net|org",lk:"assn|com|edu|gov|grp|hotel|int|ltd|net|ngo|org|sch|soc|web",lr:"com|edu|gov|net|org",lv:"asn|com|conf|edu|gov|id|mil|net|org",ly:"com|edu|gov|id|med|net|org|plc|sch",ma:"ac|co|gov|m|net|org|press",mc:"asso|tm",me:"ac|co|edu|gov|its|net|org|priv",mg:"com|edu|gov|mil|nom|org|prd|tm",mk:"com|edu|gov|inf|name|net|org|pro",ml:"com|edu|gov|net|org|presse",mn:"edu|gov|org",mo:"com|edu|gov|net|org",mt:"com|edu|gov|net|org",mv:"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro",mw:"ac|co|com|coop|edu|gov|int|museum|net|org",mx:"com|edu|gob|net|org",my:"com|edu|gov|mil|name|net|org|sch",nf:"arts|com|firm|info|net|other|per|rec|store|web",ng:"biz|com|edu|gov|mil|mobi|name|net|org|sch",ni:"ac|co|com|edu|gob|mil|net|nom|org",np:"com|edu|gov|mil|net|org",nr:"biz|com|edu|gov|info|net|org",om:"ac|biz|co|com|edu|gov|med|mil|museum|net|org|pro|sch",pe:"com|edu|gob|mil|net|nom|org|sld",ph:"com|edu|gov|i|mil|net|ngo|org",pk:"biz|com|edu|fam|gob|gok|gon|gop|gos|gov|net|org|web",pl:"art|bialystok|biz|com|edu|gda|gdansk|gorzow|gov|info|katowice|krakow|lodz|lublin|mil|net|ngo|olsztyn|org|poznan|pwr|radom|slupsk|szczecin|torun|warszawa|waw|wroc|wroclaw|zgora",pr:"ac|biz|com|edu|est|gov|info|isla|name|net|org|pro|prof",ps:"com|edu|gov|net|org|plo|sec",pw:"belau|co|ed|go|ne|or",ro:"arts|com|firm|info|nom|nt|org|rec|store|tm|www",rs:"ac|co|edu|gov|in|org",sb:"com|edu|gov|net|org",sc:"com|edu|gov|net|org",sh:"co|com|edu|gov|net|nom|org",sl:"com|edu|gov|net|org",st:"co|com|consulado|edu|embaixada|gov|mil|net|org|principe|saotome|store",sv:"com|edu|gob|org|red",sz:"ac|co|org",tr:"av|bbs|bel|biz|com|dr|edu|gen|gov|info|k12|name|net|org|pol|tel|tsk|tv|web",tt:"aero|biz|cat|co|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel",tw:"club|com|ebiz|edu|game|gov|idv|mil|net|org",mu:"ac|co|com|gov|net|or|org",mz:"ac|co|edu|gov|org",na:"co|com",nz:"ac|co|cri|geek|gen|govt|health|iwi|maori|mil|net|org|parliament|school",pa:"abo|ac|com|edu|gob|ing|med|net|nom|org|sld",pt:"com|edu|gov|int|net|nome|org|publ",py:"com|edu|gov|mil|net|org",qa:"com|edu|gov|mil|net|org",re:"asso|com|nom",ru:"ac|adygeya|altai|amur|arkhangelsk|astrakhan|bashkiria|belgorod|bir|bryansk|buryatia|cbg|chel|chelyabinsk|chita|chukotka|chuvashia|com|dagestan|e-burg|edu|gov|grozny|int|irkutsk|ivanovo|izhevsk|jar|joshkar-ola|kalmykia|kaluga|kamchatka|karelia|kazan|kchr|kemerovo|khabarovsk|khakassia|khv|kirov|koenig|komi|kostroma|kranoyarsk|kuban|kurgan|kursk|lipetsk|magadan|mari|mari-el|marine|mil|mordovia|mosreg|msk|murmansk|nalchik|net|nnov|nov|novosibirsk|nsk|omsk|orenburg|org|oryol|penza|perm|pp|pskov|ptz|rnd|ryazan|sakhalin|samara|saratov|simbirsk|smolensk|spb|stavropol|stv|surgut|tambov|tatarstan|tom|tomsk|tsaritsyn|tsk|tula|tuva|tver|tyumen|udm|udmurtia|ulan-ude|vladikavkaz|vladimir|vladivostok|volgograd|vologda|voronezh|vrn|vyatka|yakutia|yamal|yekaterinburg|yuzhno-sakhalinsk",rw:"ac|co|com|edu|gouv|gov|int|mil|net",sa:"com|edu|gov|med|net|org|pub|sch",sd:"com|edu|gov|info|med|net|org|tv",se:"a|ac|b|bd|c|d|e|f|g|h|i|k|l|m|n|o|org|p|parti|pp|press|r|s|t|tm|u|w|x|y|z",sg:"com|edu|gov|idn|net|org|per",sn:"art|com|edu|gouv|org|perso|univ",sy:"com|edu|gov|mil|net|news|org",th:"ac|co|go|in|mi|net|or",tj:"ac|biz|co|com|edu|go|gov|info|int|mil|name|net|nic|org|test|web",tn:"agrinet|com|defense|edunet|ens|fin|gov|ind|info|intl|mincom|nat|net|org|perso|rnrt|rns|rnu|tourism",tz:"ac|co|go|ne|or",ua:"biz|cherkassy|chernigov|chernovtsy|ck|cn|co|com|crimea|cv|dn|dnepropetrovsk|donetsk|dp|edu|gov|if|in|ivano-frankivsk|kh|kharkov|kherson|khmelnitskiy|kiev|kirovograd|km|kr|ks|kv|lg|lugansk|lutsk|lviv|me|mk|net|nikolaev|od|odessa|org|pl|poltava|pp|rovno|rv|sebastopol|sumy|te|ternopil|uzhgorod|vinnica|vn|zaporizhzhe|zhitomir|zp|zt",ug:"ac|co|go|ne|or|org|sc",uk:"ac|bl|british-library|co|cym|gov|govt|icnet|jet|lea|ltd|me|mil|mod|national-library-scotland|nel|net|nhs|nic|nls|org|orgn|parliament|plc|police|sch|scot|soc",us:"dni|fed|isa|kids|nsn",uy:"com|edu|gub|mil|net|org",ve:"co|com|edu|gob|info|mil|net|org|web",vi:"co|com|k12|net|org",vn:"ac|biz|com|edu|gov|health|info|int|name|net|org|pro",ye:"co|com|gov|ltd|me|net|org|plc",yu:"ac|co|edu|gov|org",za:"ac|agric|alt|bourse|city|co|cybernet|db|edu|gov|grondar|iaccess|imt|inca|landesign|law|mil|net|ngo|nis|nom|olivetti|org|pix|school|tm|web",zm:"ac|co|com|edu|gov|net|org|sch"},has_expression:null,is_expression:null,has:function(o){return!!o.match(r.has_expression)},is:function(o){return!!o.match(r.is_expression)},get:function(o){var e=o.match(r.has_expression);return e&&e[1]||null},noConflict:function(){return o.SecondLevelDomains===this&&(o.SecondLevelDomains=e),this},init:function(){var o="";for(var e in r.list)if(n.call(r.list,e)){var g="("+r.list[e]+")."+e;o+="|("+g+")"}r.has_expression=new RegExp("\\.("+o.substr(1)+")$","i"),r.is_expression=new RegExp("^("+o.substr(1)+")$","i")}};return r.init(),r});
},{}],29:[function(require,module,exports){
!function(t,e){"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,r,s){"use strict";function n(t,e){return this instanceof n?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new n(t,e)}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===a(t)}function h(t,e){var r,s,n={};if(o(e))for(r=0,s=e.length;s>r;r++)n[e[r]]=!0;else n[e]=!0;for(r=0,s=t.length;s>r;r++)void 0!==n[t[r]]&&(t.splice(r,1),s--,r--);return t}function u(t,e){var r,s;if(o(e)){for(r=0,s=e.length;s>r;r++)if(!u(t,e[r]))return!1;return!0}var n=a(e);for(r=0,s=t.length;s>r;r++)if("RegExp"===n){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function p(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,s=t.length;s>r;r++)if(t[r]!==e[r])return!1;return!0}function c(t){return escape(t)}function l(t){return encodeURIComponent(t).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}var d=s&&s.URI;n.version="1.12.0";var f=n.prototype,m=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},n.getDomAttribute=function(t){if(!t||!t.nodeName)return void 0;var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:n.domAttributes[e]},n.encode=l,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=l,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},n.encodeQuery=function(t,e){var r=n.encode(t+"");return e?r.replace(/%20/g,"+"):r},n.decodeQuery=function(t,e){t+="";try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(r){return t}},n.recodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;s>r;r++)e[r]=n.encodePathSegment(n.decode(e[r]));return e.join("/")},n.decodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;s>r;r++)e[r]=n.decodePathSegment(e[r]);return e.join("/")};var _,g={encode:"encode",decode:"decode"},y=function(t,e){return function(r){return n[e](r+"").replace(n.characters[t][e].expression,function(r){return n.characters[t][e].map[r]})}};for(_ in g)n[_+"PathSegment"]=y("pathname",g[_]);n.encodeReserved=y("reserved","encode"),n.parse=function(t,e){var r;return e||(e={}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.parseAuthority(t,e)):(r=t.indexOf(":"),r>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(n.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(r+3):"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=n.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0))),e.path=t,e},n.parseHost=function(t,e){var r,s,n=t.indexOf("/");return-1===n&&(n=t.length),"["===t.charAt(0)?(r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,n)||null,e.port=null):(s=t.substring(0,n).split(":"),e.hostname=s[0]||null,e.port=s[1]||null),e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.parseAuthority=function(t,e){return t=n.parseUserinfo(t,e),n.parseHost(t,e)},n.parseUserinfo=function(t,e){var r,s=t.indexOf("/"),i=s>-1?t.lastIndexOf("@",s):t.indexOf("@");return i>-1&&(-1===s||s>i)?(r=t.substring(0,i).split(":"),e.username=r[0]?n.decode(r[0]):null,r.shift(),e.password=r[0]?n.decode(r.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},n.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var r,s,i,a={},o=t.split("&"),h=o.length,u=0;h>u;u++)r=o[u].split("="),s=n.decodeQuery(r.shift(),e),i=r.length?n.decodeQuery(r.join("="),e):null,a[s]?("string"==typeof a[s]&&(a[s]=[a[s]]),a[s].push(i)):a[s]=i;return a},n.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},n.buildHost=function(t){var e="";return t.hostname?(n.ip6_expression.test(t.hostname)?e+=t.port?"["+t.hostname+"]:"+t.port:t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},n.buildAuthority=function(t){return n.buildUserinfo(t)+n.buildHost(t)},n.buildUserinfo=function(t){var e="";return t.username&&(e+=n.encode(t.username),t.password&&(e+=":"+n.encode(t.password)),e+="@"),e},n.buildQuery=function(t,e,r){var s,i,a,h,u="";for(i in t)if(m.call(t,i)&&i)if(o(t[i]))for(s={},a=0,h=t[i].length;h>a;a++)void 0!==t[i][a]&&void 0===s[t[i][a]+""]&&(u+="&"+n.buildQueryParameter(i,t[i][a],r),e!==!0&&(s[t[i][a]+""]=!0));else void 0!==t[i]&&(u+="&"+n.buildQueryParameter(i,t[i],r));return u.substring(1)},n.buildQueryParameter=function(t,e,r){return n.encodeQuery(t,r)+(null!==e?"="+n.encodeQuery(e,r):"")},n.addQuery=function(t,e,r){if("object"==typeof e)for(var s in e)m.call(e,s)&&n.addQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),o(r)||(r=[r]),t[e]=t[e].concat(r)}},n.removeQuery=function(t,e,r){var s,i,a;if(o(e))for(s=0,i=e.length;i>s;s++)t[e[s]]=void 0;else if("object"==typeof e)for(a in e)m.call(e,a)&&n.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?t[e]===r?t[e]=void 0:o(t[e])&&(t[e]=h(t[e],r)):t[e]=void 0}},n.hasQuery=function(t,e,r,s){if("object"==typeof e){for(var i in e)if(m.call(e,i)&&!n.hasQuery(t,i,e[i]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(r)){case"Undefined":return e in t;case"Boolean":var h=Boolean(o(t[e])?t[e].length:t[e]);return r===h;case"Function":return!!r(t[e],e,t);case"Array":if(!o(t[e]))return!1;var c=s?u:p;return c(t[e],r);case"RegExp":return o(t[e])?s?u(t[e],r):!1:Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return o(t[e])?s?u(t[e],r):!1:t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.commonPath=function(t,e){var r,s=Math.min(t.length,e.length);for(r=0;s>r;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return 1>r?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":(("/"!==t.charAt(r)||"/"!==e.charAt(r))&&(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},n.withinString=function(t,e,r){r||(r={});var s=r.start||n.findUri.start,i=r.end||n.findUri.end,a=r.trim||n.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var h=s.exec(t);if(!h)break;var u=h.index;if(r.ignoreHtml){var p=t.slice(Math.max(u-3,0),u);if(p&&o.test(p))continue}var c=u+t.slice(u).search(i),l=t.slice(u,c).replace(a,"");if(!r.ignore||!r.ignore.test(l)){c=u+l.length;var d=e(l,u,c,t);t=t.slice(0,u)+d+t.slice(c),s.lastIndex=u+d.length}}return s.lastIndex=0,t},n.ensureValidHostname=function(e){if(e.match(n.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(n.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},n.noConflict=function(t){if(t){var r={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(r.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(r.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(r.SecondLevelDomains=SecondLevelDomains.noConflict()),r}return s.URI===this&&(s.URI=d),this},f.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new n(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}};for(_ in g)f[_]=y(g[_]);g={query:"?",fragment:"#"},y=function(t,e){return function(r,s){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!s),this)}};for(_ in g)f[_]=y(_,g[_]);g={search:["?","query"],hash:["#","fragment"]},y=function(t,e){return function(r,s){var n=this[t](r,s);return"string"==typeof n&&n.length?e+n:n}};for(_ in g)f[_]=y(g[_][1],g[_][0]);f.pathname=function(t,e){if(void 0===t||t===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return t?n.decodePath(r):r}return this._parts.path=t?n.recodePath(t):"/",this.build(!e),this},f.path=f.pathname,f.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=n._parts();var s=t instanceof n,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=n.getDomAttribute(t);t=t[a]||"",i=!1}if(!s&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=n.parse(t,this._parts);else{if(!s&&!i)throw new TypeError("invalid input");var o=s?t._parts:t;for(r in o)m.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!e),this},f.is=function(t){var e=!1,s=!1,i=!1,a=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,s=n.ip4_expression.test(this._parts.hostname),i=n.ip6_expression.test(this._parts.hostname),e=s||i,a=!e,o=a&&r&&r.has(this._parts.hostname),h=a&&n.idn_expression.test(this._parts.hostname),u=a&&n.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return a;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return i;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var v=f.protocol,b=f.port,Q=f.hostname;f.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.protocol_expression)))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return v.call(this,t,e)},f.scheme=f.protocol,f.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return b.call(this,t,e)},f.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};n.parseHost(t,r),t=r.hostname}return Q.call(this,t,e)},f.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildHost(this._parts):"":(n.parseHost(t,this._parts),this.build(!e),this)},f.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildAuthority(this._parts):"":(n.parseAuthority(t,this._parts),this.build(!e),this)},f.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=n.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),n.parseUserinfo(t,this._parts),this.build(!e),this},f.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=n.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},f.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var s=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,s),o=new RegExp("^"+i(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},f.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(e).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},f.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return e!==!0&&r&&r.list[n.toLowerCase()]?r.get(this._parts.hostname)||n:n}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},f.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?n.decodePath(s):s}var a=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,a),h=new RegExp("^"+i(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t),this.build(!e),this},f.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(r+1);return t?n.decodePathSegment(s):s}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var o=new RegExp(i(this.filename())+"$");return t=n.recodePath(t),this._parts.path=this._parts.path.replace(o,t),a?this.normalizePath(e):this.build(!e),this},f.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,s,a=this.filename(),o=a.lastIndexOf(".");return-1===o?"":(r=a.substring(o+1),s=/^[a-z0-9%]+$/i.test(r)?r:"",t?n.decodePathSegment(s):s)}"."===t.charAt(0)&&(t=t.substring(1));var h,u=this.suffix();if(u)h=new RegExp(t?i(u)+"$":i("."+u)+"$");else{if(!t)return this;this._parts.path+="."+n.recodePath(t)}return h&&(t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t)),this.build(!e),this},f.segment=function(t,e,r){var s=this._parts.urn?":":"/",n=this.path(),i="/"===n.substring(0,1),a=n.split(s);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error("Bad segment '"+t+"', must be 0-based integer");if(i&&a.shift(),0>t&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(o(e)){a=[];for(var h=0,u=e.length;u>h;h++)(e[h].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(e[h]))}else(e||"string"==typeof e)&&(""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e||"string"==typeof e&&e.length?a[t]=e:a.splice(t,1);return i&&a.unshift(""),this.path(a.join(s),r)},f.segmentCoded=function(t,e,r){var s,i,a;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(s=this.segment(t,e,r),o(s))for(i=0,a=s.length;a>i;i++)s[i]=n.decode(s[i]);else s=void 0!==s?n.decode(s):void 0;return s}if(o(e))for(i=0,a=e.length;a>i;i++)e[i]=n.decode(e[i]);else e="string"==typeof e?n.encode(e):e;return this.segment(t,e,r)};var w=f.query;return f.query=function(t,e){if(t===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=t.call(this,r);return this._parts.query=n.buildQuery(s||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=n.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):w.call(this,t,e)},f.setQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var i in t)m.call(t,i)&&(s[i]=t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");s[t]=void 0!==e?e:null}return this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.addQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(s,t,void 0===e?null:e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.removeQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(s,t,e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.hasQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(s,t,e,r)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},f.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},f.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},f.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,r,s,i=this._parts.path,a="";for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=i.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(r=i.indexOf("/.."),-1===r)break;0!==r?(s=i.substring(0,r).lastIndexOf("/"),-1===s&&(s=r),i=i.substring(0,s)+i.substring(r+3)):i=i.substring(3)}return e&&this.is("relative")&&(i=a+i.substring(1)),i=n.recodePath(i),this._parts.path=i,this.build(!t),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},f.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var t=n.encode,e=n.decode;return n.encode=escape,n.decode=decodeURIComponent,this.normalize(),n.encode=t,n.decode=e,this},f.unicode=function(){var t=n.encode,e=n.decode;return n.encode=l,n.decode=unescape,this.normalize(),n.encode=t,n.decode=e,this},f.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var s="",i=0,a=e._parts.query.split("&"),o=a.length;o>i;i++){var h=(a[i]||"").split("=");s+="&"+n.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(s+="="+n.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+s.substring(1)}return r+=n.decodeQuery(e.hash(),!0)},f.absoluteTo=function(t){var e,r,s,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),i._parts.protocol||(i._parts.protocol=t._parts.protocol),this._parts.hostname)return i;for(r=0;s=a[r];r++)i._parts[s]=t._parts[s];return i._parts.path?".."===i._parts.path.substring(-2)&&(i._parts.path+="/"):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),"/"!==i.path().charAt(0)&&(e=t.directory(),i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},f.relativeTo=function(t){var e,r,s,i,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=o._parts,r=t._parts,i=o.path(),a=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,i===a)return e.path="",o.build();if(s=n.commonPath(o.path(),t.path()),!s)return o.build();var h=r.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(s.length),o.build()},f.equals=function(t){var e,r,s,i=this.clone(),a=new n(t),h={},u={},c={};if(i.normalize(),a.normalize(),i.toString()===a.toString())return!0;if(e=i.query(),r=a.query(),i.query(""),a.query(""),i.toString()!==a.toString())return!1;if(e.length!==r.length)return!1;h=n.parseQuery(e,this._parts.escapeQuerySpace),u=n.parseQuery(r,this._parts.escapeQuerySpace);for(s in h)if(m.call(h,s)){if(o(h[s])){if(!p(h[s],u[s]))return!1}else if(h[s]!==u[s])return!1;c[s]=!0}for(s in u)if(m.call(u,s)&&!c[s])return!1;return!0},f.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},f.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},n});
},{"./IPv6":27,"./SecondLevelDomains":28,"./punycode":30}],30:[function(require,module,exports){
(function (global){
!function(o){function e(o){throw RangeError(L[o])}function n(o,e){for(var n=o.length;n--;)o[n]=e(o[n]);return o}function t(o,e){return n(o.split(S),e).join(".")}function r(o){for(var e,n,t=[],r=0,u=o.length;u>r;)e=o.charCodeAt(r++),e>=55296&&56319>=e&&u>r?(n=o.charCodeAt(r++),56320==(64512&n)?t.push(((1023&e)<<10)+(1023&n)+65536):(t.push(e),r--)):t.push(e);return t}function u(o){return n(o,function(o){var e="";return o>65535&&(o-=65536,e+=R(o>>>10&1023|55296),o=56320|1023&o),e+=R(o)}).join("")}function i(o){return 10>o-48?o-22:26>o-65?o-65:26>o-97?o-97:x}function f(o,e){return o+22+75*(26>o)-((0!=e)<<5)}function c(o,e,n){var t=0;for(o=n?P(o/m):o>>1,o+=P(o/e);o>M*y>>1;t+=x)o=P(o/M);return P(t+(M+1)*o/(o+j))}function l(o){var n,t,r,f,l,d,s,a,p,h,v=[],g=o.length,w=0,j=I,m=A;for(t=o.lastIndexOf(F),0>t&&(t=0),r=0;t>r;++r)o.charCodeAt(r)>=128&&e("not-basic"),v.push(o.charCodeAt(r));for(f=t>0?t+1:0;g>f;){for(l=w,d=1,s=x;f>=g&&e("invalid-input"),a=i(o.charCodeAt(f++)),(a>=x||a>P((b-w)/d))&&e("overflow"),w+=a*d,p=m>=s?C:s>=m+y?y:s-m,!(p>a);s+=x)h=x-p,d>P(b/h)&&e("overflow"),d*=h;n=v.length+1,m=c(w-l,n,0==l),P(w/n)>b-j&&e("overflow"),j+=P(w/n),w%=n,v.splice(w++,0,j)}return u(v)}function d(o){var n,t,u,i,l,d,s,a,p,h,v,g,w,j,m,E=[];for(o=r(o),g=o.length,n=I,t=0,l=A,d=0;g>d;++d)v=o[d],128>v&&E.push(R(v));for(u=i=E.length,i&&E.push(F);g>u;){for(s=b,d=0;g>d;++d)v=o[d],v>=n&&s>v&&(s=v);for(w=u+1,s-n>P((b-t)/w)&&e("overflow"),t+=(s-n)*w,n=s,d=0;g>d;++d)if(v=o[d],n>v&&++t>b&&e("overflow"),v==n){for(a=t,p=x;h=l>=p?C:p>=l+y?y:p-l,!(h>a);p+=x)m=a-h,j=x-h,E.push(R(f(h+m%j,0))),a=P(m/j);E.push(R(f(a,0))),l=c(t,w,u==i),t=0,++u}++t,++n}return E.join("")}function s(o){return t(o,function(o){return E.test(o)?l(o.slice(4).toLowerCase()):o})}function a(o){return t(o,function(o){return O.test(o)?"xn--"+d(o):o})}var p="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==p&&module,v="object"==typeof global&&global;(v.global===v||v.window===v)&&(o=v);var g,w,b=2147483647,x=36,C=1,y=26,j=38,m=700,A=72,I=128,F="-",E=/^xn--/,O=/[^ -~]/,S=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=x-C,P=Math.floor,R=String.fromCharCode;if(g={version:"1.2.3",ucs2:{decode:r,encode:u},decode:l,encode:d,toASCII:a,toUnicode:s},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return g});else if(p&&!p.nodeType)if(h)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else o.punycode=g}(this);
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],31:[function(require,module,exports){
"use strict";function logger(n){function o(n){for(var o=[],e=0;e<n.length;e++)o[e]=n[e];return o}var e=this;this.log=function(){var n=o(arguments);e.checker(n,DEBUG,function(n){console.log(n)})},this.error=function(){var n=o(arguments);e.checker(n,ERROR,function(n){console.error(n)})},this.warn=function(){var n=o(arguments);e.checker(n,WARN,function(n){console.warn(n)})},this.info=function(){var n=o(arguments);e.checker(n,INFO,function(n){console.info(n)})},this.printer=function(n,o){"Object"==typeof n&&(window.navigator.userAgent.indexOf("PhantomJS")>-1?n=JSON.stringify(n):o=console.dir),o(n)},this.checker=function(o,r,t){o.length>1&&console.group(),o.forEach(function(o){"undefined"!=typeof n&&null!==n&&r&&e.printer(o,t)}),o.length>1&&console.groupEnd()}}var ERROR=!1,DEBUG=ERROR,WARN=DEBUG,INFO=WARN;module.exports=new logger;
},{}],32:[function(require,module,exports){
"use strict";function Nav(o){this.iframe=o,window.nav=this,this.go=function(o){"string"==typeof o&&(o=URI(o)),this.iframe.src=o.href()},this.load=function(o){o.$jsdns.uris.forEach(function(o){o=new URI(o),console.group(),console.info("connectivity test of "+o.href()),$.ajax({type:"HEAD",url:o.href()}).complete(function(e,r){console.info(o,e,r),"timeout"!==r?(console.info(o.href()+" is reachable."),console.groupEnd(),window.nav.go(o)):(console.warn(o.href()+" is NOT reachable."),console.groupEnd())})})}}var $=require("./libs/jquery/dist/jquery"),URI=require("./libs/uri.js/src/URI"),Record=require("./record");module.exports=Nav;
},{"./libs/jquery/dist/jquery":7,"./libs/uri.js/src/URI":29,"./record":33}],33:[function(require,module,exports){
"use strict";function Record(i,r){this._id=i,this.name=i,this.value=r,this.$jsdns={uris:[]};var s=this.$jsdns.uris;return Object.keys(r).forEach(function(i){if(["ip","translate","http","link"].indexOf(i)>-1){var t=r[i];t instanceof Array||(t=new Array(t)),t.forEach(function(r){("ip"===i||"ip6"===i)&&(r="//"+r),s.push(new URI(r).href())})}}),this}var URI=require("./libs/uri.js/src/URI");module.exports=Record;
},{"./libs/uri.js/src/URI":29}],34:[function(require,module,exports){
function throttleResize(){drawing===!1&&(resizeFired=!0,drawResize())}function drawResize(){resizeFired===!0?(resizeFired=!1,drawing=!0,iframe.height=document.documentElement.clientHeight,iframe.width=document.documentElement.clientWidth,reqFrame(drawResize)):drawing=!1}var ready=require("./libs/domready/ready.min"),resizeFired=!1,drawing=!1,reqFrame=window.requestAnimationFrame,iframe;ready(function(){iframe=document.getElementById("speech"),iframe.height=document.documentElement.clientHeight,iframe.width=document.documentElement.clientWidth,window.addEventListener("resize",throttleResize,!1),console.info("resize.js registered"),iframe||console.error("iframe is "+iframe+" in resize.js")});
},{"./libs/domready/ready.min":6}]},{},[5])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcmVzb2x2ZS9lbXB0eS5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2Rucy5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2ZhaWwuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9pbmRleC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvZG9tcmVhZHkvcmVhZHkubWluLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2FkYXB0ZXIuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2FkYXB0ZXJzL2h0dHAuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2FkYXB0ZXJzL2lkYi5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvYWRhcHRlcnMvd2Vic3FsLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9jb25zdHJ1Y3Rvci5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvZGVwcy9hamF4LmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9kZXBzL2Jsb2IuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2RlcHMvZXJyb3JzLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9kZXBzL2V4dGVuZC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvZGVwcy9tZDUuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2RlcHMvdXVpZC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvaW5kZXguanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL21lcmdlLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9yZXBsaWNhdGUuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL3NldHVwLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi91dGlscy5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvdmVyc2lvbi5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9ub2RlX21vZHVsZXMvcG91Y2hkYi1tYXByZWR1Y2UvaW5kZXguanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbm9kZV9tb2R1bGVzL3BvdWNoZGItbWFwcmVkdWNlL25vZGVfbW9kdWxlcy9wb3VjaGRiLWNvbGxhdGUvbGliL2luZGV4LmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy91cmkuanMvc3JjL0lQdjYuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3VyaS5qcy9zcmMvU2Vjb25kTGV2ZWxEb21haW5zLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy91cmkuanMvc3JjL1VSSS5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvdXJpLmpzL3NyYy9wdW55Y29kZS5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xvZ2dlci5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL25hdi5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL3JlY29yZC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL3Jlc2l6ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25UQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xGQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7O0FDQUE7O0FDQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsbnVsbCwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxucHJvY2Vzcy5uZXh0VGljayA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhblNldEltbWVkaWF0ZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgd2luZG93LnNldEltbWVkaWF0ZTtcbiAgICB2YXIgY2FuUG9zdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyXG4gICAgO1xuXG4gICAgaWYgKGNhblNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZikgfTtcbiAgICB9XG5cbiAgICBpZiAoY2FuUG9zdCkge1xuICAgICAgICB2YXIgcXVldWUgPSBbXTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBldi5zb3VyY2U7XG4gICAgICAgICAgICBpZiAoKHNvdXJjZSA9PT0gd2luZG93IHx8IHNvdXJjZSA9PT0gbnVsbCkgJiYgZXYuZGF0YSA9PT0gJ3Byb2Nlc3MtdGljaycpIHtcbiAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZuKTtcbiAgICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZSgncHJvY2Vzcy10aWNrJywgJyonKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcbn0pKCk7XG5cbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1cblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gRE5TKCl7dmFyIGU9dGhpczt0aGlzLnB1YnM9e30sdGhpcy5kYj1uZXcgUG91Y2hEQihcInNwZWVjaFwiLHthdXRvX2NvbXBhY3Rpb246ITB9KSx0aGlzLmRiLnJlcGxpY2F0ZS5mcm9tKFwiaHR0cHM6Ly9pbmRvbGVyaW5nLmNsb3VkYW50LmNvbS9iaXQvXCIsXCJzcGVlY2hcIix7Y29udGludW91czohMH0pLHRoaXMucHVicy5zcGVlY2g9bmV3IFBvdWNoREIoXCJodHRwczovL2luZG9sZXJpbmcuY2xvdWRhbnQuY29tL2JpdC9cIiksdGhpcy5sb29rdXA9ZnVuY3Rpb24obixpKXtlLmRiLmdldChuLGZ1bmN0aW9uKGUsdCl7ZT90aGlzLmZldGNoKG4saSk6aSh0KX0pfSx0aGlzLmZldGNoPWZ1bmN0aW9uKG4saSl7ZS5wdWJzLnNwZWVjaC5nZXQobixmdW5jdGlvbihuLHQpe2lmKG4pdGhyb3cgbmV3IEZhaWwoe25hbWU6XCJuYW1lXCJ9KS5vdmVyKCk7ZS5zYXZlKHQpLGUuZGIuZ2V0KHIubmFtZSxmdW5jdGlvbihlLG4pe2koZT9lOm4pfSl9KX0sdGhpcy5zYXZlPWZ1bmN0aW9uKG4saSl7aT1pfHxmdW5jdGlvbihlKXtsb2cubG9nKGUpfSwoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4uJGpzZG5zfHxudWxsPT09bi4kanNkbnMpJiYobj1uZXcgUmVjb3JkKG4ubmFtZSxuLnZhbHVlKSksZS5kYi5nZXQobi5uYW1lLGZ1bmN0aW9uKHQsbyl7dD9lLmRiLnB1dChuLnZhbHVlLG4ubmFtZSk6ZS5kYi5wdXQobi52YWx1ZSxuLm5hbWUsby5fcmV2KSxlLmRiLmdldChuLm5hbWUsZnVuY3Rpb24oZSxuKXtpKGU/ZTpuKX0pfSl9LHRoaXMuZGVsZXRlPWZ1bmN0aW9uKG4pe2UuZGIuZ2V0KG4sZnVuY3Rpb24oaSx0KXtpP2xvZy5pbmZvKFwiZXJyb3Igd2hpbGUgZmV0Y2hpbmcgcmV2IG9mIFwiK24rXCIgZm9yIGRlbHRpb24uXCIsaSk6ZS5kYi5yZW1vdmUodCxmdW5jdGlvbihlLGkpe2UmJmxvZy53YXJuKFwiVW5hYmxlIHRvIGRlbGV0ZSBcIituK1wiIFwiLGUpLGkmJmxvZy5sb2coaSl9KX0pfSx0aGlzLmdldFJlY29yZHM9ZnVuY3Rpb24obixpKXtpPWl8fG4sQXJyYXkuaXNBcnJheShuKT9lLmRiLmFsbERvY3Moe2tleXM6bixpbmNsdWRlX2RvY3M6ITB9LGkpOmUuZGIuYWxsRG9jcyh7aW5jbHVkZV9kb2NzOiEwfSxpKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBETlN9fXZhciAkPXJlcXVpcmUoXCIuL2xpYnMvanF1ZXJ5L2Rpc3QvanF1ZXJ5XCIpLFVSST1yZXF1aXJlKFwiLi9saWJzL3VyaS5qcy9zcmMvVVJJXCIpLFBvdWNoREI9cmVxdWlyZShcIi4vbGlicy9wb3VjaGRiL2xpYi9pbmRleC5qc1wiKSxSZWNvcmQ9cmVxdWlyZShcIi4vcmVjb3JkXCIpLEZhaWw9cmVxdWlyZShcIi4vZmFpbFwiKSxsb2c9cmVxdWlyZShcIi4vbG9nZ2VyXCIpO21vZHVsZS5leHBvcnRzPW5ldyBETlM7IiwiZnVuY3Rpb24gRmFpbChlKXt0aGlzLm5hbWU9ZS5uYW1lfHxcIkZhaWxcIix0aGlzLm1lc3NhZ2U9ZX12YXIgVVJJPXJlcXVpcmUoXCIuL2xpYnMvdXJpLmpzL3NyYy9VUklcIik7RmFpbC5wcm90b3R5cGU9bmV3IEVycm9yLEZhaWwucHJvdG90eXBlLm92ZXI9ZnVuY3Rpb24oKXt1cmw9bmV3IFVSSTt2YXIgZT17dXJsOnVybC5ocmVmKCksdXJuOihuZXcgVVJJKS5zdWJkb21haW4oKS5zcGxpdChcIi5cIikuc2xpY2UoLTEpLnBvcCgpLHZhbHVlOnRoaXMubWVzc2FnZS52YWx1ZSxuYW1lOnRoaXMubWVzc2FnZS5uYW1lLG1lc3NhZ2U6dGhpcy5tZXNzYWdlLm1lc3NhZ2V9O1wiXCI9PT1lLnVybiYmKGUudXJuPXVybC5oYXNoKCkmJlwiIVwiIT09dXJsLmhhc2hbMF0/dXJsLmhhc2goKS5zbGljZSgxLHVybC5oYXNoKCkubGVuZ3RoKTpcImxvY2FsaG9zdFwiPT11cmwuaG9zdG5hbWUoKXx8XCIxMjcuMC4wLjFcIj09dXJsLmhvc3RuYW1lKCk/XCJsb2NhbGhvc3RcIjpcInd3d1wiKTt2YXIgdD0obmV3IFVSSSkucGF0aChcImVycm9yLmh0bWxcIikuc3ViZG9tYWluKFwiXCIpO3N3aXRjaChlLm5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiZm9ybWF0XCI6ZS50ZXh0PVwiVGhlIG5hbWUgc2VydmVyIHdhcyB1bmFibGUgdG8gaW50ZXJwcmV0IHRoZSBxdWVyeS5cIixlLmNvZGU9MTticmVhaztjYXNlXCJzZXJ2ZXJcIjplLnRleHQ9XCJUaGUgbmFtZSBzZXJ2ZXIgd2FzIHVuYWJsZSB0byBwcm9jZXNzIHRoaXMgcXVlcnkgZHVlIHRvIGEgcHJvYmxlbSB3aXRoIHRoZSBuYW1lIHNlcnZlci5cIixlLmNvZGU9MjticmVhaztjYXNlXCJuYW1lXCI6ZS50ZXh0PVwiRG9tYWluIG5hbWUgcmVmZXJlbmNlZCBpbiB0aGUgcXVlcnkgZG9lcyBub3QgZXhpc3QuXCIsZS5jb2RlPTMsZS5tZXNzYWdlPVwiVGhlIGRvbWFpbiBuYW1lIFwiK2UudXJuK1wiIGNvdWxkIG5vdCBiZSBmb3VuZFwiO2JyZWFrO2Nhc2VcInVuaW1wbGVtZW50ZWRcIjplLnRleHQ9XCJUaGUgbmFtZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgcmVxdWVzdGVkIGtpbmQgb2YgcXVlcnkuXCIsZS5jb2RlPTQsdC5wYXRoKFwiY29ubmVjdC5odG1sXCIpO2JyZWFrO2Nhc2VcInVuYXV0aG9yaXplZFwiOmUudGV4dD1cIkF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCBoYXMgZmFpbGVkIG9yIGhhcyBub3QgeWV0IGJlZW4gcHJvdmlkZWQuXCIsZS5jb2RlPTQwMTticmVhaztjYXNlXCJmb3JiaWRkZW5cIjplLnRleHQ9XCJTdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uIGJ1dCBjcmVkZW50aWFscyBkbyBub3QgZ3JhbnQgdGhlIGNsaWVudCBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGUgcmVzb3VyY2UuXCIsZS5jb2RlPTQwMzticmVhaztjYXNlXCJ0aW1lb3V0XCI6ZS50ZXh0PVwiVGhlIHNlcnZlciB0aW1lZCBvdXQgd2FpdGluZyBmb3IgdGhlIHJlcXVlc3QuXCIsZS5jb2RlPTQwOCx0LnBhdGgoXCJjb25uZWN0Lmh0bWxcIik7YnJlYWs7Y2FzZVwibGVuZ3RoXCI6ZS50ZXh0PVwiVVJJIHRvbyBsb25nLlwiLGUuY29kZT00MTQ7YnJlYWs7Y2FzZVwiY2FsbVwiOmUudGV4dD1cIlRoZSB1c2VyIGhhcyBzZW50IHRvbyBtYW55IHJlcXVlc3RzIGluIGEgZ2l2ZW4gYW1vdW50IG9mIHRpbWUuIEludGVuZGVkIGZvciB1c2Ugd2l0aCByYXRlIGxpbWl0aW5nIHNjaGVtZXMuXCIsZS5jb2RlPTQyMDticmVhaztjYXNlXCJyYXRlXCI6Y2FzZVwiZmxvb2RcIjplLnRleHQ9XCJUaGUgdXNlciBoYXMgc2VudCB0b28gbWFueSByZXF1ZXN0cyBpbiBhIGdpdmVuIGFtb3VudCBvZiB0aW1lLiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggcmF0ZSBsaW1pdGluZyBzY2hlbWVzLlwiLGUuY29kZT00Mjk7YnJlYWs7Y2FzZVwiY2Vuc29yZWRcIjplLnRleHQ9XCJVbmF2YWlsYWJsZSBGb3IgTGVnYWwgUmVhc29uc1wiLGUuY29kZT00NTE7YnJlYWs7ZGVmYXVsdDplLmNvZGV8fChlLmNvZGU9LTEpLGUubmFtZXx8KGUubmFtZT1cInVua25vd25cIiksZS5tZXNzYWdlfHwoZS5tZXNzYWdlPVwiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb29raW5nIHVwIHlvdXIgcmVxdWVzdC5cIil9Y29uc29sZS5sb2coZS5uYW1lLGUpLGxvY2F0aW9uLmhyZWY9KG5ldyBVUkkpLnBhdGgoXCJlcnJvci5odG1sXCIpLnN1YmRvbWFpbihcIlwiKS5hZGRRdWVyeShlKS5ocmVmKCl9LG1vZHVsZS5leHBvcnRzPUZhaWw7IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdXBkYXRlcihlKXt2YXIgdD1lLnR5cGU7aWYoY29uc29sZS5kaXIoZSksXCJsb2NhdGlvblwiPT09dCl7dmFyIGE9bmV3IFVSTChlLnZhbHVlKSxyPWEucGF0aG5hbWU7YS5zZWFyY2gmJihyPVwiP1wiK2Euc2VhcmNoKSxhLmhhc2gmJihyPVwiI1wiK2EuaGFzaCksaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCxudWxsLHIpfWVsc2UgaWYoXCJ0aXRsZVwiPT09dClkb2N1bWVudC50aXRsZT1lLnZhbHVlO2Vsc2UgaWYoXCJmYXZpY29uXCI9PT10KXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZhdmljb25cIikmJmRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmYXZpY29uXCIpKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtuLmlkPVwiZmF2aWNvblwiLG4udHlwZT1cImltYWdlL3gtaWNvblwiLG4ucmVsPVwic2hvcnRjdXQgaWNvblwiLG4uaHJlZj1lLnZhbHVlLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobil9fWZ1bmN0aW9uIGRucygpe3JldHVybiBETlN9dmFyICQ9cmVxdWlyZShcIi4vbGlicy9qcXVlcnkvZGlzdC9qcXVlcnlcIiksVVJJPXJlcXVpcmUoXCIuL2xpYnMvdXJpLmpzL3NyYy9VUklcIikscmVhZHk9cmVxdWlyZShcIi4vbGlicy9kb21yZWFkeS9yZWFkeS5taW5cIikscmVzaXplPXJlcXVpcmUoXCIuL3Jlc2l6ZVwiKSxETlM9cmVxdWlyZShcIi4vZG5zXCIpLE5hdj1yZXF1aXJlKFwiLi9uYXZcIiksbG9nPXJlcXVpcmUoXCIuL2xvZ2dlclwiKSxERUJVRz0hMDtpZihERUJVRyl7dmFyIGR1bW1pZXM9W1tcInd3d1wiLHt0cmFuc2xhdGU6XCJcIn1dLFtcImxvY2FsaG9zdFwiLHt0cmFuc2xhdGU6XCJcIn1dLFtcImlwdjRcIix7aXA6XCIyMDguMTEzLjIxMi4xODdcIn1dLFtcImlwdjYtMlwiLHtpcDY6W1wiMjYwNzpmMjk4OjU6MTAyYjo6ZGRiOmIwOWVcIixcIjI2MDc6ZjI5ODo1OjEwMmI6OmFmMzo1YWEzXCJdfV0sW1wiaXB2NlwiLHtpcDY6XCIyNjA3OmYyOTg6NToxMDJiOjpkZGI6YjA5ZVwifV0sW1wiaXB2NC0yXCIse2lwOltcIjIwOC4xMTMuMjEyLjE4N1wiLFwiMjA4LjExMy4yMTIuMXM4N1wiXX1dLFtcImJpdHNcIix7aXA6W1wiMjA4LjExMy4yMTIuMTg3XCJdLGNvcnM6W1wic3BlZWNoLmlzXCJdfV0sW1wiJHNldHRpbmdcIix7bmFtZTpcInN1YnNjcmliZXIgbmFtZVwiLHVybDpcImpzRE5TIHVybFwifV0sW1wicmVkZGl0XCIse3RyYW5zbGF0ZTpcImh0dHA6Ly93d3cucmVkZGl0LmNvbVwifV0sW1wiYWFyb25zd1wiLHt0cmFuc2xhdGU6XCJodHRwOi8vd3d3LmFhcm9uc3cuY29tL1wifV0sW1wid2lraXBlZGlhXCIse3RyYW5zbGF0ZTpcImh0dHA6Ly93d3cud2lraXBlZGlhLm9yZ1wifV0sW1wiYWNjZXNzbm93XCIse3RyYW5zbGF0ZTpcImh0dHA6Ly93d3cuYWNjZXNzbm93Lm9yZ1wifV0sW1wiaW5kb2xlcmluZ1wiLHtpcDpbXCIyMDguMTEzLjIxMi4yMVwiXSxjb3JzOltcInNwZWVjaC5pc1wiXX1dLFtcImZpZ2h0Zm9ydGhlZnV0dXJlXCIse3RyYW5zbGF0ZTpcImh0dHA6Ly93d3cuZmlnaHRmb3J0aGVmdXR1cmUub3JnL1wifV0sW1wiaW50ZXJuZXRkZWZlbnNlbGVhZ3VlXCIse3RyYW5zbGF0ZTpcImh0dHA6Ly9pbnRlcm5ldGRlZmVuc2VsZWFndWUub3JnXCJ9XV07ZHVtbWllcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVUkk7XCJ3d3dcIj09PWVbMF0/KHQuc3ViZG9tYWluKFwid3d3XCIpLHQucGF0aChcIi9TcGVlY2guanMvc2l0ZS9jb25uZWN0Lmh0bWxcIiksZVsxXS50cmFuc2xhdGU9dC5ocmVmKCkpOlwibG9jYWxob3N0XCI9PT1lWzBdJiYodC5wYXRoKFwiL1NwZWVjaC5qcy9zaXRlL2Nvbm5lY3QuaHRtbFwiKSxlWzFdLnRyYW5zbGF0ZT10LmhyZWYoKSksRE5TLnNhdmUoe25hbWU6ZVswXSx2YWx1ZTplWzFdfSl9KX1yZWFkeShmdW5jdGlvbigpe3ZhciBlPW5ldyBVUkk7bG9nLmluZm8oXCJ1cmk6IFwiK2UpO3ZhciB0PWUuc3ViZG9tYWluKCkuc3BsaXQoXCIuXCIpLnNsaWNlKC0xKS5wb3AoKTtsb2cuaW5mbyhcInVybjogXCIrdCx0KTt2YXIgYT1lLmZyYWdtZW50KCk7bG9nLmluZm8oXCJmcmFnbWVudDogXCIrYSksXCJcIj09PXQmJih0PWEmJlwiIVwiIT09YVswXT9hOlwibG9jYWxob3N0XCI9PT1lLmhvc3RuYW1lKCl8fFwiMTI3LjAuMC4xXCI9PT1lLmhvc3RuYW1lKCk/XCJsb2NhbGhvc3RcIjpcInd3d1wiKTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwZWVjaFwiKSxuPW5ldyBOYXYocik7RE5TLmxvb2t1cCh0LG4ubG9hZCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVSTChyLnNyYykub3JpZ2luO2Uub3JpZ2luPT09dCYmKGNvbnNvbGUuZGlyKGUpLHVwZGF0ZXIoZS5kYXRhKSl9KX0pOyIsIiFmdW5jdGlvbihlLG4pe1widW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9bigpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmXCJvYmplY3RcIj09dHlwZW9mIGRlZmluZS5hbWQ/ZGVmaW5lKG4pOnRoaXNbZV09bigpfShcImRvbXJlYWR5XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2ZvcihpPTE7ZT10LnNoaWZ0KCk7KWUoKX12YXIgbix0PVtdLG89ITEsZD1kb2N1bWVudCxmPVwiRE9NQ29udGVudExvYWRlZFwiLGk9L15sb2FkZWR8XmMvLnRlc3QoZC5yZWFkeVN0YXRlKTtyZXR1cm4gZC5hZGRFdmVudExpc3RlbmVyKGYsbj1mdW5jdGlvbigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihmLG4sbyksZSgpfSxvKSxmdW5jdGlvbihlKXtpP2UoKTp0LnB1c2goZSl9fSk7IiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUuZG9jdW1lbnQ/dChlLCEwKTpmdW5jdGlvbihlKXtpZighZS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO3JldHVybiB0KGUpfTp0KGUpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXt2YXIgdD1lLmxlbmd0aCxuPWV0LnR5cGUoZSk7cmV0dXJuXCJmdW5jdGlvblwiPT09bnx8ZXQuaXNXaW5kb3coZSk/ITE6MT09PWUubm9kZVR5cGUmJnQ/ITA6XCJhcnJheVwiPT09bnx8MD09PXR8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlfWZ1bmN0aW9uIHIoZSx0LG4pe2lmKGV0LmlzRnVuY3Rpb24odCkpcmV0dXJuIGV0LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiEhdC5jYWxsKGUscixlKSE9PW59KTtpZih0Lm5vZGVUeXBlKXJldHVybiBldC5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10IT09bn0pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihhdC50ZXN0KHQpKXJldHVybiBldC5maWx0ZXIodCxlLG4pO3Q9ZXQuZmlsdGVyKHQsZSl9cmV0dXJuIGV0LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gVS5jYWxsKHQsZSk+PTAhPT1ufSl9ZnVuY3Rpb24gaShlLHQpe2Zvcig7KGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlOyk7cmV0dXJuIGV9ZnVuY3Rpb24gbyhlKXt2YXIgdD1odFtlXT17fTtyZXR1cm4gZXQuZWFjaChlLm1hdGNoKGR0KXx8W10sZnVuY3Rpb24oZSxuKXt0W25dPSEwfSksdH1mdW5jdGlvbiBzKCl7Sy5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHMsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKSxldC5yZWFkeSgpfWZ1bmN0aW9uIGEoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89ZXQuZXhwYW5kbytNYXRoLnJhbmRvbSgpfWZ1bmN0aW9uIHUoZSx0LG4pe3ZhciByO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9XCJkYXRhLVwiK3QucmVwbGFjZShidCxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLG49ZS5nZXRBdHRyaWJ1dGUociksXCJzdHJpbmdcIj09dHlwZW9mIG4pe3RyeXtuPVwidHJ1ZVwiPT09bj8hMDpcImZhbHNlXCI9PT1uPyExOlwibnVsbFwiPT09bj9udWxsOituK1wiXCI9PT1uPytuOnh0LnRlc3Qobik/ZXQucGFyc2VKU09OKG4pOm59Y2F0Y2goaSl7fXl0LnNldChlLHQsbil9ZWxzZSBuPXZvaWQgMDtyZXR1cm4gbn1mdW5jdGlvbiBsKCl7cmV0dXJuITB9ZnVuY3Rpb24gYygpe3JldHVybiExfWZ1bmN0aW9uIGYoKXt0cnl7cmV0dXJuIEsuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gZXQubm9kZU5hbWUoZSxcInRhYmxlXCIpJiZldC5ub2RlTmFtZSgxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsXCJ0clwiKT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGUuYXBwZW5kQ2hpbGQoZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSk6ZX1mdW5jdGlvbiBkKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2UudHlwZSxlfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9UHQuZXhlYyhlLnR5cGUpO3JldHVybiB0P2UudHlwZT10WzFdOmUucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxlfWZ1bmN0aW9uIGcoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO3I+bjtuKyspdnQuc2V0KGVbbl0sXCJnbG9iYWxFdmFsXCIsIXR8fHZ0LmdldCh0W25dLFwiZ2xvYmFsRXZhbFwiKSl9ZnVuY3Rpb24gbShlLHQpe3ZhciBuLHIsaSxvLHMsYSx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKHZ0Lmhhc0RhdGEoZSkmJihvPXZ0LmFjY2VzcyhlKSxzPXZ0LnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgcy5oYW5kbGUscy5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7cj5uO24rKylldC5ldmVudC5hZGQodCxpLGxbaV1bbl0pfXl0Lmhhc0RhdGEoZSkmJihhPXl0LmFjY2VzcyhlKSx1PWV0LmV4dGVuZCh7fSxhKSx5dC5zZXQodCx1KSl9fWZ1bmN0aW9uIHYoZSx0KXt2YXIgbj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8XCIqXCIpOmUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8XCIqXCIpOltdO3JldHVybiB2b2lkIDA9PT10fHx0JiZldC5ub2RlTmFtZShlLHQpP2V0Lm1lcmdlKFtlXSxuKTpufWZ1bmN0aW9uIHkoZSx0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJpbnB1dFwiPT09biYmTnQudGVzdChlLnR5cGUpP3QuY2hlY2tlZD1lLmNoZWNrZWQ6KFwiaW5wdXRcIj09PW58fFwidGV4dGFyZWFcIj09PW4pJiYodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIHgodCxuKXt2YXIgcj1ldChuLmNyZWF0ZUVsZW1lbnQodCkpLmFwcGVuZFRvKG4uYm9keSksaT1lLmdldERlZmF1bHRDb21wdXRlZFN0eWxlP2UuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoclswXSkuZGlzcGxheTpldC5jc3MoclswXSxcImRpc3BsYXlcIik7cmV0dXJuIHIuZGV0YWNoKCksaX1mdW5jdGlvbiBiKGUpe3ZhciB0PUssbj0kdFtlXTtyZXR1cm4gbnx8KG49eChlLHQpLFwibm9uZVwiIT09biYmbnx8KFd0PShXdHx8ZXQoXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyh0LmRvY3VtZW50RWxlbWVudCksdD1XdFswXS5jb250ZW50RG9jdW1lbnQsdC53cml0ZSgpLHQuY2xvc2UoKSxuPXgoZSx0KSxXdC5kZXRhY2goKSksJHRbZV09biksbn1mdW5jdGlvbiB3KGUsdCxuKXt2YXIgcixpLG8scyxhPWUuc3R5bGU7cmV0dXJuIG49bnx8X3QoZSksbiYmKHM9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKSxuJiYoXCJcIiE9PXN8fGV0LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8KHM9ZXQuc3R5bGUoZSx0KSksSXQudGVzdChzKSYmQnQudGVzdCh0KSYmKHI9YS53aWR0aCxpPWEubWluV2lkdGgsbz1hLm1heFdpZHRoLGEubWluV2lkdGg9YS5tYXhXaWR0aD1hLndpZHRoPXMscz1uLndpZHRoLGEud2lkdGg9cixhLm1pbldpZHRoPWksYS5tYXhXaWR0aD1vKSksdm9pZCAwIT09cz9zK1wiXCI6c31mdW5jdGlvbiBUKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBlKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIEMoZSx0KXtpZih0IGluIGUpcmV0dXJuIHQ7Zm9yKHZhciBuPXRbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLHI9dCxpPUd0Lmxlbmd0aDtpLS07KWlmKHQ9R3RbaV0rbix0IGluIGUpcmV0dXJuIHQ7cmV0dXJuIHJ9ZnVuY3Rpb24gTihlLHQsbil7dmFyIHI9enQuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMV0tKG58fDApKSsoclsyXXx8XCJweFwiKTp0fWZ1bmN0aW9uIGsoZSx0LG4scixpKXtmb3IodmFyIG89bj09PShyP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09dD8xOjAscz0wOzQ+bztvKz0yKVwibWFyZ2luXCI9PT1uJiYocys9ZXQuY3NzKGUsbitUdFtvXSwhMCxpKSkscj8oXCJjb250ZW50XCI9PT1uJiYocy09ZXQuY3NzKGUsXCJwYWRkaW5nXCIrVHRbb10sITAsaSkpLFwibWFyZ2luXCIhPT1uJiYocy09ZXQuY3NzKGUsXCJib3JkZXJcIitUdFtvXStcIldpZHRoXCIsITAsaSkpKToocys9ZXQuY3NzKGUsXCJwYWRkaW5nXCIrVHRbb10sITAsaSksXCJwYWRkaW5nXCIhPT1uJiYocys9ZXQuY3NzKGUsXCJib3JkZXJcIitUdFtvXStcIldpZHRoXCIsITAsaSkpKTtyZXR1cm4gc31mdW5jdGlvbiBFKGUsdCxuKXt2YXIgcj0hMCxpPVwid2lkdGhcIj09PXQ/ZS5vZmZzZXRXaWR0aDplLm9mZnNldEhlaWdodCxvPV90KGUpLHM9XCJib3JkZXItYm94XCI9PT1ldC5jc3MoZSxcImJveFNpemluZ1wiLCExLG8pO2lmKDA+PWl8fG51bGw9PWkpe2lmKGk9dyhlLHQsbyksKDA+aXx8bnVsbD09aSkmJihpPWUuc3R5bGVbdF0pLEl0LnRlc3QoaSkpcmV0dXJuIGk7cj1zJiYoSi5ib3hTaXppbmdSZWxpYWJsZSgpfHxpPT09ZS5zdHlsZVt0XSksaT1wYXJzZUZsb2F0KGkpfHwwfXJldHVybiBpK2soZSx0LG58fChzP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLHIsbykrXCJweFwifWZ1bmN0aW9uIEQoZSx0KXtmb3IodmFyIG4scixpLG89W10scz0wLGE9ZS5sZW5ndGg7YT5zO3MrKylyPWVbc10sci5zdHlsZSYmKG9bc109dnQuZ2V0KHIsXCJvbGRkaXNwbGF5XCIpLG49ci5zdHlsZS5kaXNwbGF5LHQ/KG9bc118fFwibm9uZVwiIT09bnx8KHIuc3R5bGUuZGlzcGxheT1cIlwiKSxcIlwiPT09ci5zdHlsZS5kaXNwbGF5JiZDdChyKSYmKG9bc109dnQuYWNjZXNzKHIsXCJvbGRkaXNwbGF5XCIsYihyLm5vZGVOYW1lKSkpKTpvW3NdfHwoaT1DdChyKSwobiYmXCJub25lXCIhPT1ufHwhaSkmJnZ0LnNldChyLFwib2xkZGlzcGxheVwiLGk/bjpldC5jc3MocixcImRpc3BsYXlcIikpKSk7Zm9yKHM9MDthPnM7cysrKXI9ZVtzXSxyLnN0eWxlJiYodCYmXCJub25lXCIhPT1yLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1yLnN0eWxlLmRpc3BsYXl8fChyLnN0eWxlLmRpc3BsYXk9dD9vW3NdfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGV9ZnVuY3Rpb24gaihlLHQsbixyLGkpe3JldHVybiBuZXcgai5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfWZ1bmN0aW9uIFMoKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe1F0PXZvaWQgMH0pLFF0PWV0Lm5vdygpfWZ1bmN0aW9uIEEoZSx0KXt2YXIgbixyPTAsaT17aGVpZ2h0OmV9O2Zvcih0PXQ/MTowOzQ+cjtyKz0yLXQpbj1UdFtyXSxpW1wibWFyZ2luXCIrbl09aVtcInBhZGRpbmdcIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiBMKGUsdCxuKXtmb3IodmFyIHIsaT0obm5bdF18fFtdKS5jb25jYXQobm5bXCIqXCJdKSxvPTAscz1pLmxlbmd0aDtzPm87bysrKWlmKHI9aVtvXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBxKGUsdCxuKXt2YXIgcixpLG8scyxhLHUsbCxjPXRoaXMsZj17fSxwPWUuc3R5bGUsZD1lLm5vZGVUeXBlJiZDdChlKSxoPXZ0LmdldChlLFwiZnhzaG93XCIpO24ucXVldWV8fChhPWV0Ll9xdWV1ZUhvb2tzKGUsXCJmeFwiKSxudWxsPT1hLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHU9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHUoKX0pLGEudW5xdWV1ZWQrKyxjLmFsd2F5cyhmdW5jdGlvbigpe2MuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLGV0LnF1ZXVlKGUsXCJmeFwiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksMT09PWUubm9kZVR5cGUmJihcImhlaWdodFwiaW4gdHx8XCJ3aWR0aFwiaW4gdCkmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSxsPWV0LmNzcyhlLFwiZGlzcGxheVwiKSxcIm5vbmVcIj09PWwmJihsPWIoZS5ub2RlTmFtZSkpLFwiaW5saW5lXCI9PT1sJiZcIm5vbmVcIj09PWV0LmNzcyhlLFwiZmxvYXRcIikmJihwLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLG4ub3ZlcmZsb3cmJihwLm92ZXJmbG93PVwiaGlkZGVuXCIsYy5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PW4ub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9bi5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1uLm92ZXJmbG93WzJdfSkpO2ZvcihyIGluIHQpaWYoaT10W3JdLEt0LmV4ZWMoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8XCJ0b2dnbGVcIj09PWksaT09PShkP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1pfHwhaHx8dm9pZCAwPT09aFtyXSljb250aW51ZTtkPSEwfWZbcl09aCYmaFtyXXx8ZXQuc3R5bGUoZSxyKX1pZighZXQuaXNFbXB0eU9iamVjdChmKSl7aD9cImhpZGRlblwiaW4gaCYmKGQ9aC5oaWRkZW4pOmg9dnQuYWNjZXNzKGUsXCJmeHNob3dcIix7fSksbyYmKGguaGlkZGVuPSFkKSxkP2V0KGUpLnNob3coKTpjLmRvbmUoZnVuY3Rpb24oKXtldChlKS5oaWRlKCl9KSxjLmRvbmUoZnVuY3Rpb24oKXt2YXIgdDt2dC5yZW1vdmUoZSxcImZ4c2hvd1wiKTtmb3IodCBpbiBmKWV0LnN0eWxlKGUsdCxmW3RdKX0pO2ZvcihyIGluIGYpcz1MKGQ/aFtyXTowLHIsYyksciBpbiBofHwoaFtyXT1zLnN0YXJ0LGQmJihzLmVuZD1zLnN0YXJ0LHMuc3RhcnQ9XCJ3aWR0aFwiPT09cnx8XCJoZWlnaHRcIj09PXI/MTowKSl9fWZ1bmN0aW9uIEgoZSx0KXt2YXIgbixyLGksbyxzO2ZvcihuIGluIGUpaWYocj1ldC5jYW1lbENhc2UobiksaT10W3JdLG89ZVtuXSxldC5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSkscz1ldC5jc3NIb29rc1tyXSxzJiZcImV4cGFuZFwiaW4gcyl7bz1zLmV4cGFuZChvKSxkZWxldGUgZVtyXTtmb3IobiBpbiBvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpfWVsc2UgdFtyXT1pfWZ1bmN0aW9uIE8oZSx0LG4pe3ZhciByLGksbz0wLHM9dG4ubGVuZ3RoLGE9ZXQuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgdS5lbGVtfSksdT1mdW5jdGlvbigpe2lmKGkpcmV0dXJuITE7Zm9yKHZhciB0PVF0fHxTKCksbj1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tdCkscj1uL2wuZHVyYXRpb258fDAsbz0xLXIscz0wLHU9bC50d2VlbnMubGVuZ3RoO3U+cztzKyspbC50d2VlbnNbc10ucnVuKG8pO3JldHVybiBhLm5vdGlmeVdpdGgoZSxbbCxvLG5dKSwxPm8mJnU/bjooYS5yZXNvbHZlV2l0aChlLFtsXSksITEpfSxsPWEucHJvbWlzZSh7ZWxlbTplLHByb3BzOmV0LmV4dGVuZCh7fSx0KSxvcHRzOmV0LmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sbiksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOm4sc3RhcnRUaW1lOlF0fHxTKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj1ldC5Ud2VlbihlLGwub3B0cyx0LG4sbC5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKHIpLHJ9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIG49MCxyPXQ/bC50d2VlbnMubGVuZ3RoOjA7aWYoaSlyZXR1cm4gdGhpcztmb3IoaT0hMDtyPm47bisrKWwudHdlZW5zW25dLnJ1bigxKTtyZXR1cm4gdD9hLnJlc29sdmVXaXRoKGUsW2wsdF0pOmEucmVqZWN0V2l0aChlLFtsLHRdKSx0aGlzfX0pLGM9bC5wcm9wcztmb3IoSChjLGwub3B0cy5zcGVjaWFsRWFzaW5nKTtzPm87bysrKWlmKHI9dG5bb10uY2FsbChsLGUsYyxsLm9wdHMpKXJldHVybiByO3JldHVybiBldC5tYXAoYyxMLGwpLGV0LmlzRnVuY3Rpb24obC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSxldC5meC50aW1lcihldC5leHRlbmQodSx7ZWxlbTplLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbC5wcm9ncmVzcyhsLm9wdHMucHJvZ3Jlc3MpLmRvbmUobC5vcHRzLmRvbmUsbC5vcHRzLmNvbXBsZXRlKS5mYWlsKGwub3B0cy5mYWlsKS5hbHdheXMobC5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gRihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtcInN0cmluZ1wiIT10eXBlb2YgdCYmKG49dCx0PVwiKlwiKTt2YXIgcixpPTAsbz10LnRvTG93ZXJDYXNlKCkubWF0Y2goZHQpfHxbXTtpZihldC5pc0Z1bmN0aW9uKG4pKWZvcig7cj1vW2krK107KVwiK1wiPT09clswXT8ocj1yLnNsaWNlKDEpfHxcIipcIiwoZVtyXT1lW3JdfHxbXSkudW5zaGlmdChuKSk6KGVbcl09ZVtyXXx8W10pLnB1c2gobil9fWZ1bmN0aW9uIFAoZSx0LG4scil7ZnVuY3Rpb24gaShhKXt2YXIgdTtyZXR1cm4gb1thXT0hMCxldC5lYWNoKGVbYV18fFtdLGZ1bmN0aW9uKGUsYSl7dmFyIGw9YSh0LG4scik7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGx8fHN8fG9bbF0/cz8hKHU9bCk6dm9pZCAwOih0LmRhdGFUeXBlcy51bnNoaWZ0KGwpLGkobCksITEpfSksdX12YXIgbz17fSxzPWU9PT1UbjtyZXR1cm4gaSh0LmRhdGFUeXBlc1swXSl8fCFvW1wiKlwiXSYmaShcIipcIil9ZnVuY3Rpb24gTShlLHQpe3ZhciBuLHIsaT1ldC5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmZXQuZXh0ZW5kKCEwLGUsciksZX1mdW5jdGlvbiBSKGUsdCxuKXtmb3IodmFyIHIsaSxvLHMsYT1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7XCIqXCI9PT11WzBdOyl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYocilmb3IoaSBpbiBhKWlmKGFbaV0mJmFbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaStcIiBcIit1WzBdXSl7bz1pO2JyZWFrfXN8fChzPWkpfW89b3x8c31yZXR1cm4gbz8obyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dKTp2b2lkIDB9ZnVuY3Rpb24gVyhlLHQsbixyKXt2YXIgaSxvLHMsYSx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKHMgaW4gZS5jb252ZXJ0ZXJzKWxbcy50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbc107Zm9yKG89Yy5zaGlmdCgpO287KWlmKGUucmVzcG9uc2VGaWVsZHNbb10mJihuW2UucmVzcG9uc2VGaWVsZHNbb11dPXQpLCF1JiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSx1PW8sbz1jLnNoaWZ0KCkpaWYoXCIqXCI9PT1vKW89dTtlbHNlIGlmKFwiKlwiIT09dSYmdSE9PW8pe2lmKHM9bFt1K1wiIFwiK29dfHxsW1wiKiBcIitvXSwhcylmb3IoaSBpbiBsKWlmKGE9aS5zcGxpdChcIiBcIiksYVsxXT09PW8mJihzPWxbdStcIiBcIithWzBdXXx8bFtcIiogXCIrYVswXV0pKXtzPT09ITA/cz1sW2ldOmxbaV0hPT0hMCYmKG89YVswXSxjLnVuc2hpZnQoYVsxXSkpO2JyZWFrfWlmKHMhPT0hMClpZihzJiZlW1widGhyb3dzXCJdKXQ9cyh0KTtlbHNlIHRyeXt0PXModCl9Y2F0Y2goZil7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpzP2Y6XCJObyBjb252ZXJzaW9uIGZyb20gXCIrdStcIiB0byBcIitvfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6dH19ZnVuY3Rpb24gJChlLHQsbixyKXt2YXIgaTtpZihldC5pc0FycmF5KHQpKWV0LmVhY2godCxmdW5jdGlvbih0LGkpe258fEVuLnRlc3QoZSk/cihlLGkpOiQoZStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGk/dDpcIlwiKStcIl1cIixpLG4scil9KTtlbHNlIGlmKG58fFwib2JqZWN0XCIhPT1ldC50eXBlKHQpKXIoZSx0KTtlbHNlIGZvcihpIGluIHQpJChlK1wiW1wiK2krXCJdXCIsdFtpXSxuLHIpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGV0LmlzV2luZG93KGUpP2U6OT09PWUubm9kZVR5cGUmJmUuZGVmYXVsdFZpZXd9dmFyIEk9W10sXz1JLnNsaWNlLFg9SS5jb25jYXQsej1JLnB1c2gsVT1JLmluZGV4T2YsVj17fSxZPVYudG9TdHJpbmcsRz1WLmhhc093blByb3BlcnR5LFE9XCJcIi50cmltLEo9e30sSz1lLmRvY3VtZW50LFo9XCIyLjEuMFwiLGV0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBldC5mbi5pbml0KGUsdCl9LHR0PS9eLW1zLS8sbnQ9Ly0oW1xcZGEtel0pL2dpLHJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX07ZXQuZm49ZXQucHJvdG90eXBlPXtqcXVlcnk6Wixjb25zdHJ1Y3RvcjpldCxzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gXy5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/MD5lP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXTpfLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihlKXt2YXIgdD1ldC5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHQuY29udGV4dD10aGlzLmNvbnRleHQsdH0sZWFjaDpmdW5jdGlvbihlLHQpe3JldHVybiBldC5lYWNoKHRoaXMsZSx0KX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhldC5tYXAodGhpcyxmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwodCxuLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhfLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKDA+ZT90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhuPj0wJiZ0Pm4/W3RoaXNbbl1dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDp6LHNvcnQ6SS5zb3J0LHNwbGljZTpJLnNwbGljZX0sZXQuZXh0ZW5kPWV0LmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxzPWFyZ3VtZW50c1swXXx8e30sYT0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIHMmJihsPXMscz1hcmd1bWVudHNbYV18fHt9LGErKyksXCJvYmplY3RcIj09dHlwZW9mIHN8fGV0LmlzRnVuY3Rpb24ocyl8fChzPXt9KSxhPT09dSYmKHM9dGhpcyxhLS0pO3U+YTthKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW2FdKSlmb3IodCBpbiBlKW49c1t0XSxyPWVbdF0scyE9PXImJihsJiZyJiYoZXQuaXNQbGFpbk9iamVjdChyKXx8KGk9ZXQuaXNBcnJheShyKSkpPyhpPyhpPSExLG89biYmZXQuaXNBcnJheShuKT9uOltdKTpvPW4mJmV0LmlzUGxhaW5PYmplY3Qobik/bjp7fSxzW3RdPWV0LmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihzW3RdPXIpKTtyZXR1cm4gc30sZXQuZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKForTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09ZXQudHlwZShlKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlPT09ZS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihlKXtyZXR1cm4gZS1wYXJzZUZsb2F0KGUpPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPT1ldC50eXBlKGUpfHxlLm5vZGVUeXBlfHxldC5pc1dpbmRvdyhlKSlyZXR1cm4hMTt0cnl7aWYoZS5jb25zdHJ1Y3RvciYmIUcuY2FsbChlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITF9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9lK1wiXCI6XCJvYmplY3RcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/VltZLmNhbGwoZSldfHxcIm9iamVjdFwiOnR5cGVvZiBlfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZXZhbDtlPWV0LnRyaW0oZSksZSYmKDE9PT1lLmluZGV4T2YoXCJ1c2Ugc3RyaWN0XCIpPyh0PUsuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSx0LnRleHQ9ZSxLLmhlYWQuYXBwZW5kQ2hpbGQodCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSk6bihlKSl9LGNhbWVsQ2FzZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHR0LFwibXMtXCIpLnJlcGxhY2UobnQscnQpfSxub2RlTmFtZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG89MCxzPWUubGVuZ3RoLGE9bihlKTtpZihyKXtpZihhKWZvcig7cz5vJiYoaT10LmFwcGx5KGVbb10sciksaSE9PSExKTtvKyspO2Vsc2UgZm9yKG8gaW4gZSlpZihpPXQuYXBwbHkoZVtvXSxyKSxpPT09ITEpYnJlYWt9ZWxzZSBpZihhKWZvcig7cz5vJiYoaT10LmNhbGwoZVtvXSxvLGVbb10pLGkhPT0hMSk7bysrKTtlbHNlIGZvcihvIGluIGUpaWYoaT10LmNhbGwoZVtvXSxvLGVbb10pLGk9PT0hMSlicmVhaztyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOlEuY2FsbChlKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dHx8W107cmV0dXJuIG51bGwhPWUmJihuKE9iamVjdChlKSk/ZXQubWVyZ2UocixcInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSk6ei5jYWxsKHIsZSkpLHJ9LGluQXJyYXk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT10Py0xOlUuY2FsbCh0LGUsbil9LG1lcmdlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSt0Lmxlbmd0aCxyPTAsaT1lLmxlbmd0aDtuPnI7cisrKWVbaSsrXT10W3JdO3JldHVybiBlLmxlbmd0aD1pLGV9LGdyZXA6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpPVtdLG89MCxzPWUubGVuZ3RoLGE9IW47cz5vO28rKylyPSF0KGVbb10sbyksciE9PWEmJmkucHVzaChlW29dKTtyZXR1cm4gaX0sbWFwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvPTAscz1lLmxlbmd0aCxhPW4oZSksdT1bXTtpZihhKWZvcig7cz5vO28rKylpPXQoZVtvXSxvLHIpLG51bGwhPWkmJnUucHVzaChpKTtlbHNlIGZvcihvIGluIGUpaT10KGVbb10sbyxyKSxudWxsIT1pJiZ1LnB1c2goaSk7cmV0dXJuIFguYXBwbHkoW10sdSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxldC5pc0Z1bmN0aW9uKGUpPyhyPV8uY2FsbChhcmd1bWVudHMsMiksaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQoXy5jYWxsKGFyZ3VtZW50cykpKX0saS5ndWlkPWUuZ3VpZD1lLmd1aWR8fGV0Lmd1aWQrKyxpKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Okp9KSxldC5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe1ZbXCJbb2JqZWN0IFwiK3QrXCJdXCJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBpdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLHIpe3ZhciBpLG8scyxhLHUsbCxmLGgsZyxtO2lmKCh0P3Qub3duZXJEb2N1bWVudHx8dDokKSE9PXEmJkwodCksdD10fHxxLG49bnx8W10sIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBuO2lmKDEhPT0oYT10Lm5vZGVUeXBlKSYmOSE9PWEpcmV0dXJuW107aWYoTyYmIXIpe2lmKGk9eXQuZXhlYyhlKSlpZihzPWlbMV0pe2lmKDk9PT1hKXtpZihvPXQuZ2V0RWxlbWVudEJ5SWQocyksIW98fCFvLnBhcmVudE5vZGUpcmV0dXJuIG47aWYoby5pZD09PXMpcmV0dXJuIG4ucHVzaChvKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYobz10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocykpJiZSKHQsbykmJm8uaWQ9PT1zKXJldHVybiBuLnB1c2gobyksbn1lbHNle2lmKGlbMl0pcmV0dXJuIFouYXBwbHkobix0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSxuO2lmKChzPWlbM10pJiZDLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gWi5hcHBseShuLHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShzKSksbn1pZihDLnFzYSYmKCFGfHwhRi50ZXN0KGUpKSl7aWYoaD1mPVcsZz10LG09OT09PWEmJmUsMT09PWEmJlwib2JqZWN0XCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2ZvcihsPXAoZSksKGY9dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSk/aD1mLnJlcGxhY2UoYnQsXCJcXFxcJCZcIik6dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLGgpLGg9XCJbaWQ9J1wiK2grXCInXSBcIix1PWwubGVuZ3RoO3UtLTspbFt1XT1oK2QobFt1XSk7Zz14dC50ZXN0KGUpJiZjKHQucGFyZW50Tm9kZSl8fHQsbT1sLmpvaW4oXCIsXCIpfWlmKG0pdHJ5e3JldHVybiBaLmFwcGx5KG4sZy5xdWVyeVNlbGVjdG9yQWxsKG0pKSxufWNhdGNoKHYpe31maW5hbGx5e2Z8fHQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4gdyhlLnJlcGxhY2UodXQsXCIkMVwiKSx0LG4scil9ZnVuY3Rpb24gbigpe2Z1bmN0aW9uIGUobixyKXtyZXR1cm4gdC5wdXNoKG4rXCIgXCIpPk4uY2FjaGVMZW5ndGgmJmRlbGV0ZSBlW3Quc2hpZnQoKV0sZVtuK1wiIFwiXT1yfXZhciB0PVtdO3JldHVybiBlfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGVbV109ITAsZX1mdW5jdGlvbiBpKGUpe3ZhciB0PXEuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKG4pe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciBuPWUuc3BsaXQoXCJ8XCIpLHI9ZS5sZW5ndGg7ci0tOylOLmF0dHJIYW5kbGVbbltyXV09dH1mdW5jdGlvbiBzKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmKH50LnNvdXJjZUluZGV4fHxZKS0ofmUuc291cmNlSW5kZXh8fFkpO2lmKHIpcmV0dXJuIHI7aWYobilmb3IoO249bi5uZXh0U2libGluZzspaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBhKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09biYmdC50eXBlPT09ZX19ZnVuY3Rpb24gdShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1ufHxcImJ1dHRvblwiPT09bikmJnQudHlwZT09PWV9fWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHIoZnVuY3Rpb24odCl7cmV0dXJuIHQ9K3QscihmdW5jdGlvbihuLHIpe2Zvcih2YXIgaSxvPWUoW10sbi5sZW5ndGgsdCkscz1vLmxlbmd0aDtzLS07KW5baT1vW3NdXSYmKG5baV09IShyW2ldPW5baV0pKX0pfSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1WJiZlfWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gcChlLG4pe3ZhciByLGksbyxzLGEsdSxsLGM9WFtlK1wiIFwiXTtpZihjKXJldHVybiBuPzA6Yy5zbGljZSgwKTtmb3IoYT1lLHU9W10sbD1OLnByZUZpbHRlcjthOyl7KCFyfHwoaT1sdC5leGVjKGEpKSkmJihpJiYoYT1hLnNsaWNlKGlbMF0ubGVuZ3RoKXx8YSksdS5wdXNoKG89W10pKSxyPSExLChpPWN0LmV4ZWMoYSkpJiYocj1pLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpyLHR5cGU6aVswXS5yZXBsYWNlKHV0LFwiIFwiKX0pLGE9YS5zbGljZShyLmxlbmd0aCkpO2ZvcihzIGluIE4uZmlsdGVyKSEoaT1odFtzXS5leGVjKGEpKXx8bFtzXSYmIShpPWxbc10oaSkpfHwocj1pLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpyLHR5cGU6cyxtYXRjaGVzOml9KSxhPWEuc2xpY2Uoci5sZW5ndGgpKTtpZighcilicmVha31yZXR1cm4gbj9hLmxlbmd0aDphP3QuZXJyb3IoZSk6WChlLHUpLnNsaWNlKDApfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxyPVwiXCI7bj50O3QrKylyKz1lW3RdLnZhbHVlO3JldHVybiByfWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciByPXQuZGlyLGk9biYmXCJwYXJlbnROb2RlXCI9PT1yLG89SSsrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixvKXtmb3IoO3Q9dFtyXTspaWYoMT09PXQubm9kZVR5cGV8fGkpcmV0dXJuIGUodCxuLG8pfTpmdW5jdGlvbih0LG4scyl7dmFyIGEsdSxsPVtCLG9dO2lmKHMpe2Zvcig7dD10W3JdOylpZigoMT09PXQubm9kZVR5cGV8fGkpJiZlKHQsbixzKSlyZXR1cm4hMH1lbHNlIGZvcig7dD10W3JdOylpZigxPT09dC5ub2RlVHlwZXx8aSl7aWYodT10W1ddfHwodFtXXT17fSksKGE9dVtyXSkmJmFbMF09PT1CJiZhWzFdPT09bylyZXR1cm4gbFsyXT1hWzJdO2lmKHVbcl09bCxsWzJdPWUodCxuLHMpKXJldHVybiEwfX19ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZS5sZW5ndGg+MT9mdW5jdGlvbih0LG4scil7Zm9yKHZhciBpPWUubGVuZ3RoO2ktLTspaWYoIWVbaV0odCxuLHIpKXJldHVybiExO3JldHVybiEwfTplWzBdfWZ1bmN0aW9uIG0oZSx0LG4scixpKXtmb3IodmFyIG8scz1bXSxhPTAsdT1lLmxlbmd0aCxsPW51bGwhPXQ7dT5hO2ErKykobz1lW2FdKSYmKCFufHxuKG8scixpKSkmJihzLnB1c2gobyksbCYmdC5wdXNoKGEpKTtyZXR1cm4gc31mdW5jdGlvbiB2KGUsdCxuLGksbyxzKXtyZXR1cm4gaSYmIWlbV10mJihpPXYoaSkpLG8mJiFvW1ddJiYobz12KG8scykpLHIoZnVuY3Rpb24ocixzLGEsdSl7dmFyIGwsYyxmLHA9W10sZD1bXSxoPXMubGVuZ3RoLGc9cnx8Yih0fHxcIipcIixhLm5vZGVUeXBlP1thXTphLFtdKSx2PSFlfHwhciYmdD9nOm0oZyxwLGUsYSx1KSx5PW4/b3x8KHI/ZTpofHxpKT9bXTpzOnY7aWYobiYmbih2LHksYSx1KSxpKWZvcihsPW0oeSxkKSxpKGwsW10sYSx1KSxjPWwubGVuZ3RoO2MtLTspKGY9bFtjXSkmJih5W2RbY11dPSEodltkW2NdXT1mKSk7aWYocil7aWYob3x8ZSl7aWYobyl7Zm9yKGw9W10sYz15Lmxlbmd0aDtjLS07KShmPXlbY10pJiZsLnB1c2godltjXT1mKTtvKG51bGwseT1bXSxsLHUpfWZvcihjPXkubGVuZ3RoO2MtLTspKGY9eVtjXSkmJihsPW8/dHQuY2FsbChyLGYpOnBbY10pPi0xJiYocltsXT0hKHNbbF09ZikpfX1lbHNlIHk9bSh5PT09cz95LnNwbGljZShoLHkubGVuZ3RoKTp5KSxvP28obnVsbCxzLHksdSk6Wi5hcHBseShzLHkpfSl9ZnVuY3Rpb24geShlKXtmb3IodmFyIHQsbixyLGk9ZS5sZW5ndGgsbz1OLnJlbGF0aXZlW2VbMF0udHlwZV0scz1vfHxOLnJlbGF0aXZlW1wiIFwiXSxhPW8/MTowLHU9aChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LHMsITApLGw9aChmdW5jdGlvbihlKXtyZXR1cm4gdHQuY2FsbCh0LGUpPi0xfSxzLCEwKSxjPVtmdW5jdGlvbihlLG4scil7cmV0dXJuIW8mJihyfHxuIT09ail8fCgodD1uKS5ub2RlVHlwZT91KGUsbixyKTpsKGUsbixyKSl9XTtpPmE7YSsrKWlmKG49Ti5yZWxhdGl2ZVtlW2FdLnR5cGVdKWM9W2goZyhjKSxuKV07ZWxzZXtpZihuPU4uZmlsdGVyW2VbYV0udHlwZV0uYXBwbHkobnVsbCxlW2FdLm1hdGNoZXMpLG5bV10pe2ZvcihyPSsrYTtpPnImJiFOLnJlbGF0aXZlW2Vbcl0udHlwZV07cisrKTtyZXR1cm4gdihhPjEmJmcoYyksYT4xJiZkKGUuc2xpY2UoMCxhLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1lW2EtMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UodXQsXCIkMVwiKSxuLHI+YSYmeShlLnNsaWNlKGEscikpLGk+ciYmeShlPWUuc2xpY2UocikpLGk+ciYmZChlKSl9Yy5wdXNoKG4pfXJldHVybiBnKGMpfWZ1bmN0aW9uIHgoZSxuKXt2YXIgaT1uLmxlbmd0aD4wLG89ZS5sZW5ndGg+MCxzPWZ1bmN0aW9uKHIscyxhLHUsbCl7dmFyIGMsZixwLGQ9MCxoPVwiMFwiLGc9ciYmW10sdj1bXSx5PWoseD1yfHxvJiZOLmZpbmQuVEFHKFwiKlwiLGwpLGI9Qis9bnVsbD09eT8xOk1hdGgucmFuZG9tKCl8fC4xLHc9eC5sZW5ndGg7Zm9yKGwmJihqPXMhPT1xJiZzKTtoIT09dyYmbnVsbCE9KGM9eFtoXSk7aCsrKXtpZihvJiZjKXtmb3IoZj0wO3A9ZVtmKytdOylpZihwKGMscyxhKSl7dS5wdXNoKGMpO2JyZWFrfWwmJihCPWIpfWkmJigoYz0hcCYmYykmJmQtLSxyJiZnLnB1c2goYykpfWlmKGQrPWgsaSYmaCE9PWQpe2ZvcihmPTA7cD1uW2YrK107KXAoZyx2LHMsYSk7aWYocil7aWYoZD4wKWZvcig7aC0tOylnW2hdfHx2W2hdfHwodltoXT1KLmNhbGwodSkpO3Y9bSh2KX1aLmFwcGx5KHUsdiksbCYmIXImJnYubGVuZ3RoPjAmJmQrbi5sZW5ndGg+MSYmdC51bmlxdWVTb3J0KHUpfXJldHVybiBsJiYoQj1iLGo9eSksZ307cmV0dXJuIGk/cihzKTpzfWZ1bmN0aW9uIGIoZSxuLHIpe2Zvcih2YXIgaT0wLG89bi5sZW5ndGg7bz5pO2krKyl0KGUsbltpXSxyKTtyZXR1cm4gcn1mdW5jdGlvbiB3KGUsdCxuLHIpe3ZhciBpLG8scyxhLHUsbD1wKGUpO2lmKCFyJiYxPT09bC5sZW5ndGgpe2lmKG89bFswXT1sWzBdLnNsaWNlKDApLG8ubGVuZ3RoPjImJlwiSURcIj09PShzPW9bMF0pLnR5cGUmJkMuZ2V0QnlJZCYmOT09PXQubm9kZVR5cGUmJk8mJk4ucmVsYXRpdmVbb1sxXS50eXBlXSl7aWYodD0oTi5maW5kLklEKHMubWF0Y2hlc1swXS5yZXBsYWNlKHd0LFR0KSx0KXx8W10pWzBdLCF0KXJldHVybiBuO2U9ZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3IoaT1odC5uZWVkc0NvbnRleHQudGVzdChlKT8wOm8ubGVuZ3RoO2ktLSYmKHM9b1tpXSwhTi5yZWxhdGl2ZVthPXMudHlwZV0pOylpZigodT1OLmZpbmRbYV0pJiYocj11KHMubWF0Y2hlc1swXS5yZXBsYWNlKHd0LFR0KSx4dC50ZXN0KG9bMF0udHlwZSkmJmModC5wYXJlbnROb2RlKXx8dCkpKXtpZihvLnNwbGljZShpLDEpLGU9ci5sZW5ndGgmJmQobyksIWUpcmV0dXJuIFouYXBwbHkobixyKSxuO2JyZWFrfX1yZXR1cm4gRChlLGwpKHIsdCwhTyxuLHh0LnRlc3QoZSkmJmModC5wYXJlbnROb2RlKXx8dCksbn12YXIgVCxDLE4sayxFLEQsaixTLEEsTCxxLEgsTyxGLFAsTSxSLFc9XCJzaXp6bGVcIistbmV3IERhdGUsJD1lLmRvY3VtZW50LEI9MCxJPTAsXz1uKCksWD1uKCksej1uKCksVT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKEE9ITApLDB9LFY9XCJ1bmRlZmluZWRcIixZPTE8PDMxLEc9e30uaGFzT3duUHJvcGVydHksUT1bXSxKPVEucG9wLEs9US5wdXNoLFo9US5wdXNoLGV0PVEuc2xpY2UsdHQ9US5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO24+dDt0KyspaWYodGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9LG50PVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixydD1cIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsaXQ9XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixvdD1pdC5yZXBsYWNlKFwid1wiLFwidyNcIiksc3Q9XCJcXFxcW1wiK3J0K1wiKihcIitpdCtcIilcIitydCtcIiooPzooWypeJHwhfl0/PSlcIitydCtcIiooPzooWydcXFwiXSkoKD86XFxcXFxcXFwufFteXFxcXFxcXFxdKSo/KVxcXFwzfChcIitvdCtcIil8KXwpXCIrcnQrXCIqXFxcXF1cIixhdD1cIjooXCIraXQrXCIpKD86XFxcXCgoKFsnXFxcIl0pKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXSkqPylcXFxcM3woKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIrc3QucmVwbGFjZSgzLDgpK1wiKSopfC4qKVxcXFwpfClcIix1dD1uZXcgUmVnRXhwKFwiXlwiK3J0K1wiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIitydCtcIiskXCIsXCJnXCIpLGx0PW5ldyBSZWdFeHAoXCJeXCIrcnQrXCIqLFwiK3J0K1wiKlwiKSxjdD1uZXcgUmVnRXhwKFwiXlwiK3J0K1wiKihbPit+XXxcIitydCtcIilcIitydCtcIipcIiksZnQ9bmV3IFJlZ0V4cChcIj1cIitydCtcIiooW15cXFxcXSdcXFwiXSo/KVwiK3J0K1wiKlxcXFxdXCIsXCJnXCIpLHB0PW5ldyBSZWdFeHAoYXQpLGR0PW5ldyBSZWdFeHAoXCJeXCIrb3QrXCIkXCIpLGh0PXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIraXQrXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIraXQrXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIitpdC5yZXBsYWNlKFwid1wiLFwidypcIikrXCIpXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitzdCksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrYXQpLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK3J0K1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrcnQrXCIqKD86KFsrLV18KVwiK3J0K1wiKihcXFxcZCspfCkpXCIrcnQrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrbnQrXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitydCtcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrcnQrXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK3J0K1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxndD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLG10PS9eaFxcZCQvaSx2dD0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLHl0PS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLHh0PS9bK35dLyxidD0vJ3xcXFxcL2csd3Q9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK3J0K1wiP3woXCIrcnQrXCIpfC4pXCIsXCJpZ1wiKSxUdD1mdW5jdGlvbihlLHQsbil7dmFyIHI9XCIweFwiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxuP3Q6MD5yP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMHw1NTI5NiwxMDIzJnJ8NTYzMjApfTt0cnl7Wi5hcHBseShRPWV0LmNhbGwoJC5jaGlsZE5vZGVzKSwkLmNoaWxkTm9kZXMpLFFbJC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goQ3Qpe1o9e2FwcGx5OlEubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7Sy5hcHBseShlLGV0LmNhbGwodCkpfTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7ZVtuKytdPXRbcisrXTspO2UubGVuZ3RoPW4tMX19fUM9dC5zdXBwb3J0PXt9LEU9dC5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIHQ/XCJIVE1MXCIhPT10Lm5vZGVOYW1lOiExfSxMPXQuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lP2Uub3duZXJEb2N1bWVudHx8ZTokLHI9bi5kZWZhdWx0VmlldztyZXR1cm4gbiE9PXEmJjk9PT1uLm5vZGVUeXBlJiZuLmRvY3VtZW50RWxlbWVudD8ocT1uLEg9bi5kb2N1bWVudEVsZW1lbnQsTz0hRShuKSxyJiZyIT09ci50b3AmJihyLmFkZEV2ZW50TGlzdGVuZXI/ci5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZnVuY3Rpb24oKXtMKCl9LCExKTpyLmF0dGFjaEV2ZW50JiZyLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixmdW5jdGlvbigpe0woKX0pKSxDLmF0dHJpYnV0ZXM9aShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9XCJpXCIsIWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksQy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudChcIlwiKSksIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLEMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT12dC50ZXN0KG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkmJmkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPVwiPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj5cIixlLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPVwiaVwiLDI9PT1lLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpXCIpLmxlbmd0aH0pLEMuZ2V0QnlJZD1pKGZ1bmN0aW9uKGUpe3JldHVybiBILmFwcGVuZENoaWxkKGUpLmlkPVcsIW4uZ2V0RWxlbWVudHNCeU5hbWV8fCFuLmdldEVsZW1lbnRzQnlOYW1lKFcpLmxlbmd0aH0pLEMuZ2V0QnlJZD8oTi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQhPT1WJiZPKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuJiZuLnBhcmVudE5vZGU/W25dOltdfX0sTi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHd0LFR0KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKFwiaWRcIik9PT10fX0pOihkZWxldGUgTi5maW5kLklELE4uZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh3dCxUdCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUhPT1WJiZlLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSksTi5maW5kLlRBRz1DLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT09Vj90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoXCIqXCI9PT1lKXtmb3IoO249b1tpKytdOykxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxOLmZpbmQuQ0xBU1M9Qy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe3JldHVybiB0eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09ViYmTz90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk6dm9pZCAwfSxQPVtdLEY9W10sKEMucXNhPXZ0LnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPVwiPHNlbGVjdCB0PScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsZS5xdWVyeVNlbGVjdG9yQWxsKFwiW3RePScnXVwiKS5sZW5ndGgmJkYucHVzaChcIlsqXiRdPVwiK3J0K1wiKig/OicnfFxcXCJcXFwiKVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8Ri5wdXNoKFwiXFxcXFtcIitydCtcIiooPzp2YWx1ZXxcIitudCtcIilcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxGLnB1c2goXCI6Y2hlY2tlZFwiKX0pLGkoZnVuY3Rpb24oZSl7dmFyIHQ9bi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmRi5wdXNoKFwibmFtZVwiK3J0K1wiKlsqXiR8IX5dPz1cIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxGLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIiksRi5wdXNoKFwiLC4qOlwiKX0pKSwoQy5tYXRjaGVzU2VsZWN0b3I9dnQudGVzdChNPUgud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxILm1vek1hdGNoZXNTZWxlY3Rvcnx8SC5vTWF0Y2hlc1NlbGVjdG9yfHxILm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmkoZnVuY3Rpb24oZSl7Qy5kaXNjb25uZWN0ZWRNYXRjaD1NLmNhbGwoZSxcImRpdlwiKSxNLmNhbGwoZSxcIltzIT0nJ106eFwiKSxQLnB1c2goXCIhPVwiLGF0KX0pLEY9Ri5sZW5ndGgmJm5ldyBSZWdFeHAoRi5qb2luKFwifFwiKSksUD1QLmxlbmd0aCYmbmV3IFJlZ0V4cChQLmpvaW4oXCJ8XCIpKSx0PXZ0LnRlc3QoSC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksUj10fHx2dC50ZXN0KEguY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodClmb3IoO3Q9dC5wYXJlbnROb2RlOylpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sVT10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIEE9ITAsMDt2YXIgcj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gcj9yOihyPShlLm93bmVyRG9jdW1lbnR8fGUpPT09KHQub3duZXJEb2N1bWVudHx8dCk/ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxLDEmcnx8IUMuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09cj9lPT09bnx8ZS5vd25lckRvY3VtZW50PT09JCYmUigkLGUpPy0xOnQ9PT1ufHx0Lm93bmVyRG9jdW1lbnQ9PT0kJiZSKCQsdCk/MTpTP3R0LmNhbGwoUyxlKS10dC5jYWxsKFMsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIEE9ITAsMDt2YXIgcixpPTAsbz1lLnBhcmVudE5vZGUsYT10LnBhcmVudE5vZGUsdT1bZV0sbD1bdF07aWYoIW98fCFhKXJldHVybiBlPT09bj8tMTp0PT09bj8xOm8/LTE6YT8xOlM/dHQuY2FsbChTLGUpLXR0LmNhbGwoUyx0KTowO2lmKG89PT1hKXJldHVybiBzKGUsdCk7Zm9yKHI9ZTtyPXIucGFyZW50Tm9kZTspdS51bnNoaWZ0KHIpO2ZvcihyPXQ7cj1yLnBhcmVudE5vZGU7KWwudW5zaGlmdChyKTtmb3IoO3VbaV09PT1sW2ldOylpKys7cmV0dXJuIGk/cyh1W2ldLGxbaV0pOnVbaV09PT0kPy0xOmxbaV09PT0kPzE6MH0sbik6cX0sdC5tYXRjaGVzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZSxudWxsLG51bGwsbil9LHQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsbil7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1xJiZMKGUpLG49bi5yZXBsYWNlKGZ0LFwiPSckMSddXCIpLCEoIUMubWF0Y2hlc1NlbGVjdG9yfHwhT3x8UCYmUC50ZXN0KG4pfHxGJiZGLnRlc3QobikpKXRyeXt2YXIgcj1NLmNhbGwoZSxuKTtpZihyfHxDLmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIHJ9Y2F0Y2goaSl7fXJldHVybiB0KG4scSxudWxsLFtlXSkubGVuZ3RoPjB9LHQuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PXEmJkwoZSksUihlLHQpfSx0LmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9PXEmJkwoZSk7dmFyIG49Ti5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZHLmNhbGwoTi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIU8pOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOkMuYXR0cmlidXRlc3x8IU8/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSx0LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2UpfSx0LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKEE9IUMuZGV0ZWN0RHVwbGljYXRlcyxTPSFDLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KFUpLEEpe2Zvcig7dD1lW2krK107KXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO2Zvcig7ci0tOyllLnNwbGljZShuW3JdLDEpfXJldHVybiBTPW51bGwsZX0saz10LmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1cIlwiLHI9MCxpPWUubm9kZVR5cGU7aWYoaSl7aWYoMT09PWl8fDk9PT1pfHwxMT09PWkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1rKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3IrK107KW4rPWsodCk7cmV0dXJuIG59LE49dC5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpyLG1hdGNoOmh0LGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKHd0LFR0KSxlWzNdPShlWzRdfHxlWzVdfHxcIlwiKS5yZXBsYWNlKHd0LFR0KSxcIn49XCI9PT1lWzJdJiYoZVszXT1cIiBcIitlWzNdK1wiIFwiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSxcIm50aFwiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHx0LmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKFwiZXZlblwiPT09ZVszXXx8XCJvZGRcIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHxcIm9kZFwiPT09ZVszXSkpOmVbM10mJnQuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNV0mJmVbMl07cmV0dXJuIGh0LkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXSYmdm9pZCAwIT09ZVs0XT9lWzJdPWVbNF06biYmcHQudGVzdChuKSYmKHQ9cChuLCEwKSkmJih0PW4uaW5kZXhPZihcIilcIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh3dCxUdCkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1fW2UrXCIgXCJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKFwiKF58XCIrcnQrXCIpXCIrZStcIihcIitydCtcInwkKVwiKSkmJl8oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fHR5cGVvZiBlLmdldEF0dHJpYnV0ZSE9PVYmJmUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgbz10LmF0dHIoaSxlKTtyZXR1cm4gbnVsbD09bz9cIiE9XCI9PT1uOm4/KG8rPVwiXCIsXCI9XCI9PT1uP289PT1yOlwiIT1cIj09PW4/byE9PXI6XCJePVwiPT09bj9yJiYwPT09by5pbmRleE9mKHIpOlwiKj1cIj09PW4/ciYmby5pbmRleE9mKHIpPi0xOlwiJD1cIj09PW4/ciYmby5zbGljZSgtci5sZW5ndGgpPT09cjpcIn49XCI9PT1uPyhcIiBcIitvK1wiIFwiKS5pbmRleE9mKHIpPi0xOlwifD1cIj09PW4/bz09PXJ8fG8uc2xpY2UoMCxyLmxlbmd0aCsxKT09PXIrXCItXCI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz1cIm50aFwiIT09ZS5zbGljZSgwLDMpLHM9XCJsYXN0XCIhPT1lLnNsaWNlKC00KSxhPVwib2YtdHlwZVwiPT09dDtyZXR1cm4gMT09PXImJjA9PT1pP2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbih0LG4sdSl7dmFyIGwsYyxmLHAsZCxoLGc9byE9PXM/XCJuZXh0U2libGluZ1wiOlwicHJldmlvdXNTaWJsaW5nXCIsbT10LnBhcmVudE5vZGUsdj1hJiZ0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkseT0hdSYmIWE7aWYobSl7aWYobyl7Zm9yKDtnOyl7Zm9yKGY9dDtmPWZbZ107KWlmKGE/Zi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09djoxPT09Zi5ub2RlVHlwZSlyZXR1cm4hMTtoPWc9XCJvbmx5XCI9PT1lJiYhaCYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKGg9W3M/bS5maXJzdENoaWxkOm0ubGFzdENoaWxkXSxzJiZ5KXtmb3IoYz1tW1ddfHwobVtXXT17fSksbD1jW2VdfHxbXSxkPWxbMF09PT1CJiZsWzFdLHA9bFswXT09PUImJmxbMl0sZj1kJiZtLmNoaWxkTm9kZXNbZF07Zj0rK2QmJmYmJmZbZ118fChwPWQ9MCl8fGgucG9wKCk7KWlmKDE9PT1mLm5vZGVUeXBlJiYrK3AmJmY9PT10KXtjW2VdPVtCLGQscF07YnJlYWt9fWVsc2UgaWYoeSYmKGw9KHRbV118fCh0W1ddPXt9KSlbZV0pJiZsWzBdPT09QilwPWxbMV07ZWxzZSBmb3IoOyhmPSsrZCYmZiYmZltnXXx8KHA9ZD0wKXx8aC5wb3AoKSkmJigoYT9mLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT12OjEhPT1mLm5vZGVUeXBlKXx8ISsrcHx8KHkmJigoZltXXXx8KGZbV109e30pKVtlXT1bQixwXSksZiE9PXQpKTspO3JldHVybiBwLT1pLHA9PT1yfHxwJXI9PT0wJiZwL3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbil7dmFyIGksbz1OLnBzZXVkb3NbZV18fE4uc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHx0LmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIitlKTtyZXR1cm4gb1tXXT9vKG4pOm8ubGVuZ3RoPjE/KGk9W2UsZSxcIlwiLG5dLE4uc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP3IoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUsbikscz1pLmxlbmd0aDtzLS07KXI9dHQuY2FsbChlLGlbc10pLGVbcl09ISh0W3JdPWlbc10pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSwwLGkpfSk6b319LHBzZXVkb3M6e25vdDpyKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10saT1EKGUucmVwbGFjZSh1dCxcIiQxXCIpKTtyZXR1cm4gaVtXXT9yKGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxzPWkoZSxudWxsLHIsW10pLGE9ZS5sZW5ndGg7YS0tOykobz1zW2FdKSYmKGVbYV09ISh0W2FdPW8pKX0pOmZ1bmN0aW9uKGUscixvKXtyZXR1cm4gdFswXT1lLGkodCxudWxsLG8sbiksIW4ucG9wKCl9fSksaGFzOnIoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KGUsbikubGVuZ3RoPjB9fSksY29udGFpbnM6cihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxrKHQpKS5pbmRleE9mKGUpPi0xfX0pLGxhbmc6cihmdW5jdGlvbihlKXtyZXR1cm4gZHQudGVzdChlfHxcIlwiKXx8dC5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2UpLGU9ZS5yZXBsYWNlKHd0LFR0KS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBuO2RvIGlmKG49Tz90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8dC5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBuPW4udG9Mb3dlckNhc2UoKSxuPT09ZXx8MD09PW4uaW5kZXhPZihlK1wiLVwiKTt3aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBuPWUubG9jYXRpb24mJmUubG9jYXRpb24uaGFzaDtyZXR1cm4gbiYmbi5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1IfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXEuYWN0aXZlRWxlbWVudCYmKCFxLmhhc0ZvY3VzfHxxLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJiEhZS5jaGVja2VkfHxcIm9wdGlvblwiPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hTi5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG10LnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBndC50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJlwiYnV0dG9uXCI9PT1lLnR5cGV8fFwiYnV0dG9uXCI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiaW5wdXRcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmwoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmwoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOmwoZnVuY3Rpb24oZSx0LG4pe3JldHVyblswPm4/bit0Om5dfSksZXZlbjpsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7dD5uO24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksb2RkOmwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpsKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MD5uP24rdDpuOy0tcj49MDspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6bChmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA+bj9uK3Q6bjsrK3I8dDspZS5wdXNoKHIpO3JldHVybiBlfSl9fSxOLnBzZXVkb3MubnRoPU4ucHNldWRvcy5lcTtmb3IoVCBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlOLnBzZXVkb3NbVF09YShUKTtmb3IoVCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KU4ucHNldWRvc1tUXT11KFQpO3JldHVybiBmLnByb3RvdHlwZT1OLmZpbHRlcnM9Ti5wc2V1ZG9zLE4uc2V0RmlsdGVycz1uZXcgZixEPXQuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPXpbZStcIiBcIl07aWYoIW8pe2Zvcih0fHwodD1wKGUpKSxuPXQubGVuZ3RoO24tLTspbz15KHRbbl0pLG9bV10/ci5wdXNoKG8pOmkucHVzaChvKTtvPXooZSx4KGkscikpfXJldHVybiBvfSxDLnNvcnRTdGFibGU9Vy5zcGxpdChcIlwiKS5zb3J0KFUpLmpvaW4oXCJcIik9PT1XLEMuZGV0ZWN0RHVwbGljYXRlcz0hIUEsTCgpLEMuc29ydERldGFjaGVkPWkoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpfSksaShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxvKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj92b2lkIDA6ZS5nZXRBdHRyaWJ1dGUodCxcInR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksQy5hdHRyaWJ1dGVzJiZpKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxvKFwidmFsdWVcIixmdW5jdGlvbihlLHQsbil7cmV0dXJuIG58fFwiaW5wdXRcIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6ZS5kZWZhdWx0VmFsdWV9KSxpKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fG8obnQsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBuP3ZvaWQgMDplW3RdPT09ITA/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHR9KGUpO2V0LmZpbmQ9aXQsZXQuZXhwcj1pdC5zZWxlY3RvcnMsZXQuZXhwcltcIjpcIl09ZXQuZXhwci5wc2V1ZG9zLGV0LnVuaXF1ZT1pdC51bmlxdWVTb3J0LGV0LnRleHQ9aXQuZ2V0VGV4dCxldC5pc1hNTERvYz1pdC5pc1hNTCxldC5jb250YWlucz1pdC5jb250YWluczt2YXIgb3Q9ZXQuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsc3Q9L148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLGF0PS9eLlteOiNcXFtcXC4sXSokLztldC5maWx0ZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07cmV0dXJuIG4mJihlPVwiOm5vdChcIitlK1wiKVwiKSwxPT09dC5sZW5ndGgmJjE9PT1yLm5vZGVUeXBlP2V0LmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOmV0LmZpbmQubWF0Y2hlcyhlLGV0LmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9KSl9LGV0LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMubGVuZ3RoLHI9W10saT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayhldChlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO24+dDt0KyspaWYoZXQuY29udGFpbnMoaVt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IodD0wO24+dDt0KyspZXQuZmluZChlLGlbdF0scik7cmV0dXJuIHI9dGhpcy5wdXNoU3RhY2sobj4xP2V0LnVuaXF1ZShyKTpyKSxyLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcitcIiBcIitlOmUsclxufSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIodGhpcyxlfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIodGhpcyxlfHxbXSwhMCkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIXIodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgZSYmb3QudGVzdChlKT9ldChlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciB1dCxsdD0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxjdD1ldC5mbi5pbml0PWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtpZighZSlyZXR1cm4gdGhpcztpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYobj1cIjxcIj09PWVbMF0mJlwiPlwiPT09ZVtlLmxlbmd0aC0xXSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpsdC5leGVjKGUpLCFufHwhblsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fHV0KS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChlKTtpZihuWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBldD90WzBdOnQsZXQubWVyZ2UodGhpcyxldC5wYXJzZUhUTUwoblsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpLLCEwKSksc3QudGVzdChuWzFdKSYmZXQuaXNQbGFpbk9iamVjdCh0KSlmb3IobiBpbiB0KWV0LmlzRnVuY3Rpb24odGhpc1tuXSk/dGhpc1tuXSh0W25dKTp0aGlzLmF0dHIobix0W25dKTtyZXR1cm4gdGhpc31yZXR1cm4gcj1LLmdldEVsZW1lbnRCeUlkKG5bMl0pLHImJnIucGFyZW50Tm9kZSYmKHRoaXMubGVuZ3RoPTEsdGhpc1swXT1yKSx0aGlzLmNvbnRleHQ9Syx0aGlzLnNlbGVjdG9yPWUsdGhpc31yZXR1cm4gZS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOmV0LmlzRnVuY3Rpb24oZSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHV0LnJlYWR5P3V0LnJlYWR5KGUpOmUoZXQpOih2b2lkIDAhPT1lLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1lLnNlbGVjdG9yLHRoaXMuY29udGV4dD1lLmNvbnRleHQpLGV0Lm1ha2VBcnJheShlLHRoaXMpKX07Y3QucHJvdG90eXBlPWV0LmZuLHV0PWV0KEspO3ZhciBmdD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxwdD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtldC5leHRlbmQoe2RpcjpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9dm9pZCAwIT09bjsoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGU7KWlmKDE9PT1lLm5vZGVUeXBlKXtpZihpJiZldChlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LHNpYmxpbmc6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59fSksZXQuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXQoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO24+ZTtlKyspaWYoZXQuY29udGFpbnModGhpcyx0W2VdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9MCxpPXRoaXMubGVuZ3RoLG89W10scz1vdC50ZXN0KGUpfHxcInN0cmluZ1wiIT10eXBlb2YgZT9ldChlLHR8fHRoaXMuY29udGV4dCk6MDtpPnI7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKHM/cy5pbmRleChuKT4tMToxPT09bi5ub2RlVHlwZSYmZXQuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSkpe28ucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soby5sZW5ndGg+MT9ldC51bmlxdWUobyk6byl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlP1wic3RyaW5nXCI9PXR5cGVvZiBlP1UuY2FsbChldChlKSx0aGlzWzBdKTpVLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGV0LnVuaXF1ZShldC5tZXJnZSh0aGlzLmdldCgpLGV0KGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLGV0LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LmRpcihlLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZXQuZGlyKGUsXCJwYXJlbnROb2RlXCIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBpKGUsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LmRpcihlLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LmRpcihlLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBldC5kaXIoZSxcIm5leHRTaWJsaW5nXCIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGV0LmRpcihlLFwicHJldmlvdXNTaWJsaW5nXCIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBldC5zaWJsaW5nKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gZXQuc2libGluZyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250ZW50RG9jdW1lbnR8fGV0Lm1lcmdlKFtdLGUuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihlLHQpe2V0LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9ZXQubWFwKHRoaXMsdCxuKTtyZXR1cm5cIlVudGlsXCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmXCJzdHJpbmdcIj09dHlwZW9mIHImJihpPWV0LmZpbHRlcihyLGkpKSx0aGlzLmxlbmd0aD4xJiYocHRbZV18fGV0LnVuaXF1ZShpKSxmdC50ZXN0KGUpJiZpLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soaSl9fSk7dmFyIGR0PS9cXFMrL2csaHQ9e307ZXQuQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9XCJzdHJpbmdcIj09dHlwZW9mIGU/aHRbZV18fG8oZSk6ZXQuZXh0ZW5kKHt9LGUpO3ZhciB0LG4scixpLHMsYSx1PVtdLGw9IWUub25jZSYmW10sYz1mdW5jdGlvbihvKXtmb3IodD1lLm1lbW9yeSYmbyxuPSEwLGE9aXx8MCxpPTAscz11Lmxlbmd0aCxyPSEwO3UmJnM+YTthKyspaWYodVthXS5hcHBseShvWzBdLG9bMV0pPT09ITEmJmUuc3RvcE9uRmFsc2Upe3Q9ITE7YnJlYWt9cj0hMSx1JiYobD9sLmxlbmd0aCYmYyhsLnNoaWZ0KCkpOnQ/dT1bXTpmLmRpc2FibGUoKSl9LGY9e2FkZDpmdW5jdGlvbigpe2lmKHUpe3ZhciBuPXUubGVuZ3RoOyFmdW5jdGlvbiBvKHQpe2V0LmVhY2godCxmdW5jdGlvbih0LG4pe3ZhciByPWV0LnR5cGUobik7XCJmdW5jdGlvblwiPT09cj9lLnVuaXF1ZSYmZi5oYXMobil8fHUucHVzaChuKTpuJiZuLmxlbmd0aCYmXCJzdHJpbmdcIiE9PXImJm8obil9KX0oYXJndW1lbnRzKSxyP3M9dS5sZW5ndGg6dCYmKGk9bixjKHQpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHUmJmV0LmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuOyhuPWV0LmluQXJyYXkodCx1LG4pKT4tMTspdS5zcGxpY2UobiwxKSxyJiYocz49biYmcy0tLGE+PW4mJmEtLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZXQuaW5BcnJheShlLHUpPi0xOiEoIXV8fCF1Lmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHU9W10scz0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdT1sPXQ9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXV9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbD12b2lkIDAsdHx8Zi5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWx9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIXV8fG4mJiFsfHwodD10fHxbXSx0PVtlLHQuc2xpY2U/dC5zbGljZSgpOnRdLHI/bC5wdXNoKHQpOmModCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW59fTtyZXR1cm4gZn0sZXQuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgdD1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLGV0LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVzb2x2ZWRcIl0sW1wicmVqZWN0XCIsXCJmYWlsXCIsZXQuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsZXQuQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sbj1cInBlbmRpbmdcIixyPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuIGV0LkRlZmVycmVkKGZ1bmN0aW9uKG4pe2V0LmVhY2godCxmdW5jdGlvbih0LG8pe3ZhciBzPWV0LmlzRnVuY3Rpb24oZVt0XSkmJmVbdF07aVtvWzFdXShmdW5jdGlvbigpe3ZhciBlPXMmJnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJmV0LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9lLnByb21pc2UoKS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCkucHJvZ3Jlc3Mobi5ub3RpZnkpOm5bb1swXStcIldpdGhcIl0odGhpcz09PXI/bi5wcm9taXNlKCk6dGhpcyxzP1tlXTphcmd1bWVudHMpfSl9KSxlPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/ZXQuZXh0ZW5kKGUscik6cn19LGk9e307cmV0dXJuIHIucGlwZT1yLnRoZW4sZXQuZWFjaCh0LGZ1bmN0aW9uKGUsbyl7dmFyIHM9b1syXSxhPW9bM107cltvWzFdXT1zLmFkZCxhJiZzLmFkZChmdW5jdGlvbigpe249YX0sdFsxXmVdWzJdLmRpc2FibGUsdFsyXVsyXS5sb2NrKSxpW29bMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGlbb1swXStcIldpdGhcIl0odGhpcz09PWk/cjp0aGlzLGFyZ3VtZW50cyksdGhpc30saVtvWzBdK1wiV2l0aFwiXT1zLmZpcmVXaXRofSksci5wcm9taXNlKGkpLGUmJmUuY2FsbChpLGkpLGl9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9MCxvPV8uY2FsbChhcmd1bWVudHMpLHM9by5sZW5ndGgsYT0xIT09c3x8ZSYmZXQuaXNGdW5jdGlvbihlLnByb21pc2UpP3M6MCx1PTE9PT1hP2U6ZXQuRGVmZXJyZWQoKSxsPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZnVuY3Rpb24oaSl7bltlXT10aGlzLHJbZV09YXJndW1lbnRzLmxlbmd0aD4xP18uY2FsbChhcmd1bWVudHMpOmkscj09PXQ/dS5ub3RpZnlXaXRoKG4scik6LS1hfHx1LnJlc29sdmVXaXRoKG4scil9fTtpZihzPjEpZm9yKHQ9bmV3IEFycmF5KHMpLG49bmV3IEFycmF5KHMpLHI9bmV3IEFycmF5KHMpO3M+aTtpKyspb1tpXSYmZXQuaXNGdW5jdGlvbihvW2ldLnByb21pc2UpP29baV0ucHJvbWlzZSgpLmRvbmUobChpLHIsbykpLmZhaWwodS5yZWplY3QpLnByb2dyZXNzKGwoaSxuLHQpKTotLWE7cmV0dXJuIGF8fHUucmVzb2x2ZVdpdGgocixvKSx1LnByb21pc2UoKX19KTt2YXIgZ3Q7ZXQuZm4ucmVhZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LnJlYWR5LnByb21pc2UoKS5kb25lKGUpLHRoaXN9LGV0LmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oZSl7ZT9ldC5yZWFkeVdhaXQrKzpldC5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGUpeyhlPT09ITA/LS1ldC5yZWFkeVdhaXQ6ZXQuaXNSZWFkeSl8fChldC5pc1JlYWR5PSEwLGUhPT0hMCYmLS1ldC5yZWFkeVdhaXQ+MHx8KGd0LnJlc29sdmVXaXRoKEssW2V0XSksZXQuZm4udHJpZ2dlciYmZXQoSykudHJpZ2dlcihcInJlYWR5XCIpLm9mZihcInJlYWR5XCIpKSl9fSksZXQucmVhZHkucHJvbWlzZT1mdW5jdGlvbih0KXtyZXR1cm4gZ3R8fChndD1ldC5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PUsucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KGV0LnJlYWR5KTooSy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHMsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKSkpLGd0LnByb21pc2UodCl9LGV0LnJlYWR5LnByb21pc2UoKTt2YXIgbXQ9ZXQuYWNjZXNzPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLHMpe3ZhciBhPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoXCJvYmplY3RcIj09PWV0LnR5cGUobikpe2k9ITA7Zm9yKGEgaW4gbilldC5hY2Nlc3MoZSx0LGEsblthXSwhMCxvLHMpfWVsc2UgaWYodm9pZCAwIT09ciYmKGk9ITAsZXQuaXNGdW5jdGlvbihyKXx8KHM9ITApLGwmJihzPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbChldChlKSxuKX0pKSx0KSlmb3IoO3U+YTthKyspdChlW2FdLG4scz9yOnIuY2FsbChlW2FdLGEsdChlW2FdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfTtldC5hY2NlcHREYXRhPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX0sYS51aWQ9MSxhLmFjY2VwdHM9ZXQuYWNjZXB0RGF0YSxhLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGUpe2lmKCFhLmFjY2VwdHMoZSkpcmV0dXJuIDA7dmFyIHQ9e30sbj1lW3RoaXMuZXhwYW5kb107aWYoIW4pe249YS51aWQrKzt0cnl7dFt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfWNhdGNoKHIpe3RbdGhpcy5leHBhbmRvXT1uLGV0LmV4dGVuZChlLHQpfX1yZXR1cm4gdGhpcy5jYWNoZVtuXXx8KHRoaXMuY2FjaGVbbl09e30pLG59LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmtleShlKSxvPXRoaXMuY2FjaGVbaV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpb1t0XT1uO2Vsc2UgaWYoZXQuaXNFbXB0eU9iamVjdChvKSlldC5leHRlbmQodGhpcy5jYWNoZVtpXSx0KTtlbHNlIGZvcihyIGluIHQpb1tyXT10W3JdO3JldHVybiBvfSxnZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNhY2hlW3RoaXMua2V5KGUpXTtyZXR1cm4gdm9pZCAwPT09dD9uOm5bdF19LGFjY2VzczpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHZvaWQgMD09PXR8fHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uPyhyPXRoaXMuZ2V0KGUsdCksdm9pZCAwIT09cj9yOnRoaXMuZ2V0KGUsZXQuY2FtZWxDYXNlKHQpKSk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvPXRoaXMua2V5KGUpLHM9dGhpcy5jYWNoZVtvXTtpZih2b2lkIDA9PT10KXRoaXMuY2FjaGVbb109e307ZWxzZXtldC5pc0FycmF5KHQpP3I9dC5jb25jYXQodC5tYXAoZXQuY2FtZWxDYXNlKSk6KGk9ZXQuY2FtZWxDYXNlKHQpLHQgaW4gcz9yPVt0LGldOihyPWkscj1yIGluIHM/W3JdOnIubWF0Y2goZHQpfHxbXSkpLG49ci5sZW5ndGg7Zm9yKDtuLS07KWRlbGV0ZSBzW3Jbbl1dfX0saGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4hZXQuaXNFbXB0eU9iamVjdCh0aGlzLmNhY2hlW2VbdGhpcy5leHBhbmRvXV18fHt9KX0sZGlzY2FyZDpmdW5jdGlvbihlKXtlW3RoaXMuZXhwYW5kb10mJmRlbGV0ZSB0aGlzLmNhY2hlW2VbdGhpcy5leHBhbmRvXV19fTt2YXIgdnQ9bmV3IGEseXQ9bmV3IGEseHQ9L14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLGJ0PS8oW0EtWl0pL2c7ZXQuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB5dC5oYXNEYXRhKGUpfHx2dC5oYXNEYXRhKGUpfSxkYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geXQuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe3l0LnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZ0LmFjY2VzcyhlLHQsbil9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7dnQucmVtb3ZlKGUsdCl9fSksZXQuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG89dGhpc1swXSxzPW8mJm8uYXR0cmlidXRlcztpZih2b2lkIDA9PT1lKXtpZih0aGlzLmxlbmd0aCYmKGk9eXQuZ2V0KG8pLDE9PT1vLm5vZGVUeXBlJiYhdnQuZ2V0KG8sXCJoYXNEYXRhQXR0cnNcIikpKXtmb3Iobj1zLmxlbmd0aDtuLS07KXI9c1tuXS5uYW1lLDA9PT1yLmluZGV4T2YoXCJkYXRhLVwiKSYmKHI9ZXQuY2FtZWxDYXNlKHIuc2xpY2UoNSkpLHUobyxyLGlbcl0pKTt2dC5zZXQobyxcImhhc0RhdGFBdHRyc1wiLCEwKX1yZXR1cm4gaX1yZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT90aGlzLmVhY2goZnVuY3Rpb24oKXt5dC5zZXQodGhpcyxlKX0pOm10KHRoaXMsZnVuY3Rpb24odCl7dmFyIG4scj1ldC5jYW1lbENhc2UoZSk7aWYobyYmdm9pZCAwPT09dCl7aWYobj15dC5nZXQobyxlKSx2b2lkIDAhPT1uKXJldHVybiBuO2lmKG49eXQuZ2V0KG8sciksdm9pZCAwIT09bilyZXR1cm4gbjtpZihuPXUobyxyLHZvaWQgMCksdm9pZCAwIT09bilyZXR1cm4gbn1lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPXl0LmdldCh0aGlzLHIpO3l0LnNldCh0aGlzLHIsdCksLTEhPT1lLmluZGV4T2YoXCItXCIpJiZ2b2lkIDAhPT1uJiZ5dC5zZXQodGhpcyxlLHQpfSl9LG51bGwsdCxhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3l0LnJlbW92ZSh0aGlzLGUpfSl9fSksZXQuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIGU/KHQ9KHR8fFwiZnhcIikrXCJxdWV1ZVwiLHI9dnQuZ2V0KGUsdCksbiYmKCFyfHxldC5pc0FycmF5KG4pP3I9dnQuYWNjZXNzKGUsdCxldC5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8XCJmeFwiO3ZhciBuPWV0LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPWV0Ll9xdWV1ZUhvb2tzKGUsdCkscz1mdW5jdGlvbigpe2V0LmRlcXVldWUoZSx0KX07XCJpbnByb2dyZXNzXCI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoXCJmeFwiPT09dCYmbi51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLHMsbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10K1wicXVldWVIb29rc1wiO3JldHVybiB2dC5nZXQoZSxuKXx8dnQuYWNjZXNzKGUsbix7ZW1wdHk6ZXQuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7dnQucmVtb3ZlKGUsW3QrXCJxdWV1ZVwiLG5dKX0pfSl9fSksZXQuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJih0PWUsZT1cImZ4XCIsbi0tKSxhcmd1bWVudHMubGVuZ3RoPG4/ZXQucXVldWUodGhpc1swXSxlKTp2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49ZXQucXVldWUodGhpcyxlLHQpO2V0Ll9xdWV1ZUhvb2tzKHRoaXMsZSksXCJmeFwiPT09ZSYmXCJpbnByb2dyZXNzXCIhPT1uWzBdJiZldC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZXQuZGVxdWV1ZSh0aGlzLGUpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MSxpPWV0LkRlZmVycmVkKCksbz10aGlzLHM9dGhpcy5sZW5ndGgsYT1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9O2ZvcihcInN0cmluZ1wiIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHxcImZ4XCI7cy0tOyluPXZ0LmdldChvW3NdLGUrXCJxdWV1ZUhvb2tzXCIpLG4mJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQoYSkpO3JldHVybiBhKCksaS5wcm9taXNlKHQpfX0pO3ZhciB3dD0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsVHQ9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLEN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dHx8ZSxcIm5vbmVcIj09PWV0LmNzcyhlLFwiZGlzcGxheVwiKXx8IWV0LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sTnQ9L14oPzpjaGVja2JveHxyYWRpbykkL2k7IWZ1bmN0aW9uKCl7dmFyIGU9Sy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdD1lLmFwcGVuZENoaWxkKEsuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7dC5pbm5lckhUTUw9XCI8aW5wdXQgdHlwZT0ncmFkaW8nIGNoZWNrZWQ9J2NoZWNrZWQnIG5hbWU9J3QnLz5cIixKLmNoZWNrQ2xvbmU9dC5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsdC5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsSi5ub0Nsb25lQ2hlY2tlZD0hIXQuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBrdD1cInVuZGVmaW5lZFwiO0ouZm9jdXNpbkJ1YmJsZXM9XCJvbmZvY3VzaW5cImluIGU7dmFyIEV0PS9ea2V5LyxEdD0vXig/Om1vdXNlfGNvbnRleHRtZW51KXxjbGljay8sanQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFN0PS9eKFteLl0qKSg/OlxcLiguKyl8KSQvO2V0LmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8scyxhLHUsbCxjLGYscCxkLGgsZyxtPXZ0LmdldChlKTtpZihtKWZvcihuLmhhbmRsZXImJihvPW4sbj1vLmhhbmRsZXIsaT1vLnNlbGVjdG9yKSxuLmd1aWR8fChuLmd1aWQ9ZXQuZ3VpZCsrKSwodT1tLmV2ZW50cyl8fCh1PW0uZXZlbnRzPXt9KSwocz1tLmhhbmRsZSl8fChzPW0uaGFuZGxlPWZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgZXQhPT1rdCYmZXQuZXZlbnQudHJpZ2dlcmVkIT09dC50eXBlP2V0LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGUsYXJndW1lbnRzKTp2b2lkIDB9KSx0PSh0fHxcIlwiKS5tYXRjaChkdCl8fFtcIlwiXSxsPXQubGVuZ3RoO2wtLTspYT1TdC5leGVjKHRbbF0pfHxbXSxkPWc9YVsxXSxoPShhWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQmJihmPWV0LmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1ldC5ldmVudC5zcGVjaWFsW2RdfHx7fSxjPWV0LmV4dGVuZCh7dHlwZTpkLG9yaWdUeXBlOmcsZGF0YTpyLGhhbmRsZXI6bixndWlkOm4uZ3VpZCxzZWxlY3RvcjppLG5lZWRzQ29udGV4dDppJiZldC5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oXCIuXCIpfSxvKSwocD11W2RdKXx8KHA9dVtkXT1bXSxwLmRlbGVnYXRlQ291bnQ9MCxmLnNldHVwJiZmLnNldHVwLmNhbGwoZSxyLGgscykhPT0hMXx8ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoZCxzLCExKSksZi5hZGQmJihmLmFkZC5jYWxsKGUsYyksYy5oYW5kbGVyLmd1aWR8fChjLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxpP3Auc3BsaWNlKHAuZGVsZWdhdGVDb3VudCsrLDAsYyk6cC5wdXNoKGMpLGV0LmV2ZW50Lmdsb2JhbFtkXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLHMsYSx1LGwsYyxmLHAsZCxoLGcsbT12dC5oYXNEYXRhKGUpJiZ2dC5nZXQoZSk7aWYobSYmKHU9bS5ldmVudHMpKXtmb3IodD0odHx8XCJcIikubWF0Y2goZHQpfHxbXCJcIl0sbD10Lmxlbmd0aDtsLS07KWlmKGE9U3QuZXhlYyh0W2xdKXx8W10sZD1nPWFbMV0saD0oYVsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxkKXtmb3IoZj1ldC5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShyP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLHA9dVtkXXx8W10sYT1hWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIraC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIikscz1vPXAubGVuZ3RoO28tLTspYz1wW29dLCFpJiZnIT09Yy5vcmlnVHlwZXx8biYmbi5ndWlkIT09Yy5ndWlkfHxhJiYhYS50ZXN0KGMubmFtZXNwYWNlKXx8ciYmciE9PWMuc2VsZWN0b3ImJihcIioqXCIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO3MmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJmYudGVhcmRvd24uY2FsbChlLGgsbS5oYW5kbGUpIT09ITF8fGV0LnJlbW92ZUV2ZW50KGUsZCxtLmhhbmRsZSksZGVsZXRlIHVbZF0pfWVsc2UgZm9yKGQgaW4gdSlldC5ldmVudC5yZW1vdmUoZSxkK3RbbF0sbixyLCEwKTtldC5pc0VtcHR5T2JqZWN0KHUpJiYoZGVsZXRlIG0uaGFuZGxlLHZ0LnJlbW92ZShlLFwiZXZlbnRzXCIpKX19LHRyaWdnZXI6ZnVuY3Rpb24odCxuLHIsaSl7dmFyIG8scyxhLHUsbCxjLGYscD1bcnx8S10sZD1HLmNhbGwodCxcInR5cGVcIik/dC50eXBlOnQsaD1HLmNhbGwodCxcIm5hbWVzcGFjZVwiKT90Lm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYocz1hPXI9cnx8SywzIT09ci5ub2RlVHlwZSYmOCE9PXIubm9kZVR5cGUmJiFqdC50ZXN0KGQrZXQuZXZlbnQudHJpZ2dlcmVkKSYmKGQuaW5kZXhPZihcIi5cIik+PTAmJihoPWQuc3BsaXQoXCIuXCIpLGQ9aC5zaGlmdCgpLGguc29ydCgpKSxsPWQuaW5kZXhPZihcIjpcIik8MCYmXCJvblwiK2QsdD10W2V0LmV4cGFuZG9dP3Q6bmV3IGV0LkV2ZW50KGQsXCJvYmplY3RcIj09dHlwZW9mIHQmJnQpLHQuaXNUcmlnZ2VyPWk/MjozLHQubmFtZXNwYWNlPWguam9pbihcIi5cIiksdC5uYW1lc3BhY2VfcmU9dC5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK2guam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsdC5yZXN1bHQ9dm9pZCAwLHQudGFyZ2V0fHwodC50YXJnZXQ9ciksbj1udWxsPT1uP1t0XTpldC5tYWtlQXJyYXkobixbdF0pLGY9ZXQuZXZlbnQuc3BlY2lhbFtkXXx8e30saXx8IWYudHJpZ2dlcnx8Zi50cmlnZ2VyLmFwcGx5KHIsbikhPT0hMSkpe2lmKCFpJiYhZi5ub0J1YmJsZSYmIWV0LmlzV2luZG93KHIpKXtmb3IodT1mLmRlbGVnYXRlVHlwZXx8ZCxqdC50ZXN0KHUrZCl8fChzPXMucGFyZW50Tm9kZSk7cztzPXMucGFyZW50Tm9kZSlwLnB1c2gocyksYT1zO2E9PT0oci5vd25lckRvY3VtZW50fHxLKSYmcC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxlKX1mb3Iobz0wOyhzPXBbbysrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KXQudHlwZT1vPjE/dTpmLmJpbmRUeXBlfHxkLGM9KHZ0LmdldChzLFwiZXZlbnRzXCIpfHx7fSlbdC50eXBlXSYmdnQuZ2V0KHMsXCJoYW5kbGVcIiksYyYmYy5hcHBseShzLG4pLGM9bCYmc1tsXSxjJiZjLmFwcGx5JiZldC5hY2NlcHREYXRhKHMpJiYodC5yZXN1bHQ9Yy5hcHBseShzLG4pLHQucmVzdWx0PT09ITEmJnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIHQudHlwZT1kLGl8fHQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGYuX2RlZmF1bHQmJmYuX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxuKSE9PSExfHwhZXQuYWNjZXB0RGF0YShyKXx8bCYmZXQuaXNGdW5jdGlvbihyW2RdKSYmIWV0LmlzV2luZG93KHIpJiYoYT1yW2xdLGEmJihyW2xdPW51bGwpLGV0LmV2ZW50LnRyaWdnZXJlZD1kLHJbZF0oKSxldC5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihyW2xdPWEpKSx0LnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe2U9ZXQuZXZlbnQuZml4KGUpO3ZhciB0LG4scixpLG8scz1bXSxhPV8uY2FsbChhcmd1bWVudHMpLHU9KHZ0LmdldCh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbZS50eXBlXXx8W10sbD1ldC5ldmVudC5zcGVjaWFsW2UudHlwZV18fHt9O2lmKGFbMF09ZSxlLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWwucHJlRGlzcGF0Y2h8fGwucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGUpIT09ITEpe2ZvcihzPWV0LmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxlLHUpLHQ9MDsoaT1zW3QrK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IoZS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7KG89aS5oYW5kbGVyc1tuKytdKSYmIWUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspKCFlLm5hbWVzcGFjZV9yZXx8ZS5uYW1lc3BhY2VfcmUudGVzdChvLm5hbWVzcGFjZSkpJiYoZS5oYW5kbGVPYmo9byxlLmRhdGE9by5kYXRhLHI9KChldC5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSxhKSx2b2lkIDAhPT1yJiYoZS5yZXN1bHQ9cik9PT0hMSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKSk7cmV0dXJuIGwucG9zdERpc3BhdGNoJiZsLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsZSksZS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLHM9W10sYT10LmRlbGVnYXRlQ291bnQsdT1lLnRhcmdldDtpZihhJiZ1Lm5vZGVUeXBlJiYoIWUuYnV0dG9ufHxcImNsaWNrXCIhPT1lLnR5cGUpKWZvcig7dSE9PXRoaXM7dT11LnBhcmVudE5vZGV8fHRoaXMpaWYodS5kaXNhYmxlZCE9PSEwfHxcImNsaWNrXCIhPT1lLnR5cGUpe2ZvcihyPVtdLG49MDthPm47bisrKW89dFtuXSxpPW8uc2VsZWN0b3IrXCIgXCIsdm9pZCAwPT09cltpXSYmKHJbaV09by5uZWVkc0NvbnRleHQ/ZXQoaSx0aGlzKS5pbmRleCh1KT49MDpldC5maW5kKGksdGhpcyxudWxsLFt1XSkubGVuZ3RoKSxyW2ldJiZyLnB1c2gobyk7ci5sZW5ndGgmJnMucHVzaCh7ZWxlbTp1LGhhbmRsZXJzOnJ9KX1yZXR1cm4gYTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6dC5zbGljZShhKX0pLHN9LHByb3BzOlwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoXCIuc3BsaXQoXCIgXCIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczpcImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGVcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWUud2hpY2gmJihlLndoaWNoPW51bGwhPXQuY2hhckNvZGU/dC5jaGFyQ29kZTp0LmtleUNvZGUpLGV9fSxtb3VzZUhvb2tzOntwcm9wczpcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10LmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS5wYWdlWCYmbnVsbCE9dC5jbGllbnRYJiYobj1lLnRhcmdldC5vd25lckRvY3VtZW50fHxLLHI9bi5kb2N1bWVudEVsZW1lbnQsaT1uLmJvZHksZS5wYWdlWD10LmNsaWVudFgrKHImJnIuc2Nyb2xsTGVmdHx8aSYmaS5zY3JvbGxMZWZ0fHwwKS0ociYmci5jbGllbnRMZWZ0fHxpJiZpLmNsaWVudExlZnR8fDApLGUucGFnZVk9dC5jbGllbnRZKyhyJiZyLnNjcm9sbFRvcHx8aSYmaS5zY3JvbGxUb3B8fDApLShyJiZyLmNsaWVudFRvcHx8aSYmaS5jbGllbnRUb3B8fDApKSxlLndoaWNofHx2b2lkIDA9PT1vfHwoZS53aGljaD0xJm8/MToyJm8/Mzo0Jm8/MjowKSxlfX0sZml4OmZ1bmN0aW9uKGUpe2lmKGVbZXQuZXhwYW5kb10pcmV0dXJuIGU7dmFyIHQsbixyLGk9ZS50eXBlLG89ZSxzPXRoaXMuZml4SG9va3NbaV07Zm9yKHN8fCh0aGlzLmZpeEhvb2tzW2ldPXM9RHQudGVzdChpKT90aGlzLm1vdXNlSG9va3M6RXQudGVzdChpKT90aGlzLmtleUhvb2tzOnt9KSxyPXMucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQocy5wcm9wcyk6dGhpcy5wcm9wcyxlPW5ldyBldC5FdmVudChvKSx0PXIubGVuZ3RoO3QtLTspbj1yW3RdLGVbbl09b1tuXTtyZXR1cm4gZS50YXJnZXR8fChlLnRhcmdldD1LKSwzPT09ZS50YXJnZXQubm9kZVR5cGUmJihlLnRhcmdldD1lLnRhcmdldC5wYXJlbnROb2RlKSxzLmZpbHRlcj9zLmZpbHRlcihlLG8pOmV9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09ZigpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1mKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJmV0Lm5vZGVOYW1lKHRoaXMsXCJpbnB1dFwiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiBldC5ub2RlTmFtZShlLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnJlc3VsdCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZXQuZXh0ZW5kKG5ldyBldC5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO3I/ZXQuZXZlbnQudHJpZ2dlcihpLG51bGwsdCk6ZXQuZXZlbnQuZGlzcGF0Y2guY2FsbCh0LGkpLGkuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19LGV0LnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpfSxldC5FdmVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZXQuRXZlbnQ/KGUmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWUuZGVmYXVsdFByZXZlbnRlZCYmZS5nZXRQcmV2ZW50RGVmYXVsdCYmZS5nZXRQcmV2ZW50RGVmYXVsdCgpP2w6Yyk6dGhpcy50eXBlPWUsdCYmZXQuZXh0ZW5kKHRoaXMsdCksdGhpcy50aW1lU3RhbXA9ZSYmZS50aW1lU3RhbXB8fGV0Lm5vdygpLHZvaWQodGhpc1tldC5leHBhbmRvXT0hMCkpOm5ldyBldC5FdmVudChlLHQpfSxldC5FdmVudC5wcm90b3R5cGU9e2lzRGVmYXVsdFByZXZlbnRlZDpjLGlzUHJvcGFnYXRpb25TdG9wcGVkOmMsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6YyxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1sLGUmJmUucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9bCxlJiZlLnN0b3BQcm9wYWdhdGlvbiYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1sLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSxldC5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCJ9LGZ1bmN0aW9uKGUsdCl7ZXQuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzLGk9ZS5yZWxhdGVkVGFyZ2V0LG89ZS5oYW5kbGVPYmo7cmV0dXJuKCFpfHxpIT09ciYmIWV0LmNvbnRhaW5zKHIsaSkpJiYoZS50eXBlPW8ub3JpZ1R5cGUsbj1vLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSxKLmZvY3VzaW5CdWJibGVzfHxldC5lYWNoKHtmb2N1czpcImZvY3VzaW5cIixibHVyOlwiZm9jdXNvdXRcIn0sZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlKXtldC5ldmVudC5zaW11bGF0ZSh0LGUudGFyZ2V0LGV0LmV2ZW50LmZpeChlKSwhMCl9O2V0LmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGk9dnQuYWNjZXNzKHIsdCk7aXx8ci5hZGRFdmVudExpc3RlbmVyKGUsbiwhMCksdnQuYWNjZXNzKHIsdCwoaXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGk9dnQuYWNjZXNzKHIsdCktMTtpP3Z0LmFjY2VzcyhyLHQsaSk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITApLHZ0LnJlbW92ZShyLHQpKX19fSksZXQuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLHM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe1wic3RyaW5nXCIhPXR5cGVvZiB0JiYobj1ufHx0LHQ9dm9pZCAwKTtmb3IocyBpbiBlKXRoaXMub24ocyx0LG4sZVtzXSxpKTtyZXR1cm4gdGhpc31pZihudWxsPT1uJiZudWxsPT1yPyhyPXQsbj10PXZvaWQgMCk6bnVsbD09ciYmKFwic3RyaW5nXCI9PXR5cGVvZiB0PyhyPW4sbj12b2lkIDApOihyPW4sbj10LHQ9dm9pZCAwKSkscj09PSExKXI9YztlbHNlIGlmKCFyKXJldHVybiB0aGlzO3JldHVybiAxPT09aSYmKG89cixyPWZ1bmN0aW9uKGUpe3JldHVybiBldCgpLm9mZihlKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sci5ndWlkPW8uZ3VpZHx8KG8uZ3VpZD1ldC5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtldC5ldmVudC5hZGQodGhpcyxlLHIsbix0KX0pfSxvbmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24oZSx0LG4sciwxKX0sb2ZmOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKGUmJmUucHJldmVudERlZmF1bHQmJmUuaGFuZGxlT2JqKXJldHVybiByPWUuaGFuZGxlT2JqLGV0KGUuZGVsZWdhdGVUYXJnZXQpLm9mZihyLm5hbWVzcGFjZT9yLm9yaWdUeXBlK1wiLlwiK3IubmFtZXNwYWNlOnIub3JpZ1R5cGUsci5zZWxlY3RvcixyLmhhbmRsZXIpLHRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybih0PT09ITF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpJiYobj10LHQ9dm9pZCAwKSxuPT09ITEmJihuPWMpLHRoaXMuZWFjaChmdW5jdGlvbigpe2V0LmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2V0LmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpc1swXTtyZXR1cm4gbj9ldC5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKTp2b2lkIDB9fSk7dmFyIEF0PS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSxMdD0vPChbXFx3Ol0rKS8scXQ9Lzx8JiM/XFx3KzsvLEh0PS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksT3Q9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxGdD0vXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLFB0PS9edHJ1ZVxcLyguKikvLE10PS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZyxSdD17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O1J0Lm9wdGdyb3VwPVJ0Lm9wdGlvbixSdC50Ym9keT1SdC50Zm9vdD1SdC5jb2xncm91cD1SdC5jYXB0aW9uPVJ0LnRoZWFkLFJ0LnRoPVJ0LnRkLGV0LmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxzLGE9ZS5jbG9uZU5vZGUoITApLHU9ZXQuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpO2lmKCEoSi5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8ZXQuaXNYTUxEb2MoZSkpKWZvcihzPXYoYSksbz12KGUpLHI9MCxpPW8ubGVuZ3RoO2k+cjtyKyspeShvW3JdLHNbcl0pO2lmKHQpaWYobilmb3Iobz1vfHx2KGUpLHM9c3x8dihhKSxyPTAsaT1vLmxlbmd0aDtpPnI7cisrKW0ob1tyXSxzW3JdKTtlbHNlIG0oZSxhKTtyZXR1cm4gcz12KGEsXCJzY3JpcHRcIikscy5sZW5ndGg+MCYmZyhzLCF1JiZ2KGUsXCJzY3JpcHRcIikpLGF9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpLG8scyxhLHUsbCxjPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGY9W10scD0wLGQ9ZS5sZW5ndGg7ZD5wO3ArKylpZihpPWVbcF0saXx8MD09PWkpaWYoXCJvYmplY3RcIj09PWV0LnR5cGUoaSkpZXQubWVyZ2UoZixpLm5vZGVUeXBlP1tpXTppKTtlbHNlIGlmKHF0LnRlc3QoaSkpe2ZvcihvPW98fGMuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxzPShMdC5leGVjKGkpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxhPVJ0W3NdfHxSdC5fZGVmYXVsdCxvLmlubmVySFRNTD1hWzFdK2kucmVwbGFjZShBdCxcIjwkMT48LyQyPlwiKSthWzJdLGw9YVswXTtsLS07KW89by5sYXN0Q2hpbGQ7ZXQubWVyZ2UoZixvLmNoaWxkTm9kZXMpLG89Yy5maXJzdENoaWxkLG8udGV4dENvbnRlbnQ9XCJcIn1lbHNlIGYucHVzaCh0LmNyZWF0ZVRleHROb2RlKGkpKTtmb3IoYy50ZXh0Q29udGVudD1cIlwiLHA9MDtpPWZbcCsrXTspaWYoKCFyfHwtMT09PWV0LmluQXJyYXkoaSxyKSkmJih1PWV0LmNvbnRhaW5zKGkub3duZXJEb2N1bWVudCxpKSxvPXYoYy5hcHBlbmRDaGlsZChpKSxcInNjcmlwdFwiKSx1JiZnKG8pLG4pKWZvcihsPTA7aT1vW2wrK107KUZ0LnRlc3QoaS50eXBlfHxcIlwiKSYmbi5wdXNoKGkpO3JldHVybiBjfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpLG8scyxhPWV0LmV2ZW50LnNwZWNpYWwsdT0wO3ZvaWQgMCE9PShuPWVbdV0pO3UrKyl7aWYoZXQuYWNjZXB0RGF0YShuKSYmKG89blt2dC5leHBhbmRvXSxvJiYodD12dC5jYWNoZVtvXSkpKXtpZihyPU9iamVjdC5rZXlzKHQuZXZlbnRzfHx7fSksci5sZW5ndGgpZm9yKHM9MDt2b2lkIDAhPT0oaT1yW3NdKTtzKyspYVtpXT9ldC5ldmVudC5yZW1vdmUobixpKTpldC5yZW1vdmVFdmVudChuLGksdC5oYW5kbGUpO3Z0LmNhY2hlW29dJiZkZWxldGUgdnQuY2FjaGVbb119ZGVsZXRlIHl0LmNhY2hlW25beXQuZXhwYW5kb11dfX19KSxldC5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG10KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/ZXQudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpeygxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSkmJih0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1wKHRoaXMsZSk7dC5hcHBlbmRDaGlsZChlKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cCh0aGlzLGUpO3QuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWU/ZXQuZmlsdGVyKGUsdGhpcyk6dGhpcyxpPTA7bnVsbCE9KG49cltpXSk7aSsrKXR8fDEhPT1uLm5vZGVUeXBlfHxldC5jbGVhbkRhdGEodihuKSksbi5wYXJlbnROb2RlJiYodCYmZXQuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pJiZnKHYobixcInNjcmlwdFwiKSksbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKGV0LmNsZWFuRGF0YSh2KGUsITEpKSxlLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGw9PWU/ITE6ZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGV0LmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiBtdCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmIUh0LnRlc3QoZSkmJiFSdFsoTHQuZXhlYyhlKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPWUucmVwbGFjZShBdCxcIjwkMT48LyQyPlwiKTt0cnl7Zm9yKDtyPm47bisrKXQ9dGhpc1tuXXx8e30sMT09PXQubm9kZVR5cGUmJihldC5jbGVhbkRhdGEodih0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGkpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24odCl7ZT10aGlzLnBhcmVudE5vZGUsZXQuY2xlYW5EYXRhKHYodGhpcykpLGUmJmUucmVwbGFjZUNoaWxkKHQsdGhpcyl9KSxlJiYoZS5sZW5ndGh8fGUubm9kZVR5cGUpP3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlbW92ZShlLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oZSx0KXtlPVguYXBwbHkoW10sZSk7dmFyIG4scixpLG8scyxhLHU9MCxsPXRoaXMubGVuZ3RoLGM9dGhpcyxmPWwtMSxwPWVbMF0sZz1ldC5pc0Z1bmN0aW9uKHApO2lmKGd8fGw+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHAmJiFKLmNoZWNrQ2xvbmUmJk90LnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgcj1jLmVxKG4pO2cmJihlWzBdPXAuY2FsbCh0aGlzLG4sci5odG1sKCkpKSxyLmRvbU1hbmlwKGUsdCl9KTtpZihsJiYobj1ldC5idWlsZEZyYWdtZW50KGUsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLHI9bi5maXJzdENoaWxkLDE9PT1uLmNoaWxkTm9kZXMubGVuZ3RoJiYobj1yKSxyKSl7Zm9yKGk9ZXQubWFwKHYobixcInNjcmlwdFwiKSxkKSxvPWkubGVuZ3RoO2w+dTt1Kyspcz1uLHUhPT1mJiYocz1ldC5jbG9uZShzLCEwLCEwKSxvJiZldC5tZXJnZShpLHYocyxcInNjcmlwdFwiKSkpLHQuY2FsbCh0aGlzW3VdLHMsdSk7aWYobylmb3IoYT1pW2kubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsZXQubWFwKGksaCksdT0wO28+dTt1Kyspcz1pW3VdLEZ0LnRlc3Qocy50eXBlfHxcIlwiKSYmIXZ0LmFjY2VzcyhzLFwiZ2xvYmFsRXZhbFwiKSYmZXQuY29udGFpbnMoYSxzKSYmKHMuc3JjP2V0Ll9ldmFsVXJsJiZldC5fZXZhbFVybChzLnNyYyk6ZXQuZ2xvYmFsRXZhbChzLnRleHRDb250ZW50LnJlcGxhY2UoTXQsXCJcIikpKX1yZXR1cm4gdGhpc319KSxldC5lYWNoKHthcHBlbmRUbzpcImFwcGVuZFwiLHByZXBlbmRUbzpcInByZXBlbmRcIixpbnNlcnRCZWZvcmU6XCJiZWZvcmVcIixpbnNlcnRBZnRlcjpcImFmdGVyXCIscmVwbGFjZUFsbDpcInJlcGxhY2VXaXRoXCJ9LGZ1bmN0aW9uKGUsdCl7ZXQuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLHI9W10saT1ldChlKSxvPWkubGVuZ3RoLTEscz0wO28+PXM7cysrKW49cz09PW8/dGhpczp0aGlzLmNsb25lKCEwKSxldChpW3NdKVt0XShuKSx6LmFwcGx5KHIsbi5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIpfX0pO3ZhciBXdCwkdD17fSxCdD0vXm1hcmdpbi8sSXQ9bmV3IFJlZ0V4cChcIl4oXCIrd3QrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksX3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCl9OyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXthLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxcHg7Ym9yZGVyOjFweDtkaXNwbGF5OmJsb2NrO3dpZHRoOjRweDttYXJnaW4tdG9wOjElO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxJVwiLG8uYXBwZW5kQ2hpbGQocyk7dmFyIHQ9ZS5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCk7bj1cIjElXCIhPT10LnRvcCxyPVwiNHB4XCI9PT10LndpZHRoLG8ucmVtb3ZlQ2hpbGQocyl9dmFyIG4scixpPVwicGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6YmxvY2s7LXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94XCIsbz1LLmRvY3VtZW50RWxlbWVudCxzPUsuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhPUsuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiY29udGVudC1ib3hcIixhLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJcIixKLmNsZWFyQ2xvbmVTdHlsZT1cImNvbnRlbnQtYm94XCI9PT1hLnN0eWxlLmJhY2tncm91bmRDbGlwLHMuc3R5bGUuY3NzVGV4dD1cImJvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4XCIscy5hcHBlbmRDaGlsZChhKSxlLmdldENvbXB1dGVkU3R5bGUmJmV0LmV4dGVuZChKLHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxufSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1yJiZ0KCkscn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciB0LG49YS5hcHBlbmRDaGlsZChLLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBuLnN0eWxlLmNzc1RleHQ9YS5zdHlsZS5jc3NUZXh0PWksbi5zdHlsZS5tYXJnaW5SaWdodD1uLnN0eWxlLndpZHRoPVwiMFwiLGEuc3R5bGUud2lkdGg9XCIxcHhcIixvLmFwcGVuZENoaWxkKHMpLHQ9IXBhcnNlRmxvYXQoZS5nZXRDb21wdXRlZFN0eWxlKG4sbnVsbCkubWFyZ2luUmlnaHQpLG8ucmVtb3ZlQ2hpbGQocyksYS5pbm5lckhUTUw9XCJcIix0fX0pfSgpLGV0LnN3YXA9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzPXt9O2ZvcihvIGluIHQpc1tvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPXNbb107cmV0dXJuIGl9O3ZhciBYdD0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8senQ9bmV3IFJlZ0V4cChcIl4oXCIrd3QrXCIpKC4qKSRcIixcImlcIiksVXQ9bmV3IFJlZ0V4cChcIl4oWystXSk9KFwiK3d0K1wiKVwiLFwiaVwiKSxWdD17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sWXQ9e2xldHRlclNwYWNpbmc6MCxmb250V2VpZ2h0OjQwMH0sR3Q9W1wiV2Via2l0XCIsXCJPXCIsXCJNb3pcIixcIm1zXCJdO2V0LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPXcoZSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PW4/XCIxXCI6bn19fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxzLGE9ZXQuY2FtZWxDYXNlKHQpLHU9ZS5zdHlsZTtyZXR1cm4gdD1ldC5jc3NQcm9wc1thXXx8KGV0LmNzc1Byb3BzW2FdPUModSxhKSkscz1ldC5jc3NIb29rc1t0XXx8ZXQuY3NzSG9va3NbYV0sdm9pZCAwPT09bj9zJiZcImdldFwiaW4gcyYmdm9pZCAwIT09KGk9cy5nZXQoZSwhMSxyKSk/aTp1W3RdOihvPXR5cGVvZiBuLFwic3RyaW5nXCI9PT1vJiYoaT1VdC5leGVjKG4pKSYmKG49KGlbMV0rMSkqaVsyXStwYXJzZUZsb2F0KGV0LmNzcyhlLHQpKSxvPVwibnVtYmVyXCIpLG51bGwhPW4mJm49PT1uJiYoXCJudW1iZXJcIiE9PW98fGV0LmNzc051bWJlclthXXx8KG4rPVwicHhcIiksSi5jbGVhckNsb25lU3R5bGV8fFwiXCIhPT1ufHwwIT09dC5pbmRleE9mKFwiYmFja2dyb3VuZFwiKXx8KHVbdF09XCJpbmhlcml0XCIpLHMmJlwic2V0XCJpbiBzJiZ2b2lkIDA9PT0obj1zLnNldChlLG4scikpfHwodVt0XT1cIlwiLHVbdF09bikpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzLGE9ZXQuY2FtZWxDYXNlKHQpO3JldHVybiB0PWV0LmNzc1Byb3BzW2FdfHwoZXQuY3NzUHJvcHNbYV09QyhlLnN0eWxlLGEpKSxzPWV0LmNzc0hvb2tzW3RdfHxldC5jc3NIb29rc1thXSxzJiZcImdldFwiaW4gcyYmKGk9cy5nZXQoZSwhMCxuKSksdm9pZCAwPT09aSYmKGk9dyhlLHQscikpLFwibm9ybWFsXCI9PT1pJiZ0IGluIFl0JiYoaT1ZdFt0XSksXCJcIj09PW58fG4/KG89cGFyc2VGbG9hdChpKSxuPT09ITB8fGV0LmlzTnVtZXJpYyhvKT9vfHwwOmkpOml9fSksZXQuZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGUsdCl7ZXQuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4scil7cmV0dXJuIG4/MD09PWUub2Zmc2V0V2lkdGgmJlh0LnRlc3QoZXQuY3NzKGUsXCJkaXNwbGF5XCIpKT9ldC5zd2FwKGUsVnQsZnVuY3Rpb24oKXtyZXR1cm4gRShlLHQscil9KTpFKGUsdCxyKTp2b2lkIDB9LHNldDpmdW5jdGlvbihlLG4scil7dmFyIGk9ciYmX3QoZSk7cmV0dXJuIE4oZSxuLHI/ayhlLHQscixcImJvcmRlci1ib3hcIj09PWV0LmNzcyhlLFwiYm94U2l6aW5nXCIsITEsaSksaSk6MCl9fX0pLGV0LmNzc0hvb2tzLm1hcmdpblJpZ2h0PVQoSi5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ZXQuc3dhcChlLHtkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCJ9LHcsW2UsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksZXQuZWFjaCh7bWFyZ2luOlwiXCIscGFkZGluZzpcIlwiLGJvcmRlcjpcIldpZHRoXCJ9LGZ1bmN0aW9uKGUsdCl7ZXQuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wLGk9e30sbz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uLnNwbGl0KFwiIFwiKTpbbl07ND5yO3IrKylpW2UrVHRbcl0rdF09b1tyXXx8b1tyLTJdfHxvWzBdO3JldHVybiBpfX0sQnQudGVzdChlKXx8KGV0LmNzc0hvb2tzW2UrdF0uc2V0PU4pfSksZXQuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbXQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9LHM9MDtpZihldC5pc0FycmF5KHQpKXtmb3Iocj1fdChlKSxpPXQubGVuZ3RoO2k+cztzKyspb1t0W3NdXT1ldC5jc3MoZSx0W3NdLCExLHIpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1uP2V0LnN0eWxlKGUsdCxuKTpldC5jc3MoZSx0KX0sZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gRCh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBEKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Q3QodGhpcyk/ZXQodGhpcykuc2hvdygpOmV0KHRoaXMpLmhpZGUoKX0pfX0pLGV0LlR3ZWVuPWosai5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmosaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8XCJzd2luZ1wiLHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1yLHRoaXMudW5pdD1vfHwoZXQuY3NzTnVtYmVyW25dP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9ai5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6ai5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1qLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10PXRoaXMub3B0aW9ucy5kdXJhdGlvbj9ldC5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpqLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGoucHJvdG90eXBlLmluaXQucHJvdG90eXBlPWoucHJvdG90eXBlLGoucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsPT1lLmVsZW1bZS5wcm9wXXx8ZS5lbGVtLnN0eWxlJiZudWxsIT1lLmVsZW0uc3R5bGVbZS5wcm9wXT8odD1ldC5jc3MoZS5lbGVtLGUucHJvcCxcIlwiKSx0JiZcImF1dG9cIiE9PXQ/dDowKTplLmVsZW1bZS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGUpe2V0LmZ4LnN0ZXBbZS5wcm9wXT9ldC5meC5zdGVwW2UucHJvcF0oZSk6ZS5lbGVtLnN0eWxlJiYobnVsbCE9ZS5lbGVtLnN0eWxlW2V0LmNzc1Byb3BzW2UucHJvcF1dfHxldC5jc3NIb29rc1tlLnByb3BdKT9ldC5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCk6ZS5lbGVtW2UucHJvcF09ZS5ub3d9fX0sai5wcm9wSG9va3Muc2Nyb2xsVG9wPWoucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0sZXQuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn19LGV0LmZ4PWoucHJvdG90eXBlLmluaXQsZXQuZnguc3RlcD17fTt2YXIgUXQsSnQsS3Q9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFp0PW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK3d0K1wiKShbYS16JV0qKSRcIixcImlcIiksZW49L3F1ZXVlSG9va3MkLyx0bj1bcV0sbm49e1wiKlwiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KSxyPW4uY3VyKCksaT1adC5leGVjKHQpLG89aSYmaVszXXx8KGV0LmNzc051bWJlcltlXT9cIlwiOlwicHhcIikscz0oZXQuY3NzTnVtYmVyW2VdfHxcInB4XCIhPT1vJiYrcikmJlp0LmV4ZWMoZXQuY3NzKG4uZWxlbSxlKSksYT0xLHU9MjA7aWYocyYmc1szXSE9PW8pe289b3x8c1szXSxpPWl8fFtdLHM9K3J8fDE7ZG8gYT1hfHxcIi41XCIscy89YSxldC5zdHlsZShuLmVsZW0sZSxzK28pO3doaWxlKGEhPT0oYT1uLmN1cigpL3IpJiYxIT09YSYmLS11KX1yZXR1cm4gaSYmKHM9bi5zdGFydD0rc3x8K3J8fDAsbi51bml0PW8sbi5lbmQ9aVsxXT9zKyhpWzFdKzEpKmlbMl06K2lbMl0pLG59XX07ZXQuQW5pbWF0aW9uPWV0LmV4dGVuZChPLHt0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7ZXQuaXNGdW5jdGlvbihlKT8odD1lLGU9W1wiKlwiXSk6ZT1lLnNwbGl0KFwiIFwiKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7aT5yO3IrKyluPWVbcl0sbm5bbl09bm5bbl18fFtdLG5uW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/dG4udW5zaGlmdChlKTp0bi5wdXNoKGUpfX0pLGV0LnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiZcIm9iamVjdFwiPT10eXBlb2YgZT9ldC5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHxldC5pc0Z1bmN0aW9uKGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiFldC5pc0Z1bmN0aW9uKHQpJiZ0fTtyZXR1cm4gci5kdXJhdGlvbj1ldC5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2Ygci5kdXJhdGlvbj9yLmR1cmF0aW9uOnIuZHVyYXRpb24gaW4gZXQuZnguc3BlZWRzP2V0LmZ4LnNwZWVkc1tyLmR1cmF0aW9uXTpldC5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PXIucXVldWV8fHIucXVldWU9PT0hMCkmJihyLnF1ZXVlPVwiZnhcIiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZXQuaXNGdW5jdGlvbihyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmZXQuZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSxldC5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5maWx0ZXIoQ3QpLmNzcyhcIm9wYWNpdHlcIiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxlLG4scil9LGFuaW1hdGU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZXQuaXNFbXB0eU9iamVjdChlKSxvPWV0LnNwZWVkKHQsbixyKSxzPWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzLGV0LmV4dGVuZCh7fSxlKSxvKTsoaXx8dnQuZ2V0KHRoaXMsXCJmaW5pc2hcIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gcy5maW5pc2g9cyxpfHxvLnF1ZXVlPT09ITE/dGhpcy5lYWNoKHMpOnRoaXMucXVldWUoby5xdWV1ZSxzKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChuKX07cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihuPXQsdD1lLGU9dm9pZCAwKSx0JiZlIT09ITEmJnRoaXMucXVldWUoZXx8XCJmeFwiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0hMCxpPW51bGwhPWUmJmUrXCJxdWV1ZUhvb2tzXCIsbz1ldC50aW1lcnMscz12dC5nZXQodGhpcyk7aWYoaSlzW2ldJiZzW2ldLnN0b3AmJnIoc1tpXSk7ZWxzZSBmb3IoaSBpbiBzKXNbaV0mJnNbaV0uc3RvcCYmZW4udGVzdChpKSYmcihzW2ldKTtmb3IoaT1vLmxlbmd0aDtpLS07KW9baV0uZWxlbSE9PXRoaXN8fG51bGwhPWUmJm9baV0ucXVldWUhPT1lfHwob1tpXS5hbmltLnN0b3AobiksdD0hMSxvLnNwbGljZShpLDEpKTsodHx8IW4pJiZldC5kZXF1ZXVlKHRoaXMsZSl9KX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiBlIT09ITEmJihlPWV8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj12dC5nZXQodGhpcykscj1uW2UrXCJxdWV1ZVwiXSxpPW5bZStcInF1ZXVlSG9va3NcIl0sbz1ldC50aW1lcnMscz1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLGV0LnF1ZXVlKHRoaXMsZSxbXSksaSYmaS5zdG9wJiZpLnN0b3AuY2FsbCh0aGlzLCEwKSx0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtPT09dGhpcyYmb1t0XS5xdWV1ZT09PWUmJihvW3RdLmFuaW0uc3RvcCghMCksby5zcGxpY2UodCwxKSk7Zm9yKHQ9MDtzPnQ7dCsrKXJbdF0mJnJbdF0uZmluaXNoJiZyW3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBuLmZpbmlzaH0pfX0pLGV0LmVhY2goW1widG9nZ2xlXCIsXCJzaG93XCIsXCJoaWRlXCJdLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZXQuZm5bdF07ZXQuZm5bdF09ZnVuY3Rpb24oZSxyLGkpe3JldHVybiBudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGU/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKEEodCwhMCksZSxyLGkpXG59fSksZXQuZWFjaCh7c2xpZGVEb3duOkEoXCJzaG93XCIpLHNsaWRlVXA6QShcImhpZGVcIiksc2xpZGVUb2dnbGU6QShcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGUsdCl7ZXQuZm5bZV09ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmFuaW1hdGUodCxlLG4scil9fSksZXQudGltZXJzPVtdLGV0LmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1ldC50aW1lcnM7Zm9yKFF0PWV0Lm5vdygpO3Q8bi5sZW5ndGg7dCsrKWU9blt0XSxlKCl8fG5bdF0hPT1lfHxuLnNwbGljZSh0LS0sMSk7bi5sZW5ndGh8fGV0LmZ4LnN0b3AoKSxRdD12b2lkIDB9LGV0LmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2V0LnRpbWVycy5wdXNoKGUpLGUoKT9ldC5meC5zdGFydCgpOmV0LnRpbWVycy5wb3AoKX0sZXQuZnguaW50ZXJ2YWw9MTMsZXQuZnguc3RhcnQ9ZnVuY3Rpb24oKXtKdHx8KEp0PXNldEludGVydmFsKGV0LmZ4LnRpY2ssZXQuZnguaW50ZXJ2YWwpKX0sZXQuZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoSnQpLEp0PW51bGx9LGV0LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxldC5mbi5kZWxheT1mdW5jdGlvbihlLHQpe3JldHVybiBlPWV0LmZ4P2V0LmZ4LnNwZWVkc1tlXXx8ZTplLHQ9dHx8XCJmeFwiLHRoaXMucXVldWUodCxmdW5jdGlvbih0LG4pe3ZhciByPXNldFRpbWVvdXQodCxlKTtuLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocil9fSl9LGZ1bmN0aW9uKCl7dmFyIGU9Sy5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdD1LLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksbj10LmFwcGVuZENoaWxkKEsuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7ZS50eXBlPVwiY2hlY2tib3hcIixKLmNoZWNrT249XCJcIiE9PWUudmFsdWUsSi5vcHRTZWxlY3RlZD1uLnNlbGVjdGVkLHQuZGlzYWJsZWQ9ITAsSi5vcHREaXNhYmxlZD0hbi5kaXNhYmxlZCxlPUsuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGUudmFsdWU9XCJ0XCIsZS50eXBlPVwicmFkaW9cIixKLnJhZGlvVmFsdWU9XCJ0XCI9PT1lLnZhbHVlfSgpO3ZhciBybixvbixzbj1ldC5leHByLmF0dHJIYW5kbGU7ZXQuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG10KHRoaXMsZXQuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZXQucmVtb3ZlQXR0cih0aGlzLGUpfSl9fSksZXQuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZihlJiYzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiB0eXBlb2YgZS5nZXRBdHRyaWJ1dGU9PT1rdD9ldC5wcm9wKGUsdCxuKTooMT09PW8mJmV0LmlzWE1MRG9jKGUpfHwodD10LnRvTG93ZXJDYXNlKCkscj1ldC5hdHRySG9va3NbdF18fChldC5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9vbjpybikpLHZvaWQgMD09PW4/ciYmXCJnZXRcImluIHImJm51bGwhPT0oaT1yLmdldChlLHQpKT9pOihpPWV0LmZpbmQuYXR0cihlLHQpLG51bGw9PWk/dm9pZCAwOmkpOm51bGwhPT1uP3ImJlwic2V0XCJpbiByJiZ2b2lkIDAhPT0oaT1yLnNldChlLG4sdCkpP2k6KGUuc2V0QXR0cmlidXRlKHQsbitcIlwiKSxuKTp2b2lkIGV0LnJlbW92ZUF0dHIoZSx0KSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9MCxvPXQmJnQubWF0Y2goZHQpO2lmKG8mJjE9PT1lLm5vZGVUeXBlKWZvcig7bj1vW2krK107KXI9ZXQucHJvcEZpeFtuXXx8bixldC5leHByLm1hdGNoLmJvb2wudGVzdChuKSYmKGVbcl09ITEpLGUucmVtb3ZlQXR0cmlidXRlKG4pfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlLHQpe2lmKCFKLnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PXQmJmV0Lm5vZGVOYW1lKGUsXCJpbnB1dFwiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdCksbiYmKGUudmFsdWU9biksdH19fX19KSxvbj17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD09PSExP2V0LnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxldC5lYWNoKGV0LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgbj1zblt0XXx8ZXQuZmluZC5hdHRyO3NuW3RdPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvO3JldHVybiByfHwobz1zblt0XSxzblt0XT1pLGk9bnVsbCE9bihlLHQscik/dC50b0xvd2VyQ2FzZSgpOm51bGwsc25bdF09byksaX19KTt2YXIgYW49L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtldC5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbXQodGhpcyxldC5wcm9wLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tldC5wcm9wRml4W2VdfHxlXX0pfX0pLGV0LmV4dGVuZCh7cHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn0scHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHM9ZS5ub2RlVHlwZTtpZihlJiYzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiBvPTEhPT1zfHwhZXQuaXNYTUxEb2MoZSksbyYmKHQ9ZXQucHJvcEZpeFt0XXx8dCxpPWV0LnByb3BIb29rc1t0XSksdm9pZCAwIT09bj9pJiZcInNldFwiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiZcImdldFwiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpfHxhbi50ZXN0KGUubm9kZU5hbWUpfHxlLmhyZWY/ZS50YWJJbmRleDotMX19fX0pLEoub3B0U2VsZWN0ZWR8fChldC5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxldC5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe2V0LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIHVuPS9bXFx0XFxyXFxuXFxmXS9nO2V0LmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxzLGE9XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUsdT0wLGw9dGhpcy5sZW5ndGg7aWYoZXQuaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2V0KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEpZm9yKHQ9KGV8fFwiXCIpLm1hdGNoKGR0KXx8W107bD51O3UrKylpZihuPXRoaXNbdV0scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPyhcIiBcIituLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZSh1bixcIiBcIik6XCIgXCIpKXtmb3Iobz0wO2k9dFtvKytdOylyLmluZGV4T2YoXCIgXCIraStcIiBcIik8MCYmKHIrPWkrXCIgXCIpO3M9ZXQudHJpbShyKSxuLmNsYXNzTmFtZSE9PXMmJihuLmNsYXNzTmFtZT1zKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxzLGE9MD09PWFyZ3VtZW50cy5sZW5ndGh8fFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLHU9MCxsPXRoaXMubGVuZ3RoO2lmKGV0LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtldCh0aGlzKS5yZW1vdmVDbGFzcyhlLmNhbGwodGhpcyx0LHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhKWZvcih0PShlfHxcIlwiKS5tYXRjaChkdCl8fFtdO2w+dTt1KyspaWYobj10aGlzW3VdLHI9MT09PW4ubm9kZVR5cGUmJihuLmNsYXNzTmFtZT8oXCIgXCIrbi5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UodW4sXCIgXCIpOlwiXCIpKXtmb3Iobz0wO2k9dFtvKytdOylmb3IoO3IuaW5kZXhPZihcIiBcIitpK1wiIFwiKT49MDspcj1yLnJlcGxhY2UoXCIgXCIraStcIiBcIixcIiBcIik7cz1lP2V0LnRyaW0ocik6XCJcIixuLmNsYXNzTmFtZSE9PXMmJihuLmNsYXNzTmFtZT1zKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHQmJlwic3RyaW5nXCI9PT1uP3Q/dGhpcy5hZGRDbGFzcyhlKTp0aGlzLnJlbW92ZUNsYXNzKGUpOnRoaXMuZWFjaChldC5pc0Z1bmN0aW9uKGUpP2Z1bmN0aW9uKG4pe2V0KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sdGhpcy5jbGFzc05hbWUsdCksdCl9OmZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09PW4pZm9yKHZhciB0LHI9MCxpPWV0KHRoaXMpLG89ZS5tYXRjaChkdCl8fFtdO3Q9b1tyKytdOylpLmhhc0NsYXNzKHQpP2kucmVtb3ZlQ2xhc3ModCk6aS5hZGRDbGFzcyh0KTtlbHNlKG49PT1rdHx8XCJib29sZWFuXCI9PT1uKSYmKHRoaXMuY2xhc3NOYW1lJiZ2dC5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGU9PT0hMT9cIlwiOnZ0LmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiIFwiK2UrXCIgXCIsbj0wLHI9dGhpcy5sZW5ndGg7cj5uO24rKylpZigxPT09dGhpc1tuXS5ub2RlVHlwZSYmKFwiIFwiK3RoaXNbbl0uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKHVuLFwiIFwiKS5pbmRleE9mKHQpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBsbj0vXFxyL2c7ZXQuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj1ldC5pc0Z1bmN0aW9uKGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgaTsxPT09dGhpcy5ub2RlVHlwZSYmKGk9cj9lLmNhbGwodGhpcyxuLGV0KHRoaXMpLnZhbCgpKTplLG51bGw9PWk/aT1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiBpP2krPVwiXCI6ZXQuaXNBcnJheShpKSYmKGk9ZXQubWFwKGksZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIjplK1wiXCJ9KSksdD1ldC52YWxIb29rc1t0aGlzLnR5cGVdfHxldC52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHQmJlwic2V0XCJpbiB0JiZ2b2lkIDAhPT10LnNldCh0aGlzLGksXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9aSkpfSk7aWYoaSlyZXR1cm4gdD1ldC52YWxIb29rc1tpLnR5cGVdfHxldC52YWxIb29rc1tpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHQmJlwiZ2V0XCJpbiB0JiZ2b2lkIDAhPT0obj10LmdldChpLFwidmFsdWVcIikpP246KG49aS52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2Ygbj9uLnJlcGxhY2UobG4sXCJcIik6bnVsbD09bj9cIlwiOm4pfX19KSxldC5leHRlbmQoe3ZhbEhvb2tzOntzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWUub3B0aW9ucyxpPWUuc2VsZWN0ZWRJbmRleCxvPVwic2VsZWN0LW9uZVwiPT09ZS50eXBlfHwwPmkscz1vP251bGw6W10sYT1vP2krMTpyLmxlbmd0aCx1PTA+aT9hOm8/aTowO2E+dTt1KyspaWYobj1yW3VdLCEoIW4uc2VsZWN0ZWQmJnUhPT1pfHwoSi5vcHREaXNhYmxlZD9uLmRpc2FibGVkOm51bGwhPT1uLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpKXx8bi5wYXJlbnROb2RlLmRpc2FibGVkJiZldC5ub2RlTmFtZShuLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKHQ9ZXQobikudmFsKCksbylyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLGk9ZS5vcHRpb25zLG89ZXQubWFrZUFycmF5KHQpLHM9aS5sZW5ndGg7cy0tOylyPWlbc10sKHIuc2VsZWN0ZWQ9ZXQuaW5BcnJheShldChyKS52YWwoKSxvKT49MCkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLGV0LmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7ZXQudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe3JldHVybiBldC5pc0FycmF5KHQpP2UuY2hlY2tlZD1ldC5pbkFycmF5KGV0KGUpLnZhbCgpLHQpPj0wOnZvaWQgMH19LEouY2hlY2tPbnx8KGV0LnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmUudmFsdWV9KX0pLGV0LmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7ZXQuZm5bdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24odCxudWxsLGUsbik6dGhpcy50cmlnZ2VyKHQpfX0pLGV0LmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9LGJpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsXCIqKlwiKTp0aGlzLm9mZih0LGV8fFwiKipcIixuKX19KTt2YXIgY249ZXQubm93KCksZm49L1xcPy87ZXQucGFyc2VKU09OPWZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKGUrXCJcIil9LGV0LnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXtuPW5ldyBET01QYXJzZXIsdD1uLnBhcnNlRnJvbVN0cmluZyhlLFwidGV4dC94bWxcIil9Y2F0Y2gocil7dD12b2lkIDB9cmV0dXJuKCF0fHx0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoKSYmZXQuZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrZSksdH07dmFyIHBuLGRuLGhuPS8jLiokLyxnbj0vKFs/Jl0pXz1bXiZdKi8sbW49L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9nbSx2bj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyx5bj0vXig/OkdFVHxIRUFEKSQvLHhuPS9eXFwvXFwvLyxibj0vXihbXFx3ListXSs6KSg/OlxcL1xcLyg/OlteXFwvPyNdKkB8KShbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyx3bj17fSxUbj17fSxDbj1cIiovXCIuY29uY2F0KFwiKlwiKTt0cnl7ZG49bG9jYXRpb24uaHJlZn1jYXRjaChObil7ZG49Sy5jcmVhdGVFbGVtZW50KFwiYVwiKSxkbi5ocmVmPVwiXCIsZG49ZG4uaHJlZn1wbj1ibi5leGVjKGRuLnRvTG93ZXJDYXNlKCkpfHxbXSxldC5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmRuLHR5cGU6XCJHRVRcIixpc0xvY2FsOnZuLnRlc3QocG5bMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOkNuLHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpldC5wYXJzZUpTT04sXCJ0ZXh0IHhtbFwiOmV0LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9NKE0oZSxldC5hamF4U2V0dGluZ3MpLHQpOk0oZXQuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOkYod24pLGFqYXhUcmFuc3BvcnQ6RihUbiksYWpheDpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0LG4scyl7dmFyIHUsYyx2LHksYixUPXQ7MiE9PXgmJih4PTIsYSYmY2xlYXJUaW1lb3V0KGEpLHI9dm9pZCAwLG89c3x8XCJcIix3LnJlYWR5U3RhdGU9ZT4wPzQ6MCx1PWU+PTIwMCYmMzAwPmV8fDMwND09PWUsbiYmKHk9UihmLHcsbikpLHk9VyhmLHksdyx1KSx1PyhmLmlmTW9kaWZpZWQmJihiPXcuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpLGImJihldC5sYXN0TW9kaWZpZWRbaV09YiksYj13LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSxiJiYoZXQuZXRhZ1tpXT1iKSksMjA0PT09ZXx8XCJIRUFEXCI9PT1mLnR5cGU/VD1cIm5vY29udGVudFwiOjMwND09PWU/VD1cIm5vdG1vZGlmaWVkXCI6KFQ9eS5zdGF0ZSxjPXkuZGF0YSx2PXkuZXJyb3IsdT0hdikpOih2PVQsKGV8fCFUKSYmKFQ9XCJlcnJvclwiLDA+ZSYmKGU9MCkpKSx3LnN0YXR1cz1lLHcuc3RhdHVzVGV4dD0odHx8VCkrXCJcIix1P2gucmVzb2x2ZVdpdGgocCxbYyxULHddKTpoLnJlamVjdFdpdGgocCxbdyxULHZdKSx3LnN0YXR1c0NvZGUobSksbT12b2lkIDAsbCYmZC50cmlnZ2VyKHU/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3csZix1P2M6dl0pLGcuZmlyZVdpdGgocCxbdyxUXSksbCYmKGQudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt3LGZdKSwtLWV0LmFjdGl2ZXx8ZXQuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9XCJvYmplY3RcIj09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIHIsaSxvLHMsYSx1LGwsYyxmPWV0LmFqYXhTZXR1cCh7fSx0KSxwPWYuY29udGV4dHx8ZixkPWYuY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT9ldChwKTpldC5ldmVudCxoPWV0LkRlZmVycmVkKCksZz1ldC5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxtPWYuc3RhdHVzQ29kZXx8e30sdj17fSx5PXt9LHg9MCxiPVwiY2FuY2VsZWRcIix3PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoMj09PXgpe2lmKCFzKWZvcihzPXt9O3Q9bW4uZXhlYyhvKTspc1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl07dD1zW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXg/bzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO3JldHVybiB4fHwoZT15W25dPXlbbl18fGUsdltlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiB4fHwoZi5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoMj54KWZvcih0IGluIGUpbVt0XT1bbVt0XSxlW3RdXTtlbHNlIHcuYWx3YXlzKGVbdy5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8YjtyZXR1cm4gciYmci5hYm9ydCh0KSxuKDAsdCksdGhpc319O2lmKGgucHJvbWlzZSh3KS5jb21wbGV0ZT1nLmFkZCx3LnN1Y2Nlc3M9dy5kb25lLHcuZXJyb3I9dy5mYWlsLGYudXJsPSgoZXx8Zi51cmx8fGRuKStcIlwiKS5yZXBsYWNlKGhuLFwiXCIpLnJlcGxhY2UoeG4scG5bMV0rXCIvL1wiKSxmLnR5cGU9dC5tZXRob2R8fHQudHlwZXx8Zi5tZXRob2R8fGYudHlwZSxmLmRhdGFUeXBlcz1ldC50cmltKGYuZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGR0KXx8W1wiXCJdLG51bGw9PWYuY3Jvc3NEb21haW4mJih1PWJuLmV4ZWMoZi51cmwudG9Mb3dlckNhc2UoKSksZi5jcm9zc0RvbWFpbj0hKCF1fHx1WzFdPT09cG5bMV0mJnVbMl09PT1wblsyXSYmKHVbM118fChcImh0dHA6XCI9PT11WzFdP1wiODBcIjpcIjQ0M1wiKSk9PT0ocG5bM118fChcImh0dHA6XCI9PT1wblsxXT9cIjgwXCI6XCI0NDNcIikpKSksZi5kYXRhJiZmLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2YgZi5kYXRhJiYoZi5kYXRhPWV0LnBhcmFtKGYuZGF0YSxmLnRyYWRpdGlvbmFsKSksUCh3bixmLHQsdyksMj09PXgpcmV0dXJuIHc7bD1mLmdsb2JhbCxsJiYwPT09ZXQuYWN0aXZlKysmJmV0LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIiksZi50eXBlPWYudHlwZS50b1VwcGVyQ2FzZSgpLGYuaGFzQ29udGVudD0heW4udGVzdChmLnR5cGUpLGk9Zi51cmwsZi5oYXNDb250ZW50fHwoZi5kYXRhJiYoaT1mLnVybCs9KGZuLnRlc3QoaSk/XCImXCI6XCI/XCIpK2YuZGF0YSxkZWxldGUgZi5kYXRhKSxmLmNhY2hlPT09ITEmJihmLnVybD1nbi50ZXN0KGkpP2kucmVwbGFjZShnbixcIiQxXz1cIitjbisrKTppKyhmbi50ZXN0KGkpP1wiJlwiOlwiP1wiKStcIl89XCIrY24rKykpLGYuaWZNb2RpZmllZCYmKGV0Lmxhc3RNb2RpZmllZFtpXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixldC5sYXN0TW9kaWZpZWRbaV0pLGV0LmV0YWdbaV0mJncuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixldC5ldGFnW2ldKSksKGYuZGF0YSYmZi5oYXNDb250ZW50JiZmLmNvbnRlbnRUeXBlIT09ITF8fHQuY29udGVudFR5cGUpJiZ3LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixmLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixmLmRhdGFUeXBlc1swXSYmZi5hY2NlcHRzW2YuZGF0YVR5cGVzWzBdXT9mLmFjY2VwdHNbZi5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PWYuZGF0YVR5cGVzWzBdP1wiLCBcIitDbitcIjsgcT0wLjAxXCI6XCJcIik6Zi5hY2NlcHRzW1wiKlwiXSk7Zm9yKGMgaW4gZi5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihjLGYuaGVhZGVyc1tjXSk7aWYoZi5iZWZvcmVTZW5kJiYoZi5iZWZvcmVTZW5kLmNhbGwocCx3LGYpPT09ITF8fDI9PT14KSlyZXR1cm4gdy5hYm9ydCgpO2I9XCJhYm9ydFwiO2ZvcihjIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXdbY10oZltjXSk7aWYocj1QKFRuLGYsdCx3KSl7dy5yZWFkeVN0YXRlPTEsbCYmZC50cmlnZ2VyKFwiYWpheFNlbmRcIixbdyxmXSksZi5hc3luYyYmZi50aW1lb3V0PjAmJihhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt3LmFib3J0KFwidGltZW91dFwiKX0sZi50aW1lb3V0KSk7dHJ5e3g9MSxyLnNlbmQodixuKX1jYXRjaChUKXtpZighKDI+eCkpdGhyb3cgVDtuKC0xLFQpfX1lbHNlIG4oLTEsXCJObyBUcmFuc3BvcnRcIik7cmV0dXJuIHd9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBldC5nZXQoZSx0LG4sXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXQuZ2V0KGUsdm9pZCAwLHQsXCJzY3JpcHRcIil9fSksZXQuZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oZSx0KXtldFt0XT1mdW5jdGlvbihlLG4scixpKXtyZXR1cm4gZXQuaXNGdW5jdGlvbihuKSYmKGk9aXx8cixyPW4sbj12b2lkIDApLGV0LmFqYXgoe3VybDplLHR5cGU6dCxkYXRhVHlwZTppLGRhdGE6bixzdWNjZXNzOnJ9KX19KSxldC5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oZSx0KXtldC5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLGV0Ll9ldmFsVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBldC5hamF4KHt1cmw6ZSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxldC5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGV0LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2V0KHRoaXMpLndyYXBBbGwoZS5jYWxsKHRoaXMsdCkpfSk6KHRoaXNbMF0mJih0PWV0KGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzO2UuZmlyc3RFbGVtZW50Q2hpbGQ7KWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGV0LmlzRnVuY3Rpb24oZSk/ZnVuY3Rpb24odCl7ZXQodGhpcykud3JhcElubmVyKGUuY2FsbCh0aGlzLHQpKX06ZnVuY3Rpb24oKXt2YXIgdD1ldCh0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD1ldC5pc0Z1bmN0aW9uKGUpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7ZXQodGhpcykud3JhcEFsbCh0P2UuY2FsbCh0aGlzLG4pOmUpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtldC5ub2RlTmFtZSh0aGlzLFwiYm9keVwiKXx8ZXQodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLGV0LmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0V2lkdGg8PTAmJmUub2Zmc2V0SGVpZ2h0PD0wfSxldC5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hZXQuZXhwci5maWx0ZXJzLmhpZGRlbihlKX07dmFyIGtuPS8lMjAvZyxFbj0vXFxbXFxdJC8sRG49L1xccj9cXG4vZyxqbj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksU249L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2V0LnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dD1ldC5pc0Z1bmN0aW9uKHQpP3QoKTpudWxsPT10P1wiXCI6dCxyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpfTtpZih2b2lkIDA9PT10JiYodD1ldC5hamF4U2V0dGluZ3MmJmV0LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksZXQuaXNBcnJheShlKXx8ZS5qcXVlcnkmJiFldC5pc1BsYWluT2JqZWN0KGUpKWV0LmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKSQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbihcIiZcIikucmVwbGFjZShrbixcIitcIil9LGV0LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGV0LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9ZXQucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGU/ZXQubWFrZUFycmF5KGUpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIWV0KHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZTbi50ZXN0KHRoaXMubm9kZU5hbWUpJiYham4udGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IU50LnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZXQodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpldC5pc0FycmF5KG4pP2V0Lm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoRG4sXCJcXHJcXG5cIil9fSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShEbixcIlxcclxcblwiKX19KS5nZXQoKX19KSxldC5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEFuPTAsTG49e30scW49ezA6MjAwLDEyMjM6MjA0fSxIbj1ldC5hamF4U2V0dGluZ3MueGhyKCk7ZS5BY3RpdmVYT2JqZWN0JiZldChlKS5vbihcInVubG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIExuKUxuW2VdKCl9KSxKLmNvcnM9ISFIbiYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIEhuLEouYWpheD1Ibj0hIUhuLGV0LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIEouY29yc3x8SG4mJiFlLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKG4scil7dmFyIGksbz1lLnhocigpLHM9KytBbjtpZihvLm9wZW4oZS50eXBlLGUudXJsLGUuYXN5bmMsZS51c2VybmFtZSxlLnBhc3N3b3JkKSxlLnhockZpZWxkcylmb3IoaSBpbiBlLnhockZpZWxkcylvW2ldPWUueGhyRmllbGRzW2ldO2UubWltZVR5cGUmJm8ub3ZlcnJpZGVNaW1lVHlwZSYmby5vdmVycmlkZU1pbWVUeXBlKGUubWltZVR5cGUpLGUuY3Jvc3NEb21haW58fG5bXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwobltcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKTtmb3IoaSBpbiBuKW8uc2V0UmVxdWVzdEhlYWRlcihpLG5baV0pO3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dCYmKGRlbGV0ZSBMbltzXSx0PW8ub25sb2FkPW8ub25lcnJvcj1udWxsLFwiYWJvcnRcIj09PWU/by5hYm9ydCgpOlwiZXJyb3JcIj09PWU/cihvLnN0YXR1cyxvLnN0YXR1c1RleHQpOnIocW5bby5zdGF0dXNdfHxvLnN0YXR1cyxvLnN0YXR1c1RleHQsXCJzdHJpbmdcIj09dHlwZW9mIG8ucmVzcG9uc2VUZXh0P3t0ZXh0Om8ucmVzcG9uc2VUZXh0fTp2b2lkIDAsby5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sby5vbmxvYWQ9dCgpLG8ub25lcnJvcj10KFwiZXJyb3JcIiksdD1MbltzXT10KFwiYWJvcnRcIiksby5zZW5kKGUuaGFzQ29udGVudCYmZS5kYXRhfHxudWxsKX0sYWJvcnQ6ZnVuY3Rpb24oKXt0JiZ0KCl9fTp2b2lkIDB9KSxldC5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOntcInRleHQgc2NyaXB0XCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0Lmdsb2JhbEV2YWwoZSksZX19fSksZXQuYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuY2FjaGUmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPVwiR0VUXCIpfSksZXQuYWpheFRyYW5zcG9ydChcInNjcmlwdFwiLGZ1bmN0aW9uKGUpe2lmKGUuY3Jvc3NEb21haW4pe3ZhciB0LG47cmV0dXJue3NlbmQ6ZnVuY3Rpb24ocixpKXt0PWV0KFwiPHNjcmlwdD5cIikucHJvcCh7YXN5bmM6ITAsY2hhcnNldDplLnNjcmlwdENoYXJzZXQsc3JjOmUudXJsfSkub24oXCJsb2FkIGVycm9yXCIsbj1mdW5jdGlvbihlKXt0LnJlbW92ZSgpLG49bnVsbCxlJiZpKFwiZXJyb3JcIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxLLmhlYWQuYXBwZW5kQ2hpbGQodFswXSl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19fSk7dmFyIE9uPVtdLEZuPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87ZXQuYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPU9uLnBvcCgpfHxldC5leHBhbmRvK1wiX1wiK2NuKys7cmV0dXJuIHRoaXNbZV09ITAsZX19KSxldC5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKHQsbixyKXt2YXIgaSxvLHMsYT10Lmpzb25wIT09ITEmJihGbi50ZXN0KHQudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiB0LmRhdGEmJiEodC5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmRm4udGVzdCh0LmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGF8fFwianNvbnBcIj09PXQuZGF0YVR5cGVzWzBdPyhpPXQuanNvbnBDYWxsYmFjaz1ldC5pc0Z1bmN0aW9uKHQuanNvbnBDYWxsYmFjayk/dC5qc29ucENhbGxiYWNrKCk6dC5qc29ucENhbGxiYWNrLGE/dFthXT10W2FdLnJlcGxhY2UoRm4sXCIkMVwiK2kpOnQuanNvbnAhPT0hMSYmKHQudXJsKz0oZm4udGVzdCh0LnVybCk/XCImXCI6XCI/XCIpK3QuanNvbnArXCI9XCIraSksdC5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8ZXQuZXJyb3IoaStcIiB3YXMgbm90IGNhbGxlZFwiKSxzWzBdfSx0LmRhdGFUeXBlc1swXT1cImpzb25cIixvPWVbaV0sZVtpXT1mdW5jdGlvbigpe3M9YXJndW1lbnRzfSxyLmFsd2F5cyhmdW5jdGlvbigpe2VbaV09byx0W2ldJiYodC5qc29ucENhbGxiYWNrPW4uanNvbnBDYWxsYmFjayxPbi5wdXNoKGkpKSxzJiZldC5pc0Z1bmN0aW9uKG8pJiZvKHNbMF0pLHM9bz12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxldC5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdD10fHxLO3ZhciByPXN0LmV4ZWMoZSksaT0hbiYmW107cmV0dXJuIHI/W3QuY3JlYXRlRWxlbWVudChyWzFdKV06KHI9ZXQuYnVpbGRGcmFnbWVudChbZV0sdCxpKSxpJiZpLmxlbmd0aCYmZXQoaSkucmVtb3ZlKCksZXQubWVyZ2UoW10sci5jaGlsZE5vZGVzKSl9O3ZhciBQbj1ldC5mbi5sb2FkO2V0LmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiZQbilyZXR1cm4gUG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciByLGksbyxzPXRoaXMsYT1lLmluZGV4T2YoXCIgXCIpO3JldHVybiBhPj0wJiYocj1lLnNsaWNlKGEpLGU9ZS5zbGljZSgwLGEpKSxldC5pc0Z1bmN0aW9uKHQpPyhuPXQsdD12b2lkIDApOnQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoaT1cIlBPU1RcIikscy5sZW5ndGg+MCYmZXQuYWpheCh7dXJsOmUsdHlwZTppLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMscy5odG1sKHI/ZXQoXCI8ZGl2PlwiKS5hcHBlbmQoZXQucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuY29tcGxldGUobiYmZnVuY3Rpb24oZSx0KXtzLmVhY2gobixvfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KSx0aGlzfSxldC5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LmdyZXAoZXQudGltZXJzLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkubGVuZ3RofTt2YXIgTW49ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZXQub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxzLGEsdSxsLGM9ZXQuY3NzKGUsXCJwb3NpdGlvblwiKSxmPWV0KGUpLHA9e307XCJzdGF0aWNcIj09PWMmJihlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksYT1mLm9mZnNldCgpLG89ZXQuY3NzKGUsXCJ0b3BcIiksdT1ldC5jc3MoZSxcImxlZnRcIiksbD0oXCJhYnNvbHV0ZVwiPT09Y3x8XCJmaXhlZFwiPT09YykmJihvK3UpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGw/KHI9Zi5wb3NpdGlvbigpLHM9ci50b3AsaT1yLmxlZnQpOihzPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSxldC5pc0Z1bmN0aW9uKHQpJiYodD10LmNhbGwoZSxuLGEpKSxudWxsIT10LnRvcCYmKHAudG9wPXQudG9wLWEudG9wK3MpLG51bGwhPXQubGVmdCYmKHAubGVmdD10LmxlZnQtYS5sZWZ0K2kpLFwidXNpbmdcImluIHQ/dC51c2luZy5jYWxsKGUscCk6Zi5jc3MocCl9fSxldC5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihlKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1lP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2V0Lm9mZnNldC5zZXRPZmZzZXQodGhpcyxlLHQpfSk7dmFyIHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfSxvPXImJnIub3duZXJEb2N1bWVudDtpZihvKXJldHVybiB0PW8uZG9jdW1lbnRFbGVtZW50LGV0LmNvbnRhaW5zKHQscik/KHR5cGVvZiByLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PWt0JiYoaT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxuPUIobykse3RvcDppLnRvcCtuLnBhZ2VZT2Zmc2V0LXQuY2xpZW50VG9wLGxlZnQ6aS5sZWZ0K24ucGFnZVhPZmZzZXQtdC5jbGllbnRMZWZ0fSk6aX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG49dGhpc1swXSxyPXt0b3A6MCxsZWZ0OjB9O3JldHVyblwiZml4ZWRcIj09PWV0LmNzcyhuLFwicG9zaXRpb25cIik/dD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihlPXRoaXMub2Zmc2V0UGFyZW50KCksdD10aGlzLm9mZnNldCgpLGV0Lm5vZGVOYW1lKGVbMF0sXCJodG1sXCIpfHwocj1lLm9mZnNldCgpKSxyLnRvcCs9ZXQuY3NzKGVbMF0sXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxyLmxlZnQrPWV0LmNzcyhlWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOnQudG9wLXIudG9wLWV0LmNzcyhuLFwibWFyZ2luVG9wXCIsITApLGxlZnQ6dC5sZWZ0LXIubGVmdC1ldC5jc3MobixcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxNbjtlJiYhZXQubm9kZU5hbWUoZSxcImh0bWxcIikmJlwic3RhdGljXCI9PT1ldC5jc3MoZSxcInBvc2l0aW9uXCIpOyllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxNbn0pfX0pLGV0LmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKHQsbil7dmFyIHI9XCJwYWdlWU9mZnNldFwiPT09bjtldC5mblt0XT1mdW5jdGlvbihpKXtyZXR1cm4gbXQodGhpcyxmdW5jdGlvbih0LGksbyl7dmFyIHM9Qih0KTtyZXR1cm4gdm9pZCAwPT09bz9zP3Nbbl06dFtpXTp2b2lkKHM/cy5zY3JvbGxUbyhyP2UucGFnZVhPZmZzZXQ6byxyP286ZS5wYWdlWU9mZnNldCk6dFtpXT1vKX0sdCxpLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksZXQuZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oZSx0KXtldC5jc3NIb29rc1t0XT1UKEoucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLG4pe3JldHVybiBuPyhuPXcoZSx0KSxJdC50ZXN0KG4pP2V0KGUpLnBvc2l0aW9uKClbdF0rXCJweFwiOm4pOnZvaWQgMH0pfSksZXQuZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihlLHQpe2V0LmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2UsY29udGVudDp0LFwiXCI6XCJvdXRlclwiK2V9LGZ1bmN0aW9uKG4scil7ZXQuZm5bcl09ZnVuY3Rpb24ocixpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoJiYobnx8XCJib29sZWFuXCIhPXR5cGVvZiByKSxzPW58fChyPT09ITB8fGk9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBtdCh0aGlzLGZ1bmN0aW9uKHQsbixyKXt2YXIgaTtyZXR1cm4gZXQuaXNXaW5kb3codCk/dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIitlXTo5PT09dC5ub2RlVHlwZT8oaT10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbXCJzY3JvbGxcIitlXSxpW1wic2Nyb2xsXCIrZV0sdC5ib2R5W1wib2Zmc2V0XCIrZV0saVtcIm9mZnNldFwiK2VdLGlbXCJjbGllbnRcIitlXSkpOnZvaWQgMD09PXI/ZXQuY3NzKHQsbixzKTpldC5zdHlsZSh0LG4scixzKX0sdCxvP3I6dm9pZCAwLG8sbnVsbCl9fSl9KSxldC5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxldC5mbi5hbmRTZWxmPWV0LmZuLmFkZEJhY2ssXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiBldH0pO3ZhciBSbj1lLmpRdWVyeSxXbj1lLiQ7cmV0dXJuIGV0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuJD09PWV0JiYoZS4kPVduKSx0JiZlLmpRdWVyeT09PWV0JiYoZS5qUXVlcnk9Um4pLGV0fSx0eXBlb2YgdD09PWt0JiYoZS5qUXVlcnk9ZS4kPWV0KSxldH0pOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGFycmF5Rmlyc3QoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZih0KGVbcl0scik9PT0hMClyZXR1cm4gZVtyXTtyZXR1cm4hMX1mdW5jdGlvbiB5YW5rRXJyb3IoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dHx8clswXS5lcnJvcj9jYWxsKGUsdHx8clswXSk6Y2FsbChlLG51bGwsclswXSl9fWZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQoZSl7dmFyIHQ9e30scj1bXTtyZXR1cm4gbWVyZ2UudHJhdmVyc2VSZXZUcmVlKGUsZnVuY3Rpb24oZSxpLG8sYSl7dmFyIG49aStcIi1cIitvO3JldHVybiBlJiYodFtuXT0wKSx2b2lkIDAhPT1hJiZyLnB1c2goe2Zyb206YSx0bzpufSksbn0pLHIucmV2ZXJzZSgpLHIuZm9yRWFjaChmdW5jdGlvbihlKXt0W2UuZnJvbV09dm9pZCAwPT09dFtlLmZyb21dPzErdFtlLnRvXTpNYXRoLm1pbih0W2UuZnJvbV0sMSt0W2UudG9dKX0pLHR9dmFyIHV0aWxzPXJlcXVpcmUoXCIuL3V0aWxzXCIpLG1lcmdlPXJlcXVpcmUoXCIuL21lcmdlXCIpLGVycm9ycz1yZXF1aXJlKFwiLi9kZXBzL2Vycm9yc1wiKSxjYWxsPXV0aWxzLmNhbGw7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oUG91Y2gpe3JldHVybiBmdW5jdGlvbihvcHRzLGNhbGxiYWNrKXtmdW5jdGlvbiBhdXRvQ29tcGFjdChlKXtyZXR1cm4gYXV0b19jb21wYWN0aW9uP2Z1bmN0aW9uKHQscil7aWYodCljYWxsKGUsdCk7ZWxzZXt2YXIgaT1yLmxlbmd0aCxvPWZ1bmN0aW9uKCl7aS0tLGl8fGNhbGwoZSxudWxsLHIpfTtyLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5vaz9jb21wYWN0RG9jdW1lbnQoZS5pZCwxLG8pOm8oKX0pfX06ZX1mdW5jdGlvbiBjb21wYWN0RG9jdW1lbnQoZSx0LHIpe2N1c3RvbUFwaS5fZ2V0UmV2aXNpb25UcmVlKGUsZnVuY3Rpb24oaSxvKXtpZihpKXJldHVybiBjYWxsKHIpO3ZhciBhPWNvbXB1dGVIZWlnaHQobyksbj1bXSxzPVtdO09iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlXT50JiZuLnB1c2goZSl9KSxtZXJnZS50cmF2ZXJzZVJldlRyZWUobyxmdW5jdGlvbihlLHQscixpLG8pe3ZhciBhPXQrXCItXCIrcjtcImF2YWlsYWJsZVwiPT09by5zdGF0dXMmJi0xIT09bi5pbmRleE9mKGEpJiYoby5zdGF0dXM9XCJtaXNzaW5nXCIscy5wdXNoKGEpKX0pLGN1c3RvbUFwaS5fZG9Db21wYWN0aW9uKGUsbyxzLHIpfSl9ZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShlLHQscil7dmFyIGk9W3tyZXY6ZS5fcmV2fV07XCJhbGxfZG9jc1wiPT09ci5zdHlsZSYmKGk9bWVyZ2UuY29sbGVjdExlYXZlcyh0LnJldl90cmVlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3JldjplLnJldn19KSk7dmFyIG89e2lkOnQuaWQsY2hhbmdlczppLGRvYzplfTtyZXR1cm4gdXRpbHMuaXNEZWxldGVkKHQsZS5fcmV2KSYmKG8uZGVsZXRlZD0hMCksci5jb25mbGljdHMmJihvLmRvYy5fY29uZmxpY3RzPW1lcmdlLmNvbGxlY3RDb25mbGljdHModCksby5kb2MuX2NvbmZsaWN0cy5sZW5ndGh8fGRlbGV0ZSBvLmRvYy5fY29uZmxpY3RzKSxvfXZhciBhcGk9e30sY3VzdG9tQXBpPVBvdWNoLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0ob3B0cyxmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIHZvaWQoY2FsbGJhY2smJmNhbGxiYWNrKGUpKTtmb3IodmFyIHIgaW4gYXBpKXQuaGFzT3duUHJvcGVydHkocil8fCh0W3JdPWFwaVtyXSk7b3B0cy5uYW1lPT09UG91Y2gucHJlZml4K1BvdWNoLkFMTF9EQlM/Y2FsbGJhY2soZSx0KTpQb3VjaC5vcGVuKG9wdHMsZnVuY3Rpb24oZSl7Y2FsbGJhY2soZSx0KX0pfSksYXV0b19jb21wYWN0aW9uPW9wdHMuYXV0b19jb21wYWN0aW9uPT09ITA7YXBpLnBvc3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSk/Y2FsbChyLGVycm9ycy5OT1RfQU5fT0JKRUNUKTpjdXN0b21BcGkuYnVsa0RvY3Moe2RvY3M6W2VdfSx0LGF1dG9Db21wYWN0KHlhbmtFcnJvcihyKSkpfSxhcGkucHV0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLFwib2JqZWN0XCIhPXR5cGVvZiBlP2NhbGwocixlcnJvcnMuTk9UX0FOX09CSkVDVCk6dXRpbHMuaXNWYWxpZElkKGUuX2lkKT9jdXN0b21BcGkuYnVsa0RvY3Moe2RvY3M6W2VdfSx0LGF1dG9Db21wYWN0KHlhbmtFcnJvcihyKSkpOmNhbGwocixlcnJvcnMuTUlTU0lOR19JRCl9LGFwaS5wdXRBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCxyLGksbyxhKXtmdW5jdGlvbiBuKGUpe2UuX2F0dGFjaG1lbnRzPWUuX2F0dGFjaG1lbnRzfHx7fSxlLl9hdHRhY2htZW50c1t0XT17Y29udGVudF90eXBlOm8sZGF0YTppfSxhcGkucHV0KGUsYSl9cmV0dXJuIGFwaS50YXNrcXVldWUucmVhZHkoKT8oXCJmdW5jdGlvblwiPT10eXBlb2YgbyYmKGE9byxvPWksaT1yLHI9bnVsbCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIG8mJihvPWksaT1yLHI9bnVsbCksdm9pZCBhcGkuZ2V0KGUsZnVuY3Rpb24odCxpKXtyZXR1cm4gdCYmdC5lcnJvcj09PWVycm9ycy5NSVNTSU5HX0RPQy5lcnJvcj92b2lkIG4oe19pZDplfSk6dD92b2lkIGNhbGwoYSx0KTppLl9yZXYhPT1yP3ZvaWQgY2FsbChhLGVycm9ycy5SRVZfQ09ORkxJQ1QpOnZvaWQgbihpKX0pKTp2b2lkIGFwaS50YXNrcXVldWUuYWRkVGFzayhcInB1dEF0dGFjaG1lbnRcIixhcmd1bWVudHMpfSxhcGkucmVtb3ZlQXR0YWNobWVudD1mdW5jdGlvbihlLHQscixpKXthcGkuZ2V0KGUsZnVuY3Rpb24oZSxvKXtyZXR1cm4gZT92b2lkIGNhbGwoaSxlKTpvLl9yZXYhPT1yP3ZvaWQgY2FsbChpLGVycm9ycy5SRVZfQ09ORkxJQ1QpOm8uX2F0dGFjaG1lbnRzPyhkZWxldGUgby5fYXR0YWNobWVudHNbdF0sMD09PU9iamVjdC5rZXlzKG8uX2F0dGFjaG1lbnRzKS5sZW5ndGgmJmRlbGV0ZSBvLl9hdHRhY2htZW50cyx2b2lkIGFwaS5wdXQobyxpKSk6Y2FsbChpLG51bGwpfSl9LGFwaS5yZW1vdmU9ZnVuY3Rpb24oZSx0LHIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksdm9pZCAwPT09dCYmKHQ9e30pLHQud2FzX2RlbGV0ZT0hMDt2YXIgaT17X2lkOmUuX2lkLF9yZXY6ZS5fcmV2fTtyZXR1cm4gaS5fZGVsZXRlZD0hMCxjdXN0b21BcGkuYnVsa0RvY3Moe2RvY3M6W2ldfSx0LHlhbmtFcnJvcihyKSl9LGFwaS5yZXZzRGlmZj1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaShlLHQpe3NbZV18fChzW2VdPXttaXNzaW5nOltdfSksc1tlXS5taXNzaW5nLnB1c2godCl9ZnVuY3Rpb24gbyh0LHIpe3ZhciBvPWVbdF0uc2xpY2UoMCk7bWVyZ2UudHJhdmVyc2VSZXZUcmVlKHIsZnVuY3Rpb24oZSxyLGEsbixzKXt2YXIgYz1yK1wiLVwiK2EsdT1vLmluZGV4T2YoYyk7LTEhPT11JiYoby5zcGxpY2UodSwxKSxcImF2YWlsYWJsZVwiIT09cy5zdGF0dXMmJmkodCxjKSl9KSxvLmZvckVhY2goZnVuY3Rpb24oZSl7aSh0LGUpfSl9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KTt2YXIgYT1PYmplY3Qua2V5cyhlKSxuPTAscz17fTthLm1hcChmdW5jdGlvbih0KXtjdXN0b21BcGkuX2dldFJldmlzaW9uVHJlZSh0LGZ1bmN0aW9uKGksYyl7aWYoaSYmXCJub3RfZm91bmRcIj09PWkubmFtZSYmXCJtaXNzaW5nXCI9PT1pLm1lc3NhZ2Upc1t0XT17bWlzc2luZzplW3RdfTtlbHNle2lmKGkpcmV0dXJuIGNhbGwocixpKTtvKHQsYyl9cmV0dXJuKytuPT09YS5sZW5ndGg/Y2FsbChyLG51bGwscyk6dm9pZCAwfSl9KX0sYXBpLmNvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodD1lLGU9e30pLGFwaS5jaGFuZ2VzKHtjb21wbGV0ZTpmdW5jdGlvbihlLHIpe2lmKGUpcmV0dXJuIHZvaWQgY2FsbCh0KTt2YXIgaT1yLnJlc3VsdHMubGVuZ3RoO3JldHVybiBpP3ZvaWQgci5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24oZSl7Y29tcGFjdERvY3VtZW50KGUuaWQsMCxmdW5jdGlvbigpe2ktLSxpfHxjYWxsKHQpfSl9KTp2b2lkIGNhbGwodCl9fSl9LGFwaS5nZXQ9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoKXt2YXIgaT1bXSxhPW8ubGVuZ3RoO3JldHVybiBhP3ZvaWQgby5mb3JFYWNoKGZ1bmN0aW9uKG8pe2FwaS5nZXQoZSx7cmV2Om8scmV2czp0LnJldnN9LGZ1bmN0aW9uKGUsdCl7aS5wdXNoKGU/e21pc3Npbmc6b306e29rOnR9KSxhLS0sYXx8Y2FsbChyLG51bGwsaSl9KX0pOmNhbGwocixudWxsLGkpfWlmKCFhcGkudGFza3F1ZXVlLnJlYWR5KCkpcmV0dXJuIHZvaWQgYXBpLnRhc2txdWV1ZS5hZGRUYXNrKFwiZ2V0XCIsYXJndW1lbnRzKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pO3ZhciBvPVtdO3tpZighdC5vcGVuX3JldnMpcmV0dXJuIGN1c3RvbUFwaS5fZ2V0KGUsdCxmdW5jdGlvbihlLGkpe2lmKGUpcmV0dXJuIGNhbGwocixlKTt2YXIgbz1pLmRvYyxhPWkubWV0YWRhdGEsbj1pLmN0eDtpZih0LmNvbmZsaWN0cyl7dmFyIHM9bWVyZ2UuY29sbGVjdENvbmZsaWN0cyhhKTtzLmxlbmd0aCYmKG8uX2NvbmZsaWN0cz1zKX1pZih0LnJldnN8fHQucmV2c19pbmZvKXt2YXIgYz1tZXJnZS5yb290VG9MZWFmKGEucmV2X3RyZWUpLHU9YXJyYXlGaXJzdChjLGZ1bmN0aW9uKGUpe3JldHVybi0xIT09ZS5pZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkuaW5kZXhPZihvLl9yZXYuc3BsaXQoXCItXCIpWzFdKX0pO2lmKHUuaWRzLnNwbGljZSh1Lmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KS5pbmRleE9mKG8uX3Jldi5zcGxpdChcIi1cIilbMV0pKzEpLHUuaWRzLnJldmVyc2UoKSx0LnJldnMmJihvLl9yZXZpc2lvbnM9e3N0YXJ0OnUucG9zK3UuaWRzLmxlbmd0aC0xLGlkczp1Lmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KX0pLHQucmV2c19pbmZvKXt2YXIgbD11LnBvcyt1Lmlkcy5sZW5ndGg7by5fcmV2c19pbmZvPXUuaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbC0tLHtyZXY6bCtcIi1cIitlLmlkLHN0YXR1czplLm9wdHMuc3RhdHVzfX0pfX1pZih0LmxvY2FsX3NlcSYmKG8uX2xvY2FsX3NlcT1pLm1ldGFkYXRhLnNlcSksdC5hdHRhY2htZW50cyYmby5fYXR0YWNobWVudHMpe3ZhciBwPW8uX2F0dGFjaG1lbnRzLGY9T2JqZWN0LmtleXMocCkubGVuZ3RoO2lmKDA9PT1mKXJldHVybiBjYWxsKHIsbnVsbCxvKTtPYmplY3Qua2V5cyhwKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2N1c3RvbUFwaS5fZ2V0QXR0YWNobWVudChwW2VdLHtlbmNvZGU6ITAsY3R4Om59LGZ1bmN0aW9uKHQsaSl7by5fYXR0YWNobWVudHNbZV0uZGF0YT1pLC0tZnx8Y2FsbChyLG51bGwsbyl9KX0pfWVsc2V7aWYoby5fYXR0YWNobWVudHMpZm9yKHZhciBkIGluIG8uX2F0dGFjaG1lbnRzKW8uX2F0dGFjaG1lbnRzW2RdLnN0dWI9ITA7Y2FsbChyLG51bGwsbyl9fSk7aWYoXCJhbGxcIj09PXQub3Blbl9yZXZzKWN1c3RvbUFwaS5fZ2V0UmV2aXNpb25UcmVlKGUsZnVuY3Rpb24oZSx0KXtlJiYodD1bXSksbz1tZXJnZS5jb2xsZWN0TGVhdmVzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXZ9KSxpKCl9KTtlbHNle2lmKCFBcnJheS5pc0FycmF5KHQub3Blbl9yZXZzKSlyZXR1cm4gY2FsbChyLGVycm9ycy5lcnJvcihlcnJvcnMuVU5LTk9XTl9FUlJPUixcImZ1bmN0aW9uX2NsYXVzZVwiKSk7bz10Lm9wZW5fcmV2cztmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIG49b1thXTtpZihcInN0cmluZ1wiIT10eXBlb2Ygbnx8IS9eXFxkKy0vLnRlc3QobikpcmV0dXJuIGNhbGwocixlcnJvcnMuZXJyb3IoZXJyb3JzLkJBRF9SRVFVRVNULFwiSW52YWxpZCByZXYgZm9ybWF0XCIpKX1pKCl9fX0sYXBpLmdldEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIGFwaS50YXNrcXVldWUucmVhZHkoKT8ociBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYoaT1yLHI9e30pLHZvaWQgY3VzdG9tQXBpLl9nZXQoZSxyLGZ1bmN0aW9uKGUsbyl7cmV0dXJuIGU/Y2FsbChpLGUpOm8uZG9jLl9hdHRhY2htZW50cyYmby5kb2MuX2F0dGFjaG1lbnRzW3RdPyhyLmN0eD1vLmN0eCx2b2lkIGN1c3RvbUFwaS5fZ2V0QXR0YWNobWVudChvLmRvYy5fYXR0YWNobWVudHNbdF0scixpKSk6Y2FsbChpLGVycm9ycy5NSVNTSU5HX0RPQyl9KSk6dm9pZCBhcGkudGFza3F1ZXVlLmFkZFRhc2soXCJnZXRBdHRhY2htZW50XCIsYXJndW1lbnRzKX0sYXBpLmFsbERvY3M9ZnVuY3Rpb24oZSx0KXtpZighYXBpLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiB2b2lkIGFwaS50YXNrcXVldWUuYWRkVGFzayhcImFsbERvY3NcIixhcmd1bWVudHMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSksXCJrZXlzXCJpbiBlKXtpZihcInN0YXJ0a2V5XCJpbiBlKXJldHVybiB2b2lkIGNhbGwodCxlcnJvcnMuZXJyb3IoZXJyb3JzLlFVRVJZX1BBUlNFX0VSUk9SLFwiUXVlcnkgcGFyYW1ldGVyIGBzdGFydF9rZXlgIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbXVsdGktZ2V0XCIpKTtpZihcImVuZGtleVwiaW4gZSlyZXR1cm4gdm9pZCBjYWxsKHQsZXJyb3JzLmVycm9yKGVycm9ycy5RVUVSWV9QQVJTRV9FUlJPUixcIlF1ZXJ5IHBhcmFtZXRlciBgZW5kX2tleWAgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXRcIikpfXJldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLnNraXAmJihlLnNraXA9MCksY3VzdG9tQXBpLl9hbGxEb2NzKGUsdCl9LGFwaS5jaGFuZ2VzPWZ1bmN0aW9uKG9wdHMpe2lmKCFhcGkudGFza3F1ZXVlLnJlYWR5KCkpe3ZhciB0YXNrPWFwaS50YXNrcXVldWUuYWRkVGFzayhcImNoYW5nZXNcIixhcmd1bWVudHMpO3JldHVybntjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGFzay50YXNrP3Rhc2sudGFzay5jYW5jZWwoKTooUG91Y2guREVCVUcsdm9pZCh0YXNrLnBhcmFtZXRlcnNbMF0uYWJvcnRlZD0hMCkpfX19aWYob3B0cz11dGlscy5leHRlbmQoITAse30sb3B0cyksb3B0cy5wcm9jZXNzQ2hhbmdlPXByb2Nlc3NDaGFuZ2Usb3B0cy5zaW5jZXx8KG9wdHMuc2luY2U9MCksXCJsYXRlc3RcIj09PW9wdHMuc2luY2Upe3ZhciBjaGFuZ2VzO3JldHVybiBhcGkuaW5mbyhmdW5jdGlvbihlLHQpe29wdHMuYWJvcnRlZHx8KG9wdHMuc2luY2U9dC51cGRhdGVfc2VxLTEsYXBpLmNoYW5nZXMob3B0cykpfSkse2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiBjaGFuZ2VzP2NoYW5nZXMuY2FuY2VsKCk6KFBvdWNoLkRFQlVHLHZvaWQob3B0cy5hYm9ydGVkPSEwKSl9fX1pZihvcHRzLmZpbHRlciYmXCJzdHJpbmdcIj09dHlwZW9mIG9wdHMuZmlsdGVyKXtpZihcIl92aWV3XCI9PT1vcHRzLmZpbHRlcilpZihvcHRzLnZpZXcmJlwic3RyaW5nXCI9PXR5cGVvZiBvcHRzLnZpZXcpe3ZhciB2aWV3TmFtZT1vcHRzLnZpZXcuc3BsaXQoXCIvXCIpO2FwaS5nZXQoXCJfZGVzaWduL1wiK3ZpZXdOYW1lWzBdLGZ1bmN0aW9uKGVycixkZG9jKXtpZihkZG9jJiZkZG9jLnZpZXdzJiZkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXSl7dmFyIGZpbHRlcj1ldmFsKFwiKGZ1bmN0aW9uICgpIHsgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7ICAgIHZhciBlbWl0dGVkID0gZmFsc2U7ICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGEsIGIpIHsgICAgICBlbWl0dGVkID0gdHJ1ZTsgICAgfTsgICAgdmFyIHZpZXcgPSBcIitkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXS5tYXArXCI7ICAgIHZpZXcoZG9jKTsgICAgaWYgKGVtaXR0ZWQpIHsgICAgICByZXR1cm4gdHJ1ZTsgICAgfSAgfX0pKClcIik7b3B0cy5hYm9ydGVkfHwob3B0cy5maWx0ZXI9ZmlsdGVyLGFwaS5jaGFuZ2VzKG9wdHMpKX1lbHNle3ZhciBtc2c9ZGRvYy52aWV3cz9cIm1pc3NpbmcganNvbiBrZXk6IFwiK3ZpZXdOYW1lWzFdOlwibWlzc2luZyBqc29uIGtleTogdmlld3NcIjtlcnI9ZXJyfHxlcnJvcnMuZXJyb3IoZXJyb3JzLk1JU1NJTkdfRE9DLG1zZyksdXRpbHMuY2FsbChvcHRzLmNvbXBsZXRlLGVycil9fSl9ZWxzZXt2YXIgZXJyPWVycm9ycy5lcnJvcihlcnJvcnMuQkFEX1JFUVVFU1QsXCJgdmlld2AgZmlsdGVyIHBhcmFtZXRlciBpcyBub3QgcHJvdmlkZWQuXCIpO3V0aWxzLmNhbGwob3B0cy5jb21wbGV0ZSxlcnIpfWVsc2V7dmFyIGZpbHRlck5hbWU9b3B0cy5maWx0ZXIuc3BsaXQoXCIvXCIpO2FwaS5nZXQoXCJfZGVzaWduL1wiK2ZpbHRlck5hbWVbMF0sZnVuY3Rpb24oZXJyLGRkb2Mpe2lmKGRkb2MmJmRkb2MuZmlsdGVycyYmZGRvYy5maWx0ZXJzW2ZpbHRlck5hbWVbMV1dKXt2YXIgZmlsdGVyPWV2YWwoXCIoZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIrZGRvYy5maWx0ZXJzW2ZpbHRlck5hbWVbMV1dK1wiIH0pKClcIik7b3B0cy5hYm9ydGVkfHwob3B0cy5maWx0ZXI9ZmlsdGVyLGFwaS5jaGFuZ2VzKG9wdHMpKX1lbHNle3ZhciBtc2c9ZGRvYyYmZGRvYy5maWx0ZXJzP1wibWlzc2luZyBqc29uIGtleTogXCIrZmlsdGVyTmFtZVsxXTpcIm1pc3NpbmcganNvbiBrZXk6IGZpbHRlcnNcIjtlcnI9ZXJyfHxlcnJvcnMuZXJyb3IoZXJyb3JzLk1JU1NJTkdfRE9DLG1zZyksdXRpbHMuY2FsbChvcHRzLmNvbXBsZXRlLGVycil9fSl9cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe1BvdWNoLkRFQlVHJiZjb25zb2xlLmxvZyhcIkNhbmNlbCBDaGFuZ2VzIEZlZWRcIiksb3B0cy5hYm9ydGVkPSEwfX19cmV0dXJuXCJkZXNjZW5kaW5nXCJpbiBvcHRzfHwob3B0cy5kZXNjZW5kaW5nPSExKSxvcHRzLmxpbWl0PTA9PT1vcHRzLmxpbWl0PzE6b3B0cy5saW1pdCxjdXN0b21BcGkuX2NoYW5nZXMob3B0cyl9LGFwaS5jbG9zZT1mdW5jdGlvbihlKXtyZXR1cm4gYXBpLnRhc2txdWV1ZS5yZWFkeSgpP2N1c3RvbUFwaS5fY2xvc2UoZSk6dm9pZCBhcGkudGFza3F1ZXVlLmFkZFRhc2soXCJjbG9zZVwiLGFyZ3VtZW50cyl9LGFwaS5pbmZvPWZ1bmN0aW9uKGUpe3JldHVybiBhcGkudGFza3F1ZXVlLnJlYWR5KCk/Y3VzdG9tQXBpLl9pbmZvKGUpOnZvaWQgYXBpLnRhc2txdWV1ZS5hZGRUYXNrKFwiaW5mb1wiLGFyZ3VtZW50cyl9LGFwaS5pZD1mdW5jdGlvbigpe3JldHVybiBjdXN0b21BcGkuX2lkKCl9LGFwaS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgY3VzdG9tQXBpLl90eXBlP2N1c3RvbUFwaS5fdHlwZSgpOm9wdHMuYWRhcHRlcn0sYXBpLmJ1bGtEb2NzPWZ1bmN0aW9uKGUsdCxyKXtpZighYXBpLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiB2b2lkIGFwaS50YXNrcXVldWUuYWRkVGFzayhcImJ1bGtEb2NzXCIsYXJndW1lbnRzKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLHQ9dD91dGlscy5leHRlbmQoITAse30sdCk6e30sIWV8fCFlLmRvY3N8fGUuZG9jcy5sZW5ndGg8MSlyZXR1cm4gY2FsbChyLGVycm9ycy5NSVNTSU5HX0JVTEtfRE9DUyk7aWYoIUFycmF5LmlzQXJyYXkoZS5kb2NzKSlyZXR1cm4gY2FsbChyLGVycm9ycy5RVUVSWV9QQVJTRV9FUlJPUik7Zm9yKHZhciBpPTA7aTxlLmRvY3MubGVuZ3RoOysraSlpZihcIm9iamVjdFwiIT10eXBlb2YgZS5kb2NzW2ldfHxBcnJheS5pc0FycmF5KGUuZG9jc1tpXSkpcmV0dXJuIGNhbGwocixlcnJvcnMuTk9UX0FOX09CSkVDVCk7cmV0dXJuIGU9dXRpbHMuZXh0ZW5kKCEwLHt9LGUpLFwibmV3X2VkaXRzXCJpbiB0fHwodC5uZXdfZWRpdHM9ITApLGN1c3RvbUFwaS5fYnVsa0RvY3MoZSx0LGF1dG9Db21wYWN0KHIpKX07dmFyIHRhc2txdWV1ZT17fTt0YXNrcXVldWUucmVhZHk9ITEsdGFza3F1ZXVlLnF1ZXVlPVtdLGFwaS50YXNrcXVldWU9e30sYXBpLnRhc2txdWV1ZS5leGVjdXRlPWZ1bmN0aW9uKGUpe3Rhc2txdWV1ZS5yZWFkeSYmdGFza3F1ZXVlLnF1ZXVlLmZvckVhY2goZnVuY3Rpb24odCl7dC50YXNrPWVbdC5uYW1lXS5hcHBseShudWxsLHQucGFyYW1ldGVycyl9KX0sYXBpLnRhc2txdWV1ZS5yZWFkeT1mdW5jdGlvbigpe3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90YXNrcXVldWUucmVhZHk6dm9pZCh0YXNrcXVldWUucmVhZHk9YXJndW1lbnRzWzBdKX0sYXBpLnRhc2txdWV1ZS5hZGRUYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e25hbWU6ZSxwYXJhbWV0ZXJzOnR9O3JldHVybiB0YXNrcXVldWUucXVldWUucHVzaChyKSxyfSxhcGkucmVwbGljYXRlPXt9LGFwaS5yZXBsaWNhdGUuZnJvbT1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxQb3VjaC5yZXBsaWNhdGUoZSxjdXN0b21BcGksdCxyKX0sYXBpLnJlcGxpY2F0ZS50bz1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxQb3VjaC5yZXBsaWNhdGUoY3VzdG9tQXBpLGUsdCxyKX07Zm9yKHZhciBqIGluIGFwaSljdXN0b21BcGkuaGFzT3duUHJvcGVydHkoail8fChjdXN0b21BcGlbal09YXBpW2pdKTtyZXR1cm4gb3B0cy5za2lwU2V0dXAmJihhcGkudGFza3F1ZXVlLnJlYWR5KCEwKSxhcGkudGFza3F1ZXVlLmV4ZWN1dGUoYXBpKSksdXRpbHMuaXNDb3Jkb3ZhKCkmJmNvcmRvdmEuZmlyZVdpbmRvd0V2ZW50KG9wdHMubmFtZStcIl9wb3VjaFwiLHt9KSxjdXN0b21BcGl9fTsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBwYXJzZVVyaShlKXtmb3IodmFyIHQ9cGFyc2VVcmkub3B0aW9ucyxyPXQucGFyc2VyW3Quc3RyaWN0TW9kZT9cInN0cmljdFwiOlwibG9vc2VcIl0uZXhlYyhlKSxuPXt9LHU9MTQ7dS0tOyluW3Qua2V5W3VdXT1yW3VdfHxcIlwiO3JldHVybiBuW3QucS5uYW1lXT17fSxuW3Qua2V5WzEyXV0ucmVwbGFjZSh0LnEucGFyc2VyLGZ1bmN0aW9uKGUscix1KXtyJiYoblt0LnEubmFtZV1bcl09dSl9KSxufWZ1bmN0aW9uIGVuY29kZURvY0lkKGUpe3JldHVybi9eXyhkZXNpZ258bG9jYWwpLy50ZXN0KGUpP2U6ZW5jb2RlVVJJQ29tcG9uZW50KGUpfWZ1bmN0aW9uIGdldEhvc3QoZSx0KXtpZigvaHR0cChzPyk6Ly50ZXN0KGUpKXt2YXIgcj1wYXJzZVVyaShlKTtyLnJlbW90ZT0hMCwoci51c2VyfHxyLnBhc3N3b3JkKSYmKHIuYXV0aD17dXNlcm5hbWU6ci51c2VyLHBhc3N3b3JkOnIucGFzc3dvcmR9KTt2YXIgbj1yLnBhdGgucmVwbGFjZSgvKF5cXC98XFwvJCkvZyxcIlwiKS5zcGxpdChcIi9cIik7aWYoci5kYj1uLnBvcCgpLHIucGF0aD1uLmpvaW4oXCIvXCIpLHQ9dHx8e30sci5oZWFkZXJzPXQuaGVhZGVyc3x8e30sdC5hdXRofHxyLmF1dGgpe3ZhciB1PXQuYXV0aHx8ci5hdXRoLG89dXRpbHMuYnRvYSh1LnVzZXJuYW1lK1wiOlwiK3UucGFzc3dvcmQpO3IuaGVhZGVycy5BdXRob3JpemF0aW9uPVwiQmFzaWMgXCIrb31yZXR1cm4gdC5oZWFkZXJzJiYoci5oZWFkZXJzPXQuaGVhZGVycykscn1yZXR1cm57aG9zdDpcIlwiLHBhdGg6XCIvXCIsZGI6ZSxhdXRoOiExfX1mdW5jdGlvbiBnZW5EQlVybChlLHQpe2lmKGUucmVtb3RlKXt2YXIgcj1lLnBhdGg/XCIvXCI6XCJcIjtyZXR1cm4gZS5wcm90b2NvbCtcIjovL1wiK2UuaG9zdCtcIjpcIitlLnBvcnQrXCIvXCIrZS5wYXRoK3IrZS5kYitcIi9cIit0fXJldHVyblwiL1wiK2UuZGIrXCIvXCIrdH1mdW5jdGlvbiBnZW5VcmwoZSx0KXtpZihlLnJlbW90ZSl7dmFyIHI9ZS5wYXRoP1wiL1wiOlwiXCI7cmV0dXJuIGUucHJvdG9jb2wrXCI6Ly9cIitlLmhvc3QrXCI6XCIrZS5wb3J0K1wiL1wiK2UucGF0aCtyK3R9cmV0dXJuXCIvXCIrdH1mdW5jdGlvbiBIdHRwUG91Y2goZSx0KXtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIHV0aWxzLmFqYXgodXRpbHMuZXh0ZW5kKHt9LHMsZSksdCl9dmFyIG49Z2V0SG9zdChlLm5hbWUsZSksdT1nZW5EQlVybChuLFwiXCIpLG89e30scz1lLmFqYXh8fHt9LGE9e2xpc3Q6W10sZ2V0OmZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXtjb3VudDoxMH0pO3ZhciB1PWZ1bmN0aW9uKGUscil7IWUmJlwidXVpZHNcImluIHI/KGEubGlzdD1hLmxpc3QuY29uY2F0KHIudXVpZHMpLHV0aWxzLmNhbGwodCxudWxsLFwiT0tcIikpOnV0aWxzLmNhbGwodCxlfHxlcnJvcnMuVU5LTk9XTl9FUlJPUil9LG89XCI/Y291bnQ9XCIrZS5jb3VudDtyKHtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJHRVRcIix1cmw6Z2VuVXJsKG4sXCJfdXVpZHNcIikrb30sdSl9fSxpPWZ1bmN0aW9uKCl7cih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiUFVUXCIsdXJsOnV9LGZ1bmN0aW9uKGUpe2UmJjQwMT09PWUuc3RhdHVzP3Ioe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkhFQURcIix1cmw6dX0sZnVuY3Rpb24oZSl7ZT91dGlscy5jYWxsKHQsZSk6dXRpbHMuY2FsbCh0LG51bGwsbyl9KTplJiY0MTIhPT1lLnN0YXR1cz91dGlscy5jYWxsKHQsZXJyb3JzLlVOS05PV05fRVJST1IpOnV0aWxzLmNhbGwodCxudWxsLG8pfSl9O3JldHVybiBlLnNraXBTZXR1cHx8cih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiR0VUXCIsdXJsOnV9LGZ1bmN0aW9uKGUpe2U/NDA0PT09ZS5zdGF0dXM/aSgpOnV0aWxzLmNhbGwodCxlKTp1dGlscy5jYWxsKHQsbnVsbCxvKX0pLG8udHlwZT1mdW5jdGlvbigpe3JldHVyblwiaHR0cFwifSxvLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIGdlbkRCVXJsKG4sXCJcIil9LG8ucmVxdWVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBvLnRhc2txdWV1ZS5yZWFkeSgpPyhlLmhlYWRlcnM9bi5oZWFkZXJzLGUudXJsPWdlbkRCVXJsKG4sZS51cmwpLHZvaWQgcihlLHQpKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJyZXF1ZXN0XCIsYXJndW1lbnRzKX0sby5jb21wYWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSksdm9pZCByKHtoZWFkZXJzOm4uaGVhZGVycyx1cmw6Z2VuREJVcmwobixcIl9jb21wYWN0XCIpLG1ldGhvZDpcIlBPU1RcIn0sZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7by5pbmZvKGZ1bmN0aW9uKG4sdSl7dS5jb21wYWN0X3J1bm5pbmc/c2V0VGltZW91dChyLGUuaW50ZXJ2YWx8fDIwMCk6dXRpbHMuY2FsbCh0LG51bGwpfSl9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmcigpfSkpOnZvaWQgby50YXNrcXVldWUuYWRkVGFzayhcImNvbXBhY3RcIixhcmd1bWVudHMpfSxvLmluZm89ZnVuY3Rpb24oZSl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/dm9pZCByKHtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJHRVRcIix1cmw6Z2VuREJVcmwobixcIlwiKX0sZSk6dm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwiaW5mb1wiLGFyZ3VtZW50cyl9LG8uZ2V0PWZ1bmN0aW9uKGUsdCx1KXtpZighby50YXNrcXVldWUucmVhZHkoKSlyZXR1cm4gdm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwiZ2V0XCIsYXJndW1lbnRzKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodT10LHQ9e30pLHZvaWQgMD09PXQuYXV0b19lbmNvZGUmJih0LmF1dG9fZW5jb2RlPSEwKTt2YXIgcz1bXTt0LnJldnMmJnMucHVzaChcInJldnM9dHJ1ZVwiKSx0LnJldnNfaW5mbyYmcy5wdXNoKFwicmV2c19pbmZvPXRydWVcIiksdC5sb2NhbF9zZXEmJnMucHVzaChcImxvY2FsX3NlcT10cnVlXCIpLHQub3Blbl9yZXZzJiYoXCJhbGxcIiE9PXQub3Blbl9yZXZzJiYodC5vcGVuX3JldnM9SlNPTi5zdHJpbmdpZnkodC5vcGVuX3JldnMpKSxzLnB1c2goXCJvcGVuX3JldnM9XCIrdC5vcGVuX3JldnMpKSx0LmF0dGFjaG1lbnRzJiZzLnB1c2goXCJhdHRhY2htZW50cz10cnVlXCIpLHQucmV2JiZzLnB1c2goXCJyZXY9XCIrdC5yZXYpLHQuY29uZmxpY3RzJiZzLnB1c2goXCJjb25mbGljdHM9XCIrdC5jb25mbGljdHMpLHM9cy5qb2luKFwiJlwiKSxzPVwiXCI9PT1zP1wiXCI6XCI/XCIrcyx0LmF1dG9fZW5jb2RlJiYoZT1lbmNvZGVEb2NJZChlKSk7dmFyIGE9e2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkdFVFwiLHVybDpnZW5EQlVybChuLGUrcyl9LGk9ZS5zcGxpdChcIi9cIik7KGkubGVuZ3RoPjEmJlwiX2Rlc2lnblwiIT09aVswXSYmXCJfbG9jYWxcIiE9PWlbMF18fGkubGVuZ3RoPjImJlwiX2Rlc2lnblwiPT09aVswXSYmXCJfbG9jYWxcIiE9PWlbMF0pJiYoYS5iaW5hcnk9ITApLHIoYSxmdW5jdGlvbihlLHQscil7cmV0dXJuIGU/dXRpbHMuY2FsbCh1LGUpOnZvaWQgdXRpbHMuY2FsbCh1LG51bGwsdCxyKX0pfSxvLnJlbW92ZT1mdW5jdGlvbihlLHQsdSl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih1PXQsdD17fSksdm9pZCByKHtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJERUxFVEVcIix1cmw6Z2VuREJVcmwobixlbmNvZGVEb2NJZChlLl9pZCkpK1wiP3Jldj1cIitlLl9yZXZ9LHUpKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJyZW1vdmVcIixhcmd1bWVudHMpfSxvLmdldEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LHIsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG49cixyPXt9KSx2b2lkIDA9PT1yLmF1dG9fZW5jb2RlJiYoci5hdXRvX2VuY29kZT0hMCksci5hdXRvX2VuY29kZSYmKGU9ZW5jb2RlRG9jSWQoZSkpLHIuYXV0b19lbmNvZGU9ITEsby5nZXQoZStcIi9cIit0LHIsbil9LG8ucmVtb3ZlQXR0YWNobWVudD1mdW5jdGlvbihlLHQsdSxzKXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT92b2lkIHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkRFTEVURVwiLHVybDpnZW5EQlVybChuLGVuY29kZURvY0lkKGUpK1wiL1wiK3QpK1wiP3Jldj1cIit1fSxzKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJyZW1vdmVBdHRhY2htZW50XCIsYXJndW1lbnRzKX0sby5wdXRBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCx1LHMsYSxpKXtpZighby50YXNrcXVldWUucmVhZHkoKSlyZXR1cm4gdm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwicHV0QXR0YWNobWVudFwiLGFyZ3VtZW50cyk7XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKGk9YSxhPXMscz11LHU9bnVsbCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEmJihhPXMscz11LHU9bnVsbCk7dmFyIGw9ZW5jb2RlRG9jSWQoZSkrXCIvXCIrdCxkPWdlbkRCVXJsKG4sbCk7dSYmKGQrPVwiP3Jldj1cIit1KTt2YXIgYz17aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiUFVUXCIsdXJsOmQscHJvY2Vzc0RhdGE6ITEsYm9keTpzLHRpbWVvdXQ6NmU0fTtjLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09YSxyKGMsaSl9LG8ucHV0PWZ1bmN0aW9uKGUsdCx1KXtpZighby50YXNrcXVldWUucmVhZHkoKSlyZXR1cm4gdm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwicHV0XCIsYXJndW1lbnRzKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodT10LHQ9e30pLFwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybiB1dGlscy5jYWxsKHUsZXJyb3JzLk5PVF9BTl9PQkpFQ1QpO2lmKCF1dGlscy5pc1ZhbGlkSWQoZS5faWQpKXJldHVybiB1dGlscy5jYWxsKHUsZXJyb3JzLk1JU1NJTkdfSUQpO3ZhciBzPVtdO3QmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lm5ld19lZGl0cyYmcy5wdXNoKFwibmV3X2VkaXRzPVwiK3QubmV3X2VkaXRzKSxzPXMuam9pbihcIiZcIiksXCJcIiE9PXMmJihzPVwiP1wiK3MpLHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIlBVVFwiLHVybDpnZW5EQlVybChuLGVuY29kZURvY0lkKGUuX2lkKSkrcyxib2R5OmV9LHUpfSxvLnBvc3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvLnRhc2txdWV1ZS5yZWFkeSgpPyhcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLFwib2JqZWN0XCIhPXR5cGVvZiBlP3V0aWxzLmNhbGwocixlcnJvcnMuTk9UX0FOX09CSkVDVCk6dm9pZChcIl9pZFwiaW4gZT9vLnB1dChlLHQscik6YS5saXN0Lmxlbmd0aD4wPyhlLl9pZD1hLmxpc3QucG9wKCksby5wdXQoZSx0LHIpKTphLmdldChmdW5jdGlvbihuKXtyZXR1cm4gbj91dGlscy5jYWxsKHIsZXJyb3JzLlVOS05PV05fRVJST1IpOihlLl9pZD1hLmxpc3QucG9wKCksdm9pZCBvLnB1dChlLHQscikpfSkpKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJwb3N0XCIsYXJndW1lbnRzKX0sby5idWxrRG9jcz1mdW5jdGlvbihlLHQsdSl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih1PXQsdD17fSksdHx8KHQ9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lm5ld19lZGl0cyYmKGUubmV3X2VkaXRzPXQubmV3X2VkaXRzKSx2b2lkIHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIlBPU1RcIix1cmw6Z2VuREJVcmwobixcIl9idWxrX2RvY3NcIiksYm9keTplfSx1KSk6dm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwiYnVsa0RvY3NcIixhcmd1bWVudHMpfSxvLmFsbERvY3M9ZnVuY3Rpb24oZSx0KXtpZighby50YXNrcXVldWUucmVhZHkoKSlyZXR1cm4gdm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwiYWxsRG9jc1wiLGFyZ3VtZW50cyk7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KTt2YXIgdSxzPVtdLGE9XCJHRVRcIjtlLmNvbmZsaWN0cyYmcy5wdXNoKFwiY29uZmxpY3RzPXRydWVcIiksZS5kZXNjZW5kaW5nJiZzLnB1c2goXCJkZXNjZW5kaW5nPXRydWVcIiksZS5pbmNsdWRlX2RvY3MmJnMucHVzaChcImluY2x1ZGVfZG9jcz10cnVlXCIpLGUuc3RhcnRrZXkmJnMucHVzaChcInN0YXJ0a2V5PVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlLnN0YXJ0a2V5KSkpLGUuZW5ka2V5JiZzLnB1c2goXCJlbmRrZXk9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGUuZW5ka2V5KSkpLGUubGltaXQmJnMucHVzaChcImxpbWl0PVwiK2UubGltaXQpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnNraXAmJnMucHVzaChcInNraXA9XCIrZS5za2lwKSxzPXMuam9pbihcIiZcIiksXCJcIiE9PXMmJihzPVwiP1wiK3MpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmtleXMmJihhPVwiUE9TVFwiLHU9SlNPTi5zdHJpbmdpZnkoe2tleXM6ZS5rZXlzfSkpLHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDphLHVybDpnZW5EQlVybChuLFwiX2FsbF9kb2NzXCIrcyksYm9keTp1fSx0KX0sby5jaGFuZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PTI1O2lmKCFvLnRhc2txdWV1ZS5yZWFkeSgpKXt2YXIgdT1vLnRhc2txdWV1ZS5hZGRUYXNrKFwiY2hhbmdlc1wiLGFyZ3VtZW50cyk7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiB1LnRhc2s/dS50YXNrLmNhbmNlbCgpOnZvaWQodS5wYXJhbWV0ZXJzWzBdLmFib3J0ZWQ9ITApfX19aWYoXCJsYXRlc3RcIj09PWUuc2luY2Upe3ZhciBzO3JldHVybiBvLmluZm8oZnVuY3Rpb24odCxyKXtlLmFib3J0ZWR8fChlLnNpbmNlPXIudXBkYXRlX3NlcSxzPW8uY2hhbmdlcyhlKSl9KSx7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHM/cy5jYW5jZWwoKTp2b2lkKGUuYWJvcnRlZD0hMCl9fX12YXIgYT17fSxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmxpbWl0P2UubGltaXQ6ITE7MD09PWkmJihpPTEpO3ZhciBsPWk7aWYoZS5zdHlsZSYmKGEuc3R5bGU9ZS5zdHlsZSksKGUuaW5jbHVkZV9kb2NzfHxlLmZpbHRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maWx0ZXIpJiYoYS5pbmNsdWRlX2RvY3M9ITApLGUuY29udGludW91cyYmKGEuZmVlZD1cImxvbmdwb2xsXCIpLGUuY29uZmxpY3RzJiYoYS5jb25mbGljdHM9ITApLGUuZGVzY2VuZGluZyYmKGEuZGVzY2VuZGluZz0hMCksZS5maWx0ZXImJlwic3RyaW5nXCI9PXR5cGVvZiBlLmZpbHRlciYmKGEuZmlsdGVyPWUuZmlsdGVyLFwiX3ZpZXdcIj09PWUuZmlsdGVyJiZlLnZpZXcmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnZpZXcmJihhLnZpZXc9ZS52aWV3KSksZS5xdWVyeV9wYXJhbXMmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnF1ZXJ5X3BhcmFtcylmb3IodmFyIGQgaW4gZS5xdWVyeV9wYXJhbXMpZS5xdWVyeV9wYXJhbXMuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWUucXVlcnlfcGFyYW1zW2RdKTt2YXIgYyxmLHAsaCx2PWZ1bmN0aW9uKHUsbyl7YS5zaW5jZT11LGUuY29udGludW91c3x8aHx8KGg9cCksYS5saW1pdD0haXx8bD50P3Q6bDt2YXIgcz1cIj9cIitPYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUrXCI9XCIrYVtlXX0pLmpvaW4oXCImXCIpLGQ9e2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkdFVFwiLHVybDpnZW5EQlVybChuLFwiX2NoYW5nZXNcIitzKSx0aW1lb3V0Om51bGx9O2Y9dSxlLmFib3J0ZWR8fChjPXIoZCxvKSl9LF89MTAseT0wLG09e3Jlc3VsdHM6W119LGc9ZnVuY3Rpb24ocixuKXtpZihuJiZuLnJlc3VsdHMpe20ubGFzdF9zZXE9bi5sYXN0X3NlcTt2YXIgdT17fTt1LnF1ZXJ5PWUucXVlcnlfcGFyYW1zLG4ucmVzdWx0cz1uLnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uKHQpe2wtLTt2YXIgcj11dGlscy5maWx0ZXJDaGFuZ2UoZSkodCk7cmV0dXJuIHImJihtLnJlc3VsdHMucHVzaCh0KSx1dGlscy5jYWxsKGUub25DaGFuZ2UsdCkpLHJ9KX1lbHNlIHImJihlLmFib3J0ZWQ9ITAsdXRpbHMuY2FsbChlLmNvbXBsZXRlLHIsbnVsbCkpO24mJm4ubGFzdF9zZXEmJihmPW4ubGFzdF9zZXEpO3ZhciBvPW4mJm4ucmVzdWx0cy5sZW5ndGh8fDA7aC09dDt2YXIgcz1pJiYwPj1sfHxuJiYhbyYmMD49aHx8byYmbi5sYXN0X3NlcT09PXB8fGUuZGVzY2VuZGluZyYmMCE9PWY7aWYoZS5jb250aW51b3VzfHwhcyl7cj95Kz0xOnk9MDt2YXIgYT0xPDx5LGQ9XyphLGM9ZS5tYXhpbXVtV2FpdHx8M2U0O2Q+YyYmdXRpbHMuY2FsbChlLmNvbXBsZXRlLHJ8fGVycm9ycy5VTktOT1dOX0VSUk9SLG51bGwpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2KGYsZyl9LGQpfWVsc2UgdXRpbHMuY2FsbChlLmNvbXBsZXRlLG51bGwsbSl9O3JldHVybiBlLmNvbnRpbnVvdXM/dihlLnNpbmNlfHwwLGcpOm8uaW5mbyhmdW5jdGlvbih0LHIpe3JldHVybiB0P3V0aWxzLmNhbGwoZS5jb21wbGV0ZSx0KToocD1yLnVwZGF0ZV9zZXEsdm9pZCB2KGUuc2luY2V8fDAsZykpfSkse2NhbmNlbDpmdW5jdGlvbigpe2UuYWJvcnRlZD0hMCxjLmFib3J0KCl9fX0sby5yZXZzRGlmZj1mdW5jdGlvbihlLHQsdSl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih1PXQsdD17fSksdm9pZCByKHtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJQT1NUXCIsdXJsOmdlbkRCVXJsKG4sXCJfcmV2c19kaWZmXCIpLGJvZHk6ZX0sZnVuY3Rpb24oZSx0KXt1dGlscy5jYWxsKHUsZSx0KX0pKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJyZXZzRGlmZlwiLGFyZ3VtZW50cyl9LG8uY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/dm9pZCB1dGlscy5jYWxsKGUsbnVsbCk6dm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwiY2xvc2VcIixhcmd1bWVudHMpfSxvLnJlcGxpY2F0ZU9uU2VydmVyPWZ1bmN0aW9uKGUsdSxzKXtpZighby50YXNrcXVldWUucmVhZHkoKSlyZXR1cm4gby50YXNrcXVldWUuYWRkVGFzayhcInJlcGxpY2F0ZU9uU2VydmVyXCIsYXJndW1lbnRzKSxzO3ZhciBhPWdldEhvc3QoZS5pZCgpKSxpPXtzb3VyY2U6bi5kYix0YXJnZXQ6YS5wcm90b2NvbD09PW4ucHJvdG9jb2wmJmEuYXV0aG9yaXR5PT09bi5hdXRob3JpdHk/YS5kYjphLnNvdXJjZX07dS5jb250aW51b3VzJiYoaS5jb250aW51b3VzPSEwKSx1LmNyZWF0ZV90YXJnZXQmJihpLmNyZWF0ZV90YXJnZXQ9ITApLHUuZG9jX2lkcyYmKGkuZG9jX2lkcz11LmRvY19pZHMpLHUuZmlsdGVyJiZcInN0cmluZ1wiPT10eXBlb2YgdS5maWx0ZXImJihpLmZpbHRlcj11LmZpbHRlciksdS5xdWVyeV9wYXJhbXMmJihpLnF1ZXJ5X3BhcmFtcz11LnF1ZXJ5X3BhcmFtcyk7dmFyIGwsZD17fSxjPXtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJQT1NUXCIsdXJsOm4ucHJvdG9jb2wrXCI6Ly9cIituLmhvc3QrKDgwPT09bi5wb3J0P1wiXCI6XCI6XCIrbi5wb3J0KStcIi9fcmVwbGljYXRlXCIsYm9keTppfTtzLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsbGVkPSEwLGwmJiFkLm9rJiZsLmFib3J0KCksZC5fbG9jYWxfaWQmJihjLmJvZHk9e3JlcGxpY2F0aW9uX2lkOmQuX2xvY2FsX2lkfSksYy5ib2R5LmNhbmNlbD0hMCxyKGMsZnVuY3Rpb24oZSxyLG4pe3JldHVybiBlP3V0aWxzLmNhbGwodCxlKTp2b2lkIHV0aWxzLmNhbGwodS5jb21wbGV0ZSxudWxsLGQsbil9KX0scy5jYW5jZWxsZWR8fChsPXIoYyxmdW5jdGlvbihlLHIsbil7cmV0dXJuIGU/dXRpbHMuY2FsbCh0LGUpOihkLm9rPSEwLHIuX2xvY2FsX2lkJiYoZC5fbG9jYWxfaWQ9ci5fbG9jYWxfaWQpLHZvaWQgdXRpbHMuY2FsbCh1LmNvbXBsZXRlLG51bGwscixuKSl9KSl9LG99dmFyIHV0aWxzPXJlcXVpcmUoXCIuLi91dGlsc1wiKSxlcnJvcnM9cmVxdWlyZShcIi4uL2RlcHMvZXJyb3JzXCIpO3BhcnNlVXJpLm9wdGlvbnM9e3N0cmljdE1vZGU6ITEsa2V5OltcInNvdXJjZVwiLFwicHJvdG9jb2xcIixcImF1dGhvcml0eVwiLFwidXNlckluZm9cIixcInVzZXJcIixcInBhc3N3b3JkXCIsXCJob3N0XCIsXCJwb3J0XCIsXCJyZWxhdGl2ZVwiLFwicGF0aFwiLFwiZGlyZWN0b3J5XCIsXCJmaWxlXCIsXCJxdWVyeVwiLFwiYW5jaG9yXCJdLHE6e25hbWU6XCJxdWVyeUtleVwiLHBhcnNlcjovKD86XnwmKShbXiY9XSopPT8oW14mXSopL2d9LHBhcnNlcjp7c3RyaWN0Oi9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sbG9vc2U6L14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvfX0sSHR0cFBvdWNoLmRlc3Ryb3k9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWdldEhvc3QoZSx0KTt0PXR8fHt9LFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksdC5oZWFkZXJzPW4uaGVhZGVycyx0Lm1ldGhvZD1cIkRFTEVURVwiLHQudXJsPWdlbkRCVXJsKG4sXCJcIiksdXRpbHMuYWpheCh0LHIpfSxIdHRwUG91Y2gudmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbW9kdWxlLmV4cG9ydHM9SHR0cFBvdWNoOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGlkYkVycm9yKGUpe3JldHVybiBmdW5jdGlvbih0KXt1dGlscy5jYWxsKGUsZXJyb3JzLmVycm9yKGVycm9ycy5JREJfRVJST1IsdC50YXJnZXQsdC50eXBlKSl9fWZ1bmN0aW9uIElkYlBvdWNoKGUsdCl7ZnVuY3Rpb24gbihlKXtlLmNyZWF0ZU9iamVjdFN0b3JlKGkse2tleVBhdGg6XCJpZFwifSkuY3JlYXRlSW5kZXgoXCJzZXFcIixcInNlcVwiLHt1bmlxdWU6ITB9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKGMse2F1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChcIl9kb2NfaWRfcmV2XCIsXCJfZG9jX2lkX3JldlwiLHt1bmlxdWU6ITB9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKHMse2tleVBhdGg6XCJkaWdlc3RcIn0pLGUuY3JlYXRlT2JqZWN0U3RvcmUodSx7a2V5UGF0aDpcImlkXCIsYXV0b0luY3JlbWVudDohMX0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoZCl9ZnVuY3Rpb24gcihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsbj1uZXcgQXJyYXlCdWZmZXIodCkscj1uZXcgVWludDhBcnJheShuKSxvPTA7dD5vO28rKylyW29dPWUuY2hhckNvZGVBdChvKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGUuX2J1bGtfc2VxLXQuX2J1bGtfc2VxfXZhciBhPTEsaT1cImRvY3VtZW50LXN0b3JlXCIsYz1cImJ5LXNlcXVlbmNlXCIscz1cImF0dGFjaC1zdG9yZVwiLHU9XCJtZXRhLXN0b3JlXCIsZD1cImRldGVjdC1ibG9iLXN1cHBvcnRcIixsPWUubmFtZSxmPXdpbmRvdy5pbmRleGVkREIub3BlbihsLGEpO1wib3BlblJlcUxpc3RcImluIElkYlBvdWNofHwoSWRiUG91Y2gub3BlblJlcUxpc3Q9e30pLElkYlBvdWNoLm9wZW5SZXFMaXN0W2xdPWY7dmFyIHY9bnVsbCxfPW51bGwsZz17fSxoPW51bGw7cmV0dXJuIGYub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnRhcmdldC5yZXN1bHQscj1lLm9sZFZlcnNpb247ciE9PWUubmV3VmVyc2lvbjspMD09PXImJm4odCkscisrfSxmLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtoPWUudGFyZ2V0LnJlc3VsdCxoLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbigpe2guY2xvc2UoKX07dmFyIG49aC50cmFuc2FjdGlvbihbdSxkXSxcInJlYWR3cml0ZVwiKSxyPW4ub2JqZWN0U3RvcmUodSkuZ2V0KHUpO3Iub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciByPWUudGFyZ2V0LnJlc3VsdHx8e2lkOnV9O2wrXCJfaWRcImluIHI/Xz1yW2wrXCJfaWRcIl06KF89dXRpbHMudXVpZCgpLHJbbCtcIl9pZFwiXT1fLG4ub2JqZWN0U3RvcmUodSkucHV0KHIpKTt0cnl7bi5vYmplY3RTdG9yZShkKS5wdXQodXRpbHMuY3JlYXRlQmxvYigpLFwia2V5XCIpLHY9ITB9Y2F0Y2gobyl7dj0hMX1maW5hbGx5e3V0aWxzLmNhbGwodCxudWxsLGcpfX19LGYub25lcnJvcj1pZGJFcnJvcih0KSxnLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cImlkYlwifSxnLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIF99LGcuX2J1bGtEb2NzPWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBhKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDt0LnVwZGF0ZVNlcT0odC51cGRhdGVTZXF8fDApK0Qsay5vYmplY3RTdG9yZSh1KS5wdXQodCl9ZnVuY3Rpb24gZCgpe2lmKCFqLmxlbmd0aClyZXR1cm4gdm9pZChrLm9iamVjdFN0b3JlKHUpLmdldCh1KS5vbnN1Y2Nlc3M9YSk7dmFyIGU9ai5zaGlmdCgpLHQ9ay5vYmplY3RTdG9yZShpKS5nZXQoZS5tZXRhZGF0YS5pZCk7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIG49dC50YXJnZXQucmVzdWx0O24/cChuLGUpOm0oZSl9fWZ1bmN0aW9uIGYoKXt2YXIgZT1bXTtSLnNvcnQobyksUi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKGRlbGV0ZSB0Ll9idWxrX3NlcSx0LmVycm9yKXJldHVybiB2b2lkIGUucHVzaCh0KTt2YXIgbj10Lm1ldGFkYXRhLHI9bWVyZ2Uud2lubmluZ1JldihuKTtlLnB1c2goe29rOiEwLGlkOm4uaWQscmV2OnJ9KSx1dGlscy5pc0xvY2FsSWQobi5pZCl8fChJZGJQb3VjaC5DaGFuZ2VzLm5vdGlmeShsKSxJZGJQb3VjaC5DaGFuZ2VzLm5vdGlmeUxvY2FsV2luZG93cyhsKSl9KSx1dGlscy5jYWxsKG4sbnVsbCxlKX1mdW5jdGlvbiBfKGUsdCl7aWYoZS5zdHViKXJldHVybiB0KCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YSl7dmFyIG87dHJ5e289YXRvYihlLmRhdGEpfWNhdGNoKGEpe3ZhciBpPWVycm9ycy5lcnJvcihlcnJvcnMuQkFEX0FSRyxcIkF0dGFjaG1lbnRzIG5lZWQgdG8gYmUgYmFzZTY0IGVuY29kZWRcIik7cmV0dXJuIHV0aWxzLmNhbGwobixpKX1pZihlLmRpZ2VzdD1cIm1kNS1cIit1dGlscy5DcnlwdG8uTUQ1KG8pLHYpe3ZhciBjPWUuY29udGVudF90eXBlO289cihvKSxlLmRhdGE9dXRpbHMuY3JlYXRlQmxvYihbb10se3R5cGU6Y30pfXJldHVybiB0KCl9dmFyIHM9bmV3IEZpbGVSZWFkZXI7cy5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtlLmRpZ2VzdD1cIm1kNS1cIit1dGlscy5DcnlwdG8uTUQ1KHRoaXMucmVzdWx0KSx2fHwoZS5kYXRhPWJ0b2EodGhpcy5yZXN1bHQpKSx0KCl9LHMucmVhZEFzQmluYXJ5U3RyaW5nKGUuZGF0YSl9ZnVuY3Rpb24gZyhlKXtmdW5jdGlvbiB0KCl7bisrLGoubGVuZ3RoPT09biYmZSgpfWlmKCFqLmxlbmd0aClyZXR1cm4gZSgpO3ZhciBuPTA7ai5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXtvKyssbz09PXIubGVuZ3RoJiZ0KCl9dmFyIHI9ZS5kYXRhJiZlLmRhdGEuX2F0dGFjaG1lbnRzP09iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHMpOltdO2lmKCFyLmxlbmd0aClyZXR1cm4gdCgpO3ZhciBvPTA7Zm9yKHZhciBhIGluIGUuZGF0YS5fYXR0YWNobWVudHMpXyhlLmRhdGEuX2F0dGFjaG1lbnRzW2FdLG4pfSl9ZnVuY3Rpb24gYihlLHQpe2Z1bmN0aW9uIG4oZSl7YXx8KGU/KGE9ZSx1dGlscy5jYWxsKHQsYSkpOnM9PT11Lmxlbmd0aCYmbygpKX1mdW5jdGlvbiByKGUpe3MrKyxuKGUpfWZ1bmN0aW9uIG8oKXtlLmRhdGEuX2RvY19pZF9yZXY9ZS5kYXRhLl9pZCtcIjo6XCIrZS5kYXRhLl9yZXY7dmFyIG49ay5vYmplY3RTdG9yZShjKS5wdXQoZS5kYXRhKTtuLm9uc3VjY2Vzcz1mdW5jdGlvbihuKXtlLm1ldGFkYXRhLnNlcT1uLnRhcmdldC5yZXN1bHQsZGVsZXRlIGUubWV0YWRhdGEucmV2O3ZhciByPWsub2JqZWN0U3RvcmUoaSkucHV0KGUubWV0YWRhdGEpO3Iub25zdWNjZXNzPWZ1bmN0aW9uKCl7Ui5wdXNoKGUpLHV0aWxzLmNhbGwodCl9fX12YXIgYT1udWxsLHM9MDtlLmRhdGEuX2lkPWUubWV0YWRhdGEuaWQsZS5kYXRhLl9yZXY9ZS5tZXRhZGF0YS5yZXYsRCsrLHV0aWxzLmlzRGVsZXRlZChlLm1ldGFkYXRhLGUubWV0YWRhdGEucmV2KSYmKGUuZGF0YS5fZGVsZXRlZD0hMCk7dmFyIHU9ZS5kYXRhLl9hdHRhY2htZW50cz9PYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzKTpbXTtmb3IodmFyIGQgaW4gZS5kYXRhLl9hdHRhY2htZW50cylpZihlLmRhdGEuX2F0dGFjaG1lbnRzW2RdLnN0dWIpcysrLG4oKTtlbHNle3ZhciBsPWUuZGF0YS5fYXR0YWNobWVudHNbZF0uZGF0YTtkZWxldGUgZS5kYXRhLl9hdHRhY2htZW50c1tkXS5kYXRhO3ZhciBmPWUuZGF0YS5fYXR0YWNobWVudHNbZF0uZGlnZXN0O0koZSxmLGwscil9dS5sZW5ndGh8fG8oKX1mdW5jdGlvbiBwKGUsdCl7dmFyIG49bWVyZ2UubWVyZ2UoZS5yZXZfdHJlZSx0Lm1ldGFkYXRhLnJldl90cmVlWzBdLDFlMykscj11dGlscy5pc0RlbGV0ZWQoZSksbz1yJiZ1dGlscy5pc0RlbGV0ZWQodC5tZXRhZGF0YSl8fCFyJiZTJiZcIm5ld19sZWFmXCIhPT1uLmNvbmZsaWN0cztyZXR1cm4gbz8oUi5wdXNoKHkoZXJyb3JzLlJFVl9DT05GTElDVCx0Ll9idWxrX3NlcSkpLGQoKSk6KHQubWV0YWRhdGEucmV2X3RyZWU9bi50cmVlLHZvaWQgYih0LGQpKX1mdW5jdGlvbiBtKGUpe3JldHVyblwid2FzX2RlbGV0ZVwiaW4gdCYmdXRpbHMuaXNEZWxldGVkKGUubWV0YWRhdGEpPyhSLnB1c2goZXJyb3JzLk1JU1NJTkdfRE9DKSxkKCkpOnZvaWQgYihlLGQpfWZ1bmN0aW9uIHkoZSx0KXtyZXR1cm4gZS5fYnVsa19zZXE9dCxlfWZ1bmN0aW9uIEkoZSx0LG4scil7e3ZhciBvPWsub2JqZWN0U3RvcmUocyk7by5nZXQodCkub25zdWNjZXNzPWZ1bmN0aW9uKGEpe3ZhciBpPWEudGFyZ2V0LnJlc3VsdCYmYS50YXJnZXQucmVzdWx0LnJlZnN8fHt9LGM9W2UubWV0YWRhdGEuaWQsZS5tZXRhZGF0YS5yZXZdLmpvaW4oXCJAXCIpLHM9e2RpZ2VzdDp0LGJvZHk6bixyZWZzOml9O3MucmVmc1tjXT0hMDtvLnB1dChzKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt1dGlscy5jYWxsKHIpfX19fXZhciBTPXQubmV3X2VkaXRzLHc9ZS5kb2NzLGo9dy5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj11dGlscy5wYXJzZURvYyhlLFMpO3JldHVybiBuLl9idWxrX3NlcT10LG59KSxxPWouZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yfSk7aWYocS5sZW5ndGgpcmV0dXJuIHV0aWxzLmNhbGwobixxWzBdKTt2YXIgayxSPVtdLEQ9MDtnKGZ1bmN0aW9uKCl7az1oLnRyYW5zYWN0aW9uKFtpLGMscyx1XSxcInJlYWR3cml0ZVwiKSxrLm9uZXJyb3I9aWRiRXJyb3Iobiksay5vbnRpbWVvdXQ9aWRiRXJyb3Iobiksay5vbmNvbXBsZXRlPWYsZCgpfSl9LGcuX2dldD1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3V0aWxzLmNhbGwobix1LHtkb2M6byxtZXRhZGF0YTphLGN0eDpkfSl9dmFyIG8sYSx1LGQ7ZD10LmN0eD90LmN0eDpoLnRyYW5zYWN0aW9uKFtpLGMsc10sXCJyZWFkb25seVwiKSxkLm9iamVjdFN0b3JlKGkpLmdldChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYoYT1lLnRhcmdldC5yZXN1bHQsIWEpcmV0dXJuIHU9ZXJyb3JzLk1JU1NJTkdfRE9DLHIoKTtpZih1dGlscy5pc0RlbGV0ZWQoYSkmJiF0LnJldilyZXR1cm4gdT1lcnJvcnMuZXJyb3IoZXJyb3JzLk1JU1NJTkdfRE9DLFwiZGVsZXRlZFwiKSxyKCk7dmFyIG49bWVyZ2Uud2lubmluZ1JldihhKSxpPWEuaWQrXCI6OlwiKyh0LnJldj90LnJldjpuKSxzPWQub2JqZWN0U3RvcmUoYykuaW5kZXgoXCJfZG9jX2lkX3JldlwiKTtzLmdldChpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIG89ZS50YXJnZXQucmVzdWx0LG8mJm8uX2RvY19pZF9yZXYmJmRlbGV0ZSBvLl9kb2NfaWRfcmV2LG8/dm9pZCByKCk6KHU9ZXJyb3JzLk1JU1NJTkdfRE9DLHIoKSl9fX0sZy5fZ2V0QXR0YWNobWVudD1mdW5jdGlvbihlLHQsbil7dmFyIG8sYTthPXQuY3R4P3QuY3R4OmgudHJhbnNhY3Rpb24oW2ksYyxzXSxcInJlYWRvbmx5XCIpO3ZhciB1PWUuZGlnZXN0LGQ9ZS5jb250ZW50X3R5cGU7YS5vYmplY3RTdG9yZShzKS5nZXQodSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBhPWUudGFyZ2V0LnJlc3VsdC5ib2R5O2lmKHQuZW5jb2RlKWlmKHYpe3ZhciBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkZW5kPWZ1bmN0aW9uKCl7bz1idG9hKHRoaXMucmVzdWx0KSx1dGlscy5jYWxsKG4sbnVsbCxvKX0saS5yZWFkQXNCaW5hcnlTdHJpbmcoYSl9ZWxzZSBvPWEsdXRpbHMuY2FsbChuLG51bGwsbyk7ZWxzZSB2P289YTooYT1yKGF0b2IoYSkpLG89dXRpbHMuY3JlYXRlQmxvYihbYV0se3R5cGU6ZH0pKSx1dGlscy5jYWxsKG4sbnVsbCxvKX19LGcuX2FsbERvY3M9ZnVuY3Rpb24oZSx0KXt2YXIgbj1cInN0YXJ0a2V5XCJpbiBlP2Uuc3RhcnRrZXk6ITEscj1cImVuZGtleVwiaW4gZT9lLmVuZGtleTohMSxvPVwiZGVzY2VuZGluZ1wiaW4gZT9lLmRlc2NlbmRpbmc6ITE7bz1vP1wicHJldlwiOm51bGw7dmFyIGE9biYmcj93aW5kb3cuSURCS2V5UmFuZ2UuYm91bmQobixyKTpuP3dpbmRvdy5JREJLZXlSYW5nZS5sb3dlckJvdW5kKG4pOnI/d2luZG93LklEQktleVJhbmdlLnVwcGVyQm91bmQocik6bnVsbCxzPWgudHJhbnNhY3Rpb24oW2ksY10sXCJyZWFkb25seVwiKTtzLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtcImtleXNcImluIGUmJihlLmtleXMuZm9yRWFjaChmdW5jdGlvbihlKXtsLnB1c2goZSBpbiBmP2ZbZV06e2tleTplLGVycm9yOlwibm90X2ZvdW5kXCJ9KX0pLGUuZGVzY2VuZGluZyYmbC5yZXZlcnNlKCkpLHV0aWxzLmNhbGwodCxudWxsLHt0b3RhbF9yb3dzOmwubGVuZ3RoLG9mZnNldDplLnNraXAscm93czpcImxpbWl0XCJpbiBlP2wuc2xpY2UoZS5za2lwLGUubGltaXQrZS5za2lwKTplLnNraXA+MD9sLnNsaWNlKGUuc2tpcCk6bH0pfTt2YXIgdT1zLm9iamVjdFN0b3JlKGkpLGQ9bz91Lm9wZW5DdXJzb3IoYSxvKTp1Lm9wZW5DdXJzb3IoYSksbD1bXSxmPXt9O2Qub25zdWNjZXNzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4odCxuKXtpZih1dGlscy5pc0xvY2FsSWQodC5pZCkpcmV0dXJuIHJbXCJjb250aW51ZVwiXSgpO3ZhciBvPXtpZDp0LmlkLGtleTp0LmlkLHZhbHVlOntyZXY6bWVyZ2Uud2lubmluZ1Jldih0KX19O2lmKGUuaW5jbHVkZV9kb2NzKXtvLmRvYz1uLG8uZG9jLl9yZXY9bWVyZ2Uud2lubmluZ1Jldih0KSxvLmRvYy5fZG9jX2lkX3JldiYmZGVsZXRlIG8uZG9jLl9kb2NfaWRfcmV2LGUuY29uZmxpY3RzJiYoby5kb2MuX2NvbmZsaWN0cz1tZXJnZS5jb2xsZWN0Q29uZmxpY3RzKHQpKTtmb3IodmFyIGEgaW4gby5kb2MuX2F0dGFjaG1lbnRzKW8uZG9jLl9hdHRhY2htZW50c1thXS5zdHViPSEwfVwia2V5c1wiaW4gZT9lLmtleXMuaW5kZXhPZih0LmlkKT4tMSYmKHV0aWxzLmlzRGVsZXRlZCh0KSYmKG8udmFsdWUuZGVsZXRlZD0hMCxvLmRvYz1udWxsKSxmW28uaWRdPW8pOnV0aWxzLmlzRGVsZXRlZCh0KXx8bC5wdXNoKG8pLHJbXCJjb250aW51ZVwiXSgpfWlmKHQudGFyZ2V0LnJlc3VsdCl7dmFyIHI9dC50YXJnZXQucmVzdWx0LG89ci52YWx1ZTtpZihlLmluY2x1ZGVfZG9jcyl7dmFyIGE9cy5vYmplY3RTdG9yZShjKS5pbmRleChcIl9kb2NfaWRfcmV2XCIpLGk9bWVyZ2Uud2lubmluZ1JldihvKSx1PW8uaWQrXCI6OlwiK2k7YS5nZXQodSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe24oci52YWx1ZSxlLnRhcmdldC5yZXN1bHQpfX1lbHNlIG4obyl9fX0sZy5faW5mbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe289ZS50YXJnZXQucmVzdWx0JiZlLnRhcmdldC5yZXN1bHQudXBkYXRlU2VxfHwwfWZ1bmN0aW9uIG4oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O3JldHVybiBuPyhuLnZhbHVlLmRlbGV0ZWQhPT0hMCYmcisrLHZvaWQgbltcImNvbnRpbnVlXCJdKCkpOnZvaWQoYS5vYmplY3RTdG9yZSh1KS5nZXQodSkub25zdWNjZXNzPXQpfXZhciByPTAsbz0wLGE9aC50cmFuc2FjdGlvbihbaSx1XSxcInJlYWRvbmx5XCIpO2Eub25jb21wbGV0ZT1mdW5jdGlvbigpe2UobnVsbCx7ZGJfbmFtZTpsLGRvY19jb3VudDpyLHVwZGF0ZV9zZXE6b30pfSxhLm9iamVjdFN0b3JlKGkpLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9bn0sZy5fY2hhbmdlcz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7ZD1oLnRyYW5zYWN0aW9uKFtpLGNdKSxkLm9uY29tcGxldGU9cjt2YXIgdDt0PXM/ZC5vYmplY3RTdG9yZShjKS5vcGVuQ3Vyc29yKHdpbmRvdy5JREJLZXlSYW5nZS5sb3dlckJvdW5kKGUuc2luY2UsITApLHMpOmQub2JqZWN0U3RvcmUoYykub3BlbkN1cnNvcih3aW5kb3cuSURCS2V5UmFuZ2UubG93ZXJCb3VuZChlLnNpbmNlLCEwKSksdC5vbnN1Y2Nlc3M9bix0Lm9uZXJyb3I9b31mdW5jdGlvbiBuKHQpe2lmKCF0LnRhcmdldC5yZXN1bHQpe2Zvcih2YXIgbj0wLHI9Zi5sZW5ndGg7cj5uO24rKyl7dmFyIG89ZltuXTtvJiZfLnB1c2gobyl9cmV0dXJuITF9dmFyIGE9dC50YXJnZXQucmVzdWx0LHM9YS52YWx1ZS5faWQsbD12W3NdO2lmKHZvaWQgMCE9PWwpcmV0dXJuIGZbbF0uc2VxPWEua2V5LGYucHVzaChmW2xdKSxmW2xdPW51bGwsdltzXT1mLmxlbmd0aC0xLGFbXCJjb250aW51ZVwiXSgpO3ZhciBnPWQub2JqZWN0U3RvcmUoaSk7Zy5nZXQoYS52YWx1ZS5faWQpLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgbj10LnRhcmdldC5yZXN1bHQ7aWYodXRpbHMuaXNMb2NhbElkKG4uaWQpKXJldHVybiBhW1wiY29udGludWVcIl0oKTt1PG4uc2VxJiYodT1uLnNlcSk7dmFyIHI9bWVyZ2Uud2lubmluZ1JldihuKSxvPW4uaWQrXCI6OlwiK3IsaT1kLm9iamVjdFN0b3JlKGMpLmluZGV4KFwiX2RvY19pZF9yZXZcIik7aS5nZXQobykub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3ZhciBvPXQudGFyZ2V0LnJlc3VsdDtkZWxldGUgby5fZG9jX2lkX3JldixvLl9yZXY9cjt2YXIgaT1lLnByb2Nlc3NDaGFuZ2UobyxuLGUpO2kuc2VxPWEua2V5O3ZhciBjPWkuaWQscz12W2NdO3ZvaWQgMCE9PXMmJihmW3NdPW51bGwpLGYucHVzaChpKSx2W2NdPWYubGVuZ3RoLTEsYVtcImNvbnRpbnVlXCJdKCl9fX1mdW5jdGlvbiByKCl7dXRpbHMucHJvY2Vzc0NoYW5nZXMoZSxfLHUpfWZ1bmN0aW9uIG8oKXt1dGlscy5jYWxsKGUuY29tcGxldGUpfWlmKGUuY29udGludW91cyl7dmFyIGE9bCtcIjpcIit1dGlscy51dWlkKCk7cmV0dXJuIGUuY2FuY2VsbGVkPSExLElkYlBvdWNoLkNoYW5nZXMuYWRkTGlzdGVuZXIobCxhLGcsZSksSWRiUG91Y2guQ2hhbmdlcy5ub3RpZnkobCkse2NhbmNlbDpmdW5jdGlvbigpe2UuY2FuY2VsbGVkPSEwLElkYlBvdWNoLkNoYW5nZXMucmVtb3ZlTGlzdGVuZXIobCxhKX19fXZhciBzPWUuZGVzY2VuZGluZz9cInByZXZcIjpudWxsLHU9MDtlLnNpbmNlPWUuc2luY2UmJiFzP2Uuc2luY2U6MDt2YXIgZCxmPVtdLHY9e30sXz1bXTt0KCl9LGcuX2Nsb3NlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09aD91dGlscy5jYWxsKGUsZXJyb3JzLk5PVF9PUEVOKTooaC5jbG9zZSgpLHZvaWQgdXRpbHMuY2FsbChlLG51bGwpKX0sZy5fZ2V0UmV2aXNpb25UcmVlPWZ1bmN0aW9uKGUsdCl7dmFyIG49aC50cmFuc2FjdGlvbihbaV0sXCJyZWFkb25seVwiKSxyPW4ub2JqZWN0U3RvcmUoaSkuZ2V0KGUpO3Iub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdDtuP3V0aWxzLmNhbGwodCxudWxsLG4ucmV2X3RyZWUpOnV0aWxzLmNhbGwodCxlcnJvcnMuTUlTU0lOR19ET0MpfX0sZy5fZG9Db21wYWN0aW9uPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWgudHJhbnNhY3Rpb24oW2ksY10sXCJyZWFkd3JpdGVcIiksYT1vLm9iamVjdFN0b3JlKGkpO2EuZ2V0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbihyKXt2YXIgYT1yLnRhcmdldC5yZXN1bHQ7YS5yZXZfdHJlZT10O3ZhciBzPW4ubGVuZ3RoO24uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1vLm9iamVjdFN0b3JlKGMpLmluZGV4KFwiX2RvY19pZF9yZXZcIikscj1lK1wiOjpcIit0O24uZ2V0S2V5KHIpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQ7aWYodCl7e28ub2JqZWN0U3RvcmUoYylbXCJkZWxldGVcIl0odCl9cy0tLHN8fG8ub2JqZWN0U3RvcmUoaSkucHV0KGEpfX19KX0sby5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7dXRpbHMuY2FsbChyKX19LGd9dmFyIHV0aWxzPXJlcXVpcmUoXCIuLi91dGlsc1wiKSxtZXJnZT1yZXF1aXJlKFwiLi4vbWVyZ2VcIiksZXJyb3JzPXJlcXVpcmUoXCIuLi9kZXBzL2Vycm9yc1wiKTtJZGJQb3VjaC52YWxpZD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJiEhd2luZG93LmluZGV4ZWREQn0sSWRiUG91Y2guZGVzdHJveT1mdW5jdGlvbihlLHQsbil7XCJvcGVuUmVxTGlzdFwiaW4gSWRiUG91Y2h8fChJZGJQb3VjaC5vcGVuUmVxTGlzdD17fSksSWRiUG91Y2guQ2hhbmdlcy5jbGVhckxpc3RlbmVycyhlKSxJZGJQb3VjaC5vcGVuUmVxTGlzdFtlXSYmSWRiUG91Y2gub3BlblJlcUxpc3RbZV0ucmVzdWx0JiZJZGJQb3VjaC5vcGVuUmVxTGlzdFtlXS5yZXN1bHQuY2xvc2UoKTt2YXIgcj13aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGUpO3Iub25zdWNjZXNzPWZ1bmN0aW9uKCl7SWRiUG91Y2gub3BlblJlcUxpc3RbZV0mJihJZGJQb3VjaC5vcGVuUmVxTGlzdFtlXT1udWxsKSx1dGlscy5jYWxsKG4sbnVsbCl9LHIub25lcnJvcj1pZGJFcnJvcihuKX0sSWRiUG91Y2guQ2hhbmdlcz1uZXcgdXRpbHMuQ2hhbmdlcyxtb2R1bGUuZXhwb3J0cz1JZGJQb3VjaDsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBxdW90ZShlKXtyZXR1cm5cIidcIitlK1wiJ1wifWZ1bmN0aW9uIG9wZW5EQigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci5zcWxpdGVQbHVnaW4mJndpbmRvdy5uYXZpZ2F0b3Iuc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZT9uYXZpZ2F0b3Iuc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZS5hcHBseShuYXZpZ2F0b3Iuc3FsaXRlUGx1Z2luLGFyZ3VtZW50cyk6d2luZG93LnNxbGl0ZVBsdWdpbiYmd2luZG93LnNxbGl0ZVBsdWdpbi5vcGVuRGF0YWJhc2U/d2luZG93LnNxbGl0ZVBsdWdpbi5vcGVuRGF0YWJhc2UuYXBwbHkod2luZG93LnNxbGl0ZVBsdWdpbixhcmd1bWVudHMpOndpbmRvdy5vcGVuRGF0YWJhc2UuYXBwbHkod2luZG93LGFyZ3VtZW50cyk6dm9pZCAwfWZ1bmN0aW9uIHVua25vd25FcnJvcihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dXRpbHMuY2FsbChlLHtzdGF0dXM6NTAwLGVycm9yOnQudHlwZSxyZWFzb246dC50YXJnZXR9KX19ZnVuY3Rpb24gaWRiRXJyb3IoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3V0aWxzLmNhbGwoZSxlcnJvcnMuZXJyb3IoZXJyb3JzLldTUV9FUlJPUix0LnRhcmdldCx0LnR5cGUpKX19ZnVuY3Rpb24gd2ViU3FsUG91Y2goZSx0KXtmdW5jdGlvbiBuKCl7dChudWxsLGEpfWZ1bmN0aW9uIGkoKXtzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe3ZhciB0PVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXCIrTUVUQV9TVE9SRStcIiAodXBkYXRlX3NlcSwgZGJpZClcIixuPVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXCIrQVRUQUNIX1NUT1JFK1wiIChkaWdlc3QsIGpzb24sIGJvZHkgQkxPQilcIixpPVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXCIrRE9DX1NUT1JFK1wiIChpZCB1bmlxdWUsIHNlcSwganNvbiwgd2lubmluZ3NlcSlcIixhPVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXCIrQllfU0VRX1NUT1JFK1wiIChzZXEgSU5URUdFUiBOT1QgTlVMTCBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULCBkb2NfaWRfcmV2IFVOSVFVRSwganNvbilcIjtlLmV4ZWN1dGVTcWwobiksZS5leGVjdXRlU3FsKGkpLGUuZXhlY3V0ZVNxbChhKSxlLmV4ZWN1dGVTcWwodCk7dmFyIG89XCJTRUxFQ1QgdXBkYXRlX3NlcSBGUk9NIFwiK01FVEFfU1RPUkU7ZS5leGVjdXRlU3FsKG8sW10sZnVuY3Rpb24oZSx0KXtpZighdC5yb3dzLmxlbmd0aCl7dmFyIG49XCJJTlNFUlQgSU5UTyBcIitNRVRBX1NUT1JFK1wiICh1cGRhdGVfc2VxKSBWQUxVRVMgKD8pXCI7cmV0dXJuIHZvaWQgZS5leGVjdXRlU3FsKG4sWzBdKX19KTt2YXIgcz1cIlNFTEVDVCBkYmlkIEZST00gXCIrTUVUQV9TVE9SRStcIiBXSEVSRSBkYmlkIElTIE5PVCBOVUxMXCI7ZS5leGVjdXRlU3FsKHMsW10sZnVuY3Rpb24oZSx0KXtpZighdC5yb3dzLmxlbmd0aCl7dmFyIG49XCJVUERBVEUgXCIrTUVUQV9TVE9SRStcIiBTRVQgZGJpZD0/XCI7cmV0dXJuIHI9dXRpbHMudXVpZCgpLHZvaWQgZS5leGVjdXRlU3FsKG4sW3JdKX1yPXQucm93cy5pdGVtKDApLmRiaWR9KX0sdW5rbm93bkVycm9yKHQpLG4pfXZhciBhPXt9LHI9bnVsbCxvPWUubmFtZSxzPW9wZW5EQihvLFBPVUNIX1ZFUlNJT04sbyxQT1VDSF9TSVpFKTtyZXR1cm4gcz8odXRpbHMuaXNDb3Jkb3ZhKCkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIobytcIl9wb3VjaFwiLGZ1bmN0aW9uIHUoKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihvK1wiX3BvdWNoXCIsdSwhMSksaSgpfSwhMSk6aSgpLGEudHlwZT1mdW5jdGlvbigpe3JldHVyblwid2Vic3FsXCJ9LGEuaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sYS5faW5mbz1mdW5jdGlvbihlKXtzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3ZhciBuPVwiU0VMRUNUIENPVU5UKGlkKSBBUyBjb3VudCBGUk9NIFwiK0RPQ19TVE9SRTt0LmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbih0LG4pe3ZhciBpPW4ucm93cy5pdGVtKDApLmNvdW50LGE9XCJTRUxFQ1QgdXBkYXRlX3NlcSBGUk9NIFwiK01FVEFfU1RPUkU7dC5leGVjdXRlU3FsKGEsW10sZnVuY3Rpb24odCxuKXt2YXIgYT1uLnJvd3MuaXRlbSgwKS51cGRhdGVfc2VxO2UobnVsbCx7ZGJfbmFtZTpvLGRvY19jb3VudDppLHVwZGF0ZV9zZXE6YX0pfSl9KX0pfSxhLl9idWxrRG9jcz1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlLl9idWxrX3NlcS10Ll9idWxrX3NlcX1mdW5jdGlvbiBhKCl7dmFyIGU9W107dy5zb3J0KGkpLHcuZm9yRWFjaChmdW5jdGlvbih0KXtpZihkZWxldGUgdC5fYnVsa19zZXEsdC5lcnJvcilyZXR1cm4gdm9pZCBlLnB1c2godCk7dmFyIG49dC5tZXRhZGF0YSxpPW1lcmdlLndpbm5pbmdSZXYobik7ZS5wdXNoKHtvazohMCxpZDpuLmlkLHJldjppfSksdXRpbHMuaXNMb2NhbElkKG4uaWQpfHwoUisrLHdlYlNxbFBvdWNoLkNoYW5nZXMubm90aWZ5KG8pLHdlYlNxbFBvdWNoLkNoYW5nZXMubm90aWZ5TG9jYWxXaW5kb3dzKG8pKX0pO3ZhciB0PVwiU0VMRUNUIHVwZGF0ZV9zZXEgRlJPTSBcIitNRVRBX1NUT1JFO2cuZXhlY3V0ZVNxbCh0LFtdLGZ1bmN0aW9uKHQsaSl7dmFyIGE9aS5yb3dzLml0ZW0oMCkudXBkYXRlX3NlcStSLHI9XCJVUERBVEUgXCIrTUVUQV9TVE9SRStcIiBTRVQgdXBkYXRlX3NlcT0/XCI7dC5leGVjdXRlU3FsKHIsW2FdLGZ1bmN0aW9uKCl7dXRpbHMuY2FsbChuLG51bGwsZSl9KX0pfWZ1bmN0aW9uIHIoZSx0KXtpZihlLnN0dWIpcmV0dXJuIHQoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhKXt0cnl7ZS5kYXRhPWF0b2IoZS5kYXRhKX1jYXRjaChpKXt2YXIgYT1lcnJvcnMuZXJyb3IoZXJyb3JzLkJBRF9BUkcsXCJBdHRhY2htZW50cyBuZWVkIHRvIGJlIGJhc2U2NCBlbmNvZGVkXCIpO3JldHVybiB1dGlscy5jYWxsKG4sYSl9cmV0dXJuIGUuZGlnZXN0PVwibWQ1LVwiK3V0aWxzLkNyeXB0by5NRDUoZS5kYXRhKSx0KCl9dmFyIHI9bmV3IEZpbGVSZWFkZXI7ci5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtlLmRhdGE9dGhpcy5yZXN1bHQsZS5kaWdlc3Q9XCJtZDUtXCIrdXRpbHMuQ3J5cHRvLk1ENSh0aGlzLnJlc3VsdCksdCgpfSxyLnJlYWRBc0JpbmFyeVN0cmluZyhlLmRhdGEpfWZ1bmN0aW9uIHUoZSl7ZnVuY3Rpb24gdCgpe24rKyx2Lmxlbmd0aD09PW4mJmUoKX1pZighdi5sZW5ndGgpcmV0dXJuIGUoKTt2YXIgbj0wLGk9MDt2LmZvckVhY2goZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe2krKyxpPT09YS5sZW5ndGgmJnQoKX12YXIgYT1lLmRhdGEmJmUuZGF0YS5fYXR0YWNobWVudHM/T2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cyk6W107aWYoIWEubGVuZ3RoKXJldHVybiB0KCk7Zm9yKHZhciBvIGluIGUuZGF0YS5fYXR0YWNobWVudHMpcihlLmRhdGEuX2F0dGFjaG1lbnRzW29dLG4pfSl9ZnVuY3Rpb24gbChlLHQsbil7ZnVuY3Rpb24gaSgpe3ZhciB0PWUuZGF0YSxuPVwiSU5TRVJUIElOVE8gXCIrQllfU0VRX1NUT1JFK1wiIChkb2NfaWRfcmV2LCBqc29uKSBWQUxVRVMgKD8sID8pO1wiO2cuZXhlY3V0ZVNxbChuLFt0Ll9pZCtcIjo6XCIrdC5fcmV2LEpTT04uc3RyaW5naWZ5KHQpXSxvKX1mdW5jdGlvbiBhKGUpe3N8fChlPyhzPWUsdXRpbHMuY2FsbCh0LHMpKTp1PT09bC5sZW5ndGgmJmkoKSl9ZnVuY3Rpb24gcihlKXt1KyssYShlKX1mdW5jdGlvbiBvKGksYSl7dmFyIHI9ZS5tZXRhZGF0YS5zZXE9YS5pbnNlcnRJZDtkZWxldGUgZS5tZXRhZGF0YS5yZXY7dmFyIG89bWVyZ2Uud2lubmluZ1JldihlLm1ldGFkYXRhKSxzPW4/XCJVUERBVEUgXCIrRE9DX1NUT1JFK1wiIFNFVCBzZXE9PywganNvbj0/LCB3aW5uaW5nc2VxPShTRUxFQ1Qgc2VxIEZST00gXCIrQllfU0VRX1NUT1JFK1wiIFdIRVJFIGRvY19pZF9yZXY9PykgV0hFUkUgaWQ9P1wiOlwiSU5TRVJUIElOVE8gXCIrRE9DX1NUT1JFK1wiIChpZCwgc2VxLCB3aW5uaW5nc2VxLCBqc29uKSBWQUxVRVMgKD8sID8sID8sID8pO1wiLHU9SlNPTi5zdHJpbmdpZnkoZS5tZXRhZGF0YSksbD1lLm1ldGFkYXRhLmlkK1wiOjpcIitvLGQ9bj9bcix1LGwsZS5tZXRhZGF0YS5pZF06W2UubWV0YWRhdGEuaWQscixyLHVdO2kuZXhlY3V0ZVNxbChzLGQsZnVuY3Rpb24oKXt3LnB1c2goZSksdXRpbHMuY2FsbCh0LG51bGwpfSl9dmFyIHM9bnVsbCx1PTA7ZS5kYXRhLl9pZD1lLm1ldGFkYXRhLmlkLGUuZGF0YS5fcmV2PWUubWV0YWRhdGEucmV2LHV0aWxzLmlzRGVsZXRlZChlLm1ldGFkYXRhLGUubWV0YWRhdGEucmV2KSYmKGUuZGF0YS5fZGVsZXRlZD0hMCk7dmFyIGw9ZS5kYXRhLl9hdHRhY2htZW50cz9PYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzKTpbXTtmb3IodmFyIGQgaW4gZS5kYXRhLl9hdHRhY2htZW50cylpZihlLmRhdGEuX2F0dGFjaG1lbnRzW2RdLnN0dWIpdSsrLGEoKTtlbHNle3ZhciBjPWUuZGF0YS5fYXR0YWNobWVudHNbZF0uZGF0YTtkZWxldGUgZS5kYXRhLl9hdHRhY2htZW50c1tkXS5kYXRhO3ZhciBFPWUuZGF0YS5fYXR0YWNobWVudHNbZF0uZGlnZXN0O18oZSxFLGMscil9bC5sZW5ndGh8fGkoKX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49bWVyZ2UubWVyZ2UoZS5yZXZfdHJlZSx0Lm1ldGFkYXRhLnJldl90cmVlWzBdLDFlMyksaT11dGlscy5pc0RlbGV0ZWQoZSkmJnV0aWxzLmlzRGVsZXRlZCh0Lm1ldGFkYXRhKXx8IXV0aWxzLmlzRGVsZXRlZChlKSYmVCYmXCJuZXdfbGVhZlwiIT09bi5jb25mbGljdHM7cmV0dXJuIGk/KHcucHVzaChTKGVycm9ycy5SRVZfQ09ORkxJQ1QsdC5fYnVsa19zZXEpKSxFKCkpOih0Lm1ldGFkYXRhLnJldl90cmVlPW4udHJlZSx2b2lkIGwodCxFLCEwKSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm5cIndhc19kZWxldGVcImluIHQmJnV0aWxzLmlzRGVsZXRlZChlLm1ldGFkYXRhKT8ody5wdXNoKGVycm9ycy5NSVNTSU5HX0RPQyksRSgpKTp2b2lkIGwoZSxFLCExKX1mdW5jdGlvbiBFKCl7aWYoIXYubGVuZ3RoKXJldHVybiBhKCk7dmFyIGU9di5zaGlmdCgpLHQ9ZS5tZXRhZGF0YS5pZDt0IGluIG0/ZChtW3RdLGUpOihtW3RdPWUubWV0YWRhdGEsYyhlKSl9ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBlLl9idWxrX3NlcT10LGV9ZnVuY3Rpb24gXyhlLHQsbixpKXt2YXIgYT1bZS5tZXRhZGF0YS5pZCxlLm1ldGFkYXRhLnJldl0uam9pbihcIkBcIikscj17ZGlnZXN0OnR9LG89XCJTRUxFQ1QgZGlnZXN0LCBqc29uIEZST00gXCIrQVRUQUNIX1NUT1JFK1wiIFdIRVJFIGRpZ2VzdD0/XCI7Zy5leGVjdXRlU3FsKG8sW3RdLGZ1bmN0aW9uKGUscyl7cy5yb3dzLmxlbmd0aD8oci5yZWZzPUpTT04ucGFyc2Uocy5yb3dzLml0ZW0oMCkuanNvbikucmVmcyxvPVwiVVBEQVRFIFwiK0FUVEFDSF9TVE9SRStcIiBTRVQganNvbj0/LCBib2R5PT8gV0hFUkUgZGlnZXN0PT9cIixlLmV4ZWN1dGVTcWwobyxbSlNPTi5zdHJpbmdpZnkociksbix0XSxmdW5jdGlvbigpe3V0aWxzLmNhbGwoaSxudWxsKX0pKTooci5yZWZzPXt9LHIucmVmc1thXT0hMCxvPVwiSU5TRVJUIElOVE8gXCIrQVRUQUNIX1NUT1JFK1wiKGRpZ2VzdCwganNvbiwgYm9keSkgVkFMVUVTICg/LCA/LCA/KVwiLGUuZXhlY3V0ZVNxbChvLFt0LEpTT04uc3RyaW5naWZ5KHIpLG5dLGZ1bmN0aW9uKCl7dXRpbHMuY2FsbChpLG51bGwpfSkpfSl9ZnVuY3Rpb24gTyhlLHQpe2Zvcih2YXIgbj0wO248dC5yb3dzLmxlbmd0aDtuKyspe3ZhciBpPXQucm93cy5pdGVtKG4pO21baS5pZF09SlNPTi5wYXJzZShpLmpzb24pfUUoKX12YXIgVD10Lm5ld19lZGl0cyxmPWUuZG9jcyxSPTAsdj1mLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXV0aWxzLnBhcnNlRG9jKGUsVCk7cmV0dXJuIG4uX2J1bGtfc2VxPXQsbn0pLHE9di5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J9KTtpZihxLmxlbmd0aClyZXR1cm4gdXRpbHMuY2FsbChuLHFbMF0pO3ZhciBnLHc9W10sbT17fTt1KGZ1bmN0aW9uKCl7cy50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtnPWU7dmFyIHQ9XCIoXCIrdi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHF1b3RlKGUubWV0YWRhdGEuaWQpfSkuam9pbihcIixcIikrXCIpXCIsbj1cIlNFTEVDVCAqIEZST00gXCIrRE9DX1NUT1JFK1wiIFdIRVJFIGlkIElOIFwiK3Q7Zy5leGVjdXRlU3FsKG4sW10sTyl9LHVua25vd25FcnJvcihuKSl9KX0sYS5fZ2V0PWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKCl7dXRpbHMuY2FsbChuLHUse2RvYzpyLG1ldGFkYXRhOm8sY3R4Omx9KX12YXIgcixvLHU7aWYoIXQuY3R4KXJldHVybiB2b2lkIHMudHJhbnNhY3Rpb24oZnVuY3Rpb24oaSl7dC5jdHg9aSxhLl9nZXQoZSx0LG4pfSk7dmFyIGw9dC5jdHgsZD1cIlNFTEVDVCAqIEZST00gXCIrRE9DX1NUT1JFK1wiIFdIRVJFIGlkPT9cIjtsLmV4ZWN1dGVTcWwoZCxbZV0sZnVuY3Rpb24oZSxuKXtpZighbi5yb3dzLmxlbmd0aClyZXR1cm4gdT1lcnJvcnMuTUlTU0lOR19ET0MsaSgpO2lmKG89SlNPTi5wYXJzZShuLnJvd3MuaXRlbSgwKS5qc29uKSx1dGlscy5pc0RlbGV0ZWQobykmJiF0LnJldilyZXR1cm4gdT1lcnJvcnMuZXJyb3IoZXJyb3JzLk1JU1NJTkdfRE9DLFwiZGVsZXRlZFwiKSxpKCk7dmFyIGE9bWVyZ2Uud2lubmluZ1JldihvKSxzPXQucmV2P3QucmV2OmE7cz1vLmlkK1wiOjpcIitzO3ZhciBkPVwiU0VMRUNUICogRlJPTSBcIitCWV9TRVFfU1RPUkUrXCIgV0hFUkUgZG9jX2lkX3Jldj0/XCI7bC5leGVjdXRlU3FsKGQsW3NdLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucm93cy5sZW5ndGg/KHI9SlNPTi5wYXJzZSh0LnJvd3MuaXRlbSgwKS5qc29uKSx2b2lkIGkoKSk6KHU9ZXJyb3JzLk1JU1NJTkdfRE9DLGkoKSl9KX0pfSxhLl9hbGxEb2NzPWZ1bmN0aW9uKGUsdCl7dmFyIG49W10saT17fSxhPVwic3RhcnRrZXlcImluIGU/ZS5zdGFydGtleTohMSxyPVwiZW5ka2V5XCJpbiBlP2UuZW5ka2V5OiExLG89XCJkZXNjZW5kaW5nXCJpbiBlP2UuZGVzY2VuZGluZzohMSx1PVwiU0VMRUNUIFwiK0RPQ19TVE9SRStcIi5pZCwgXCIrQllfU0VRX1NUT1JFK1wiLnNlcSwgXCIrQllfU0VRX1NUT1JFK1wiLmpzb24gQVMgZGF0YSwgXCIrRE9DX1NUT1JFK1wiLmpzb24gQVMgbWV0YWRhdGEgRlJPTSBcIitCWV9TRVFfU1RPUkUrXCIgSk9JTiBcIitET0NfU1RPUkUrXCIgT04gXCIrQllfU0VRX1NUT1JFK1wiLnNlcSA9IFwiK0RPQ19TVE9SRStcIi53aW5uaW5nc2VxXCIsbD1bXTtcImtleXNcImluIGU/KHUrPVwiIFdIRVJFIFwiK0RPQ19TVE9SRStcIi5pZCBJTiAoXCIrZS5rZXlzLm1hcChmdW5jdGlvbigpe3JldHVyblwiP1wifSkuam9pbihcIixcIikrXCIpXCIsbD1sLmNvbmNhdChlLmtleXMpKTooYSYmKHUrPVwiIFdIRVJFIFwiK0RPQ19TVE9SRStcIi5pZCA+PSA/XCIsbC5wdXNoKGEpKSxyJiYodSs9KGE/XCIgQU5EIFwiOlwiIFdIRVJFIFwiKStET0NfU1RPUkUrXCIuaWQgPD0gP1wiLGwucHVzaChyKSksdSs9XCIgT1JERVIgQlkgXCIrRE9DX1NUT1JFK1wiLmlkIFwiKyhvP1wiREVTQ1wiOlwiQVNDXCIpKSxzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbCh1LGwsZnVuY3Rpb24odCxhKXtmb3IodmFyIHI9MCxvPWEucm93cy5sZW5ndGg7bz5yO3IrKyl7dmFyIHM9YS5yb3dzLml0ZW0ociksdT1KU09OLnBhcnNlKHMubWV0YWRhdGEpLGw9SlNPTi5wYXJzZShzLmRhdGEpO2lmKCF1dGlscy5pc0xvY2FsSWQodS5pZCkpe2lmKHM9e2lkOnUuaWQsa2V5OnUuaWQsdmFsdWU6e3JldjptZXJnZS53aW5uaW5nUmV2KHUpfX0sZS5pbmNsdWRlX2RvY3Mpe3MuZG9jPWwscy5kb2MuX3Jldj1tZXJnZS53aW5uaW5nUmV2KHUpLGUuY29uZmxpY3RzJiYocy5kb2MuX2NvbmZsaWN0cz1tZXJnZS5jb2xsZWN0Q29uZmxpY3RzKHUpKTtmb3IodmFyIGQgaW4gcy5kb2MuX2F0dGFjaG1lbnRzKXMuZG9jLl9hdHRhY2htZW50c1tkXS5zdHViPSEwfVwia2V5c1wiaW4gZT9lLmtleXMuaW5kZXhPZih1LmlkKT4tMSYmKHV0aWxzLmlzRGVsZXRlZCh1KSYmKHMudmFsdWUuZGVsZXRlZD0hMCxzLmRvYz1udWxsKSxpW3MuaWRdPXMpOnV0aWxzLmlzRGVsZXRlZCh1KXx8bi5wdXNoKHMpfX19KX0sdW5rbm93bkVycm9yKHQpLGZ1bmN0aW9uKCl7XCJrZXlzXCJpbiBlJiYoZS5rZXlzLmZvckVhY2goZnVuY3Rpb24oZSl7bi5wdXNoKGUgaW4gaT9pW2VdOntrZXk6ZSxlcnJvcjpcIm5vdF9mb3VuZFwifSl9KSxlLmRlc2NlbmRpbmcmJm4ucmV2ZXJzZSgpKSx1dGlscy5jYWxsKHQsbnVsbCx7dG90YWxfcm93czpuLmxlbmd0aCxvZmZzZXQ6ZS5za2lwLHJvd3M6XCJsaW1pdFwiaW4gZT9uLnNsaWNlKGUuc2tpcCxlLmxpbWl0K2Uuc2tpcCk6ZS5za2lwPjA/bi5zbGljZShlLnNraXApOm59KX0pfSxhLl9jaGFuZ2VzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1cIlNFTEVDVCBcIitET0NfU1RPUkUrXCIuaWQsIFwiK0JZX1NFUV9TVE9SRStcIi5zZXEsIFwiK0JZX1NFUV9TVE9SRStcIi5qc29uIEFTIGRhdGEsIFwiK0RPQ19TVE9SRStcIi5qc29uIEFTIG1ldGFkYXRhIEZST00gXCIrQllfU0VRX1NUT1JFK1wiIEpPSU4gXCIrRE9DX1NUT1JFK1wiIE9OIFwiK0JZX1NFUV9TVE9SRStcIi5zZXEgPSBcIitET0NfU1RPUkUrXCIud2lubmluZ3NlcSBXSEVSRSBcIitET0NfU1RPUkUrXCIuc2VxID4gXCIrZS5zaW5jZStcIiBPUkRFUiBCWSBcIitET0NfU1RPUkUrXCIuc2VxIFwiKyhpP1wiREVTQ1wiOlwiQVNDXCIpO3MudHJhbnNhY3Rpb24oZnVuY3Rpb24obil7bi5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9MCxhPTAsbz1uLnJvd3MubGVuZ3RoO28+YTthKyspe3ZhciBzPW4ucm93cy5pdGVtKGEpLHU9SlNPTi5wYXJzZShzLm1ldGFkYXRhKTtpZighdXRpbHMuaXNMb2NhbElkKHUuaWQpKXtpPHMuc2VxJiYoaT1zLnNlcSk7dmFyIGw9SlNPTi5wYXJzZShzLmRhdGEpLGQ9ZS5wcm9jZXNzQ2hhbmdlKGwsdSxlKTtkLnNlcT1zLnNlcSxyLnB1c2goZCl9fXV0aWxzLnByb2Nlc3NDaGFuZ2VzKGUscixpKX0pfSl9aWYoZS5jb250aW51b3VzKXt2YXIgbj1vK1wiOlwiK3V0aWxzLnV1aWQoKTtyZXR1cm4gZS5jYW5jZWxsZWQ9ITEsd2ViU3FsUG91Y2guQ2hhbmdlcy5hZGRMaXN0ZW5lcihvLG4sYSxlKSx3ZWJTcWxQb3VjaC5DaGFuZ2VzLm5vdGlmeShvKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ZS5jYW5jZWxsZWQ9ITAsd2ViU3FsUG91Y2guQ2hhbmdlcy5yZW1vdmVMaXN0ZW5lcihvLG4pfX19dmFyIGk9ZS5kZXNjZW5kaW5nO2Uuc2luY2U9ZS5zaW5jZSYmIWk/ZS5zaW5jZTowO3ZhciByPVtdO3QoKX0sYS5fY2xvc2U9ZnVuY3Rpb24oZSl7dXRpbHMuY2FsbChlLG51bGwpfSxhLl9nZXRBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxhPXQuY3R4LHI9ZS5kaWdlc3Qsbz1lLmNvbnRlbnRfdHlwZSxzPVwiU0VMRUNUIGJvZHkgRlJPTSBcIitBVFRBQ0hfU1RPUkUrXCIgV0hFUkUgZGlnZXN0PT9cIjthLmV4ZWN1dGVTcWwocyxbcl0sZnVuY3Rpb24oZSxhKXt2YXIgcj1hLnJvd3MuaXRlbSgwKS5ib2R5O2k9dC5lbmNvZGU/YnRvYShyKTp1dGlscy5jcmVhdGVCbG9iKFtyXSx7dHlwZTpvfSksdXRpbHMuY2FsbChuLG51bGwsaSl9KX0sYS5fZ2V0UmV2aXNpb25UcmVlPWZ1bmN0aW9uKGUsdCl7cy50cmFuc2FjdGlvbihmdW5jdGlvbihuKXt2YXIgaT1cIlNFTEVDVCBqc29uIEFTIG1ldGFkYXRhIEZST00gXCIrRE9DX1NUT1JFK1wiIFdIRVJFIGlkID0gP1wiO24uZXhlY3V0ZVNxbChpLFtlXSxmdW5jdGlvbihlLG4pe2lmKG4ucm93cy5sZW5ndGgpe3ZhciBpPUpTT04ucGFyc2Uobi5yb3dzLml0ZW0oMCkubWV0YWRhdGEpO3V0aWxzLmNhbGwodCxudWxsLGkucmV2X3RyZWUpfWVsc2UgdXRpbHMuY2FsbCh0LGVycm9ycy5NSVNTSU5HX0RPQyl9KX0pfSxhLl9kb0NvbXBhY3Rpb249ZnVuY3Rpb24oZSx0LG4saSl7cy50cmFuc2FjdGlvbihmdW5jdGlvbihhKXt2YXIgcj1cIlNFTEVDVCBqc29uIEFTIG1ldGFkYXRhIEZST00gXCIrRE9DX1NUT1JFK1wiIFdIRVJFIGlkID0gP1wiO2EuZXhlY3V0ZVNxbChyLFtlXSxmdW5jdGlvbihhLHIpe2lmKCFyLnJvd3MubGVuZ3RoKXJldHVybiB1dGlscy5jYWxsKGkpO3ZhciBvPUpTT04ucGFyc2Uoci5yb3dzLml0ZW0oMCkubWV0YWRhdGEpO28ucmV2X3RyZWU9dDt2YXIgcz1cIkRFTEVURSBGUk9NIFwiK0JZX1NFUV9TVE9SRStcIiBXSEVSRSBkb2NfaWRfcmV2IElOIChcIituLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcXVvdGUoZStcIjo6XCIrdCl9KS5qb2luKFwiLFwiKStcIilcIjthLmV4ZWN1dGVTcWwocyxbXSxmdW5jdGlvbih0KXt2YXIgbj1cIlVQREFURSBcIitET0NfU1RPUkUrXCIgU0VUIGpzb24gPSA/IFdIRVJFIGlkID0gP1wiO3QuZXhlY3V0ZVNxbChuLFtKU09OLnN0cmluZ2lmeShvKSxlXSxmdW5jdGlvbigpe2koKX0pfSl9KX0pfSxhKTp1dGlscy5jYWxsKHQsZXJyb3JzLlVOS05PV05fRVJST1IpfXZhciB1dGlscz1yZXF1aXJlKFwiLi4vdXRpbHNcIiksbWVyZ2U9cmVxdWlyZShcIi4uL21lcmdlXCIpLGVycm9ycz1yZXF1aXJlKFwiLi4vZGVwcy9lcnJvcnNcIiksUE9VQ0hfVkVSU0lPTj0xLFBPVUNIX1NJWkU9NTI0Mjg4MCxET0NfU1RPUkU9cXVvdGUoXCJkb2N1bWVudC1zdG9yZVwiKSxCWV9TRVFfU1RPUkU9cXVvdGUoXCJieS1zZXF1ZW5jZVwiKSxBVFRBQ0hfU1RPUkU9cXVvdGUoXCJhdHRhY2gtc3RvcmVcIiksTUVUQV9TVE9SRT1xdW90ZShcIm1ldGFkYXRhLXN0b3JlXCIpO3dlYlNxbFBvdWNoLnZhbGlkPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7aWYod2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci5zcWxpdGVQbHVnaW4mJndpbmRvdy5uYXZpZ2F0b3Iuc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZSlyZXR1cm4hMDtpZih3aW5kb3cuc3FsaXRlUGx1Z2luJiZ3aW5kb3cuc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZSlyZXR1cm4hMDtpZih3aW5kb3cub3BlbkRhdGFiYXNlKXJldHVybiEwfXJldHVybiExfSx3ZWJTcWxQb3VjaC5kZXN0cm95PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1vcGVuREIoZSxQT1VDSF9WRVJTSU9OLGUsUE9VQ0hfU0laRSk7aS50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoXCJEUk9QIFRBQkxFIElGIEVYSVNUUyBcIitET0NfU1RPUkUsW10pLGUuZXhlY3V0ZVNxbChcIkRST1AgVEFCTEUgSUYgRVhJU1RTIFwiK0JZX1NFUV9TVE9SRSxbXSksZS5leGVjdXRlU3FsKFwiRFJPUCBUQUJMRSBJRiBFWElTVFMgXCIrQVRUQUNIX1NUT1JFLFtdKSxlLmV4ZWN1dGVTcWwoXCJEUk9QIFRBQkxFIElGIEVYSVNUUyBcIitNRVRBX1NUT1JFLFtdKX0sdW5rbm93bkVycm9yKG4pLGZ1bmN0aW9uKCl7dXRpbHMuY2FsbChuLG51bGwpfSl9LHdlYlNxbFBvdWNoLkNoYW5nZXM9bmV3IHV0aWxzLkNoYW5nZXMsbW9kdWxlLmV4cG9ydHM9d2ViU3FsUG91Y2g7IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUG91Y2hEQihlLGEscil7aWYoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hEQikpcmV0dXJuIG5ldyBQb3VjaERCKGUsYSxyKTsoXCJmdW5jdGlvblwiPT10eXBlb2YgYXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEpJiYocj1hLGE9e30pLFwib2JqZWN0XCI9PXR5cGVvZiBlJiYoYT1lLGU9dm9pZCAwKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgciYmKHI9ZnVuY3Rpb24oKXt9KTt2YXIgaT1hLm5hbWV8fGUsdD1Qb3VjaERCLnBhcnNlQWRhcHRlcihpKTtpZihhLm9yaWdpbmFsTmFtZT1pLGEubmFtZT10Lm5hbWUsYS5hZGFwdGVyPWEuYWRhcHRlcnx8dC5hZGFwdGVyLCFQb3VjaERCLmFkYXB0ZXJzW2EuYWRhcHRlcl0pdGhyb3dcIkFkYXB0ZXIgaXMgbWlzc2luZ1wiO2lmKCFQb3VjaERCLmFkYXB0ZXJzW2EuYWRhcHRlcl0udmFsaWQoKSl0aHJvd1wiSW52YWxpZCBBZGFwdGVyXCI7dmFyIG49bmV3IEFkYXB0ZXIoYSxmdW5jdGlvbihlLGEpe2lmKGUpcmV0dXJuIHZvaWQociYmcihlKSk7Zm9yKHZhciBpIGluIFBvdWNoREIucGx1Z2lucyl7dmFyIHQ9UG91Y2hEQi5wbHVnaW5zW2ldKGEpO2Zvcih2YXIgbiBpbiB0KW4gaW4gYXx8KGFbbl09dFtuXSl9YS50YXNrcXVldWUucmVhZHkoITApLGEudGFza3F1ZXVlLmV4ZWN1dGUoYSkscihudWxsLGEpfSk7Zm9yKHZhciBvIGluIG4pdGhpc1tvXT1uW29dO2Zvcih2YXIgdSBpbiBQb3VjaERCLnBsdWdpbnMpe3ZhciBkPVBvdWNoREIucGx1Z2luc1t1XSh0aGlzKTtmb3IodmFyIHAgaW4gZClwIGluIHRoaXN8fCh0aGlzW3BdPWRbcF0pfX12YXIgQWRhcHRlcj1yZXF1aXJlKFwiLi9hZGFwdGVyXCIpKFBvdWNoREIpO21vZHVsZS5leHBvcnRzPVBvdWNoREI7IiwiKGZ1bmN0aW9uIChwcm9jZXNzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGFqYXgoZSxyKXtmdW5jdGlvbiB0KGUpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0eXBlb2YgZT09dHlwZW9mIEZ1bmN0aW9uJiZlLmFwcGx5KHRoaXMscil9ZnVuY3Rpb24gbyhyLG8scyl7aWYoZS5iaW5hcnl8fGUuanNvbnx8IWUucHJvY2Vzc0RhdGF8fFwic3RyaW5nXCI9PXR5cGVvZiByKXtpZighZS5iaW5hcnkmJmUuanNvbiYmXCJzdHJpbmdcIj09dHlwZW9mIHIpdHJ5e3I9SlNPTi5wYXJzZShyKX1jYXRjaChuKXtyZXR1cm4gdm9pZCB0KHMsbil9fWVsc2Ugcj1KU09OLnN0cmluZ2lmeShyKTtBcnJheS5pc0FycmF5KHIpJiYocj1yLm1hcChmdW5jdGlvbihlKXt2YXIgcjtyZXR1cm4gZS5vaz9lOmUuZXJyb3ImJlwiY29uZmxpY3RcIj09PWUuZXJyb3I/KHI9ZXJyb3JzLlJFVl9DT05GTElDVCxyLmlkPWUuaWQscik6ZS5taXNzaW5nPyhyPWVycm9ycy5NSVNTSU5HX0RPQyxyLm1pc3Npbmc9ZS5taXNzaW5nLHIpOnZvaWQgMH0pKSx0KHMsbnVsbCxyLG8pfWZ1bmN0aW9uIHMoZSxyKXt2YXIgbyxzLG4sYTt0cnl7bz1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KTtmb3IoYSBpbiBlcnJvcnMpaWYoZXJyb3JzW2FdLm5hbWU9PT1vLmVycm9yKXtuPWVycm9yc1thXTticmVha31uPW58fGVycm9ycy5VTktOT1dOX0VSUk9SLHM9ZXJyb3JzLmVycm9yKG4sby5yZWFzb24pfWNhdGNoKGkpe3M9ZXJyb3JzLmVycm9yKGVycm9ycy5VTktOT1dOX0VSUk9SKX10KHIscyl9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHI9ZSxlPXt9KTt2YXIgbj17bWV0aG9kOlwiR0VUXCIsaGVhZGVyczp7fSxqc29uOiEwLHByb2Nlc3NEYXRhOiEwLHRpbWVvdXQ6MWU0fTtpZihlPWV4dGVuZCghMCxuLGUpLHByb2Nlc3MuYnJvd3NlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0KXt2YXIgYSxpPSExLHA9bmV3IFhNTEh0dHBSZXF1ZXN0O3Aub3BlbihlLm1ldGhvZCxlLnVybCkscC53aXRoQ3JlZGVudGlhbHM9ITAsZS5qc29uJiYoZS5oZWFkZXJzLkFjY2VwdD1cImFwcGxpY2F0aW9uL2pzb25cIixlLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09ZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIixlLmJvZHkmJmUucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBlLmJvZHkmJihlLmJvZHk9SlNPTi5zdHJpbmdpZnkoZS5ib2R5KSkpLGUuYmluYXJ5JiYocC5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKTt2YXIgdT1mdW5jdGlvbihlLHIsdCl7dmFyIG89XCJcIjtpZih0KXt2YXIgcz1uZXcgRGF0ZTtzLnNldFRpbWUocy5nZXRUaW1lKCkrMjQqdCo2MCo2MCoxZTMpLG89XCI7IGV4cGlyZXM9XCIrcy50b0dNVFN0cmluZygpfWRvY3VtZW50LmNvb2tpZT1lK1wiPVwiK3IrbytcIjsgcGF0aD0vXCJ9O2Zvcih2YXIgYyBpbiBlLmhlYWRlcnMpaWYoXCJDb29raWVcIj09PWMpe3ZhciBkPWUuaGVhZGVyc1tjXS5zcGxpdChcIj1cIik7dShkWzBdLGRbMV0sMTApfWVsc2UgcC5zZXRSZXF1ZXN0SGVhZGVyKGMsZS5oZWFkZXJzW2NdKTtcImJvZHlcImluIGV8fChlLmJvZHk9bnVsbCk7dmFyIHk9ZnVuY3Rpb24oKXtpPSEwLHAuYWJvcnQoKSx0KHMscCxyKX07cmV0dXJuIHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PXAucmVhZHlTdGF0ZSYmIWkpaWYoY2xlYXJUaW1lb3V0KGEpLHAuc3RhdHVzPj0yMDAmJnAuc3RhdHVzPDMwMCl7dmFyIG47bj1lLmJpbmFyeT9jcmVhdGVCbG9iKFtwLnJlc3BvbnNlfHxcIlwiXSx7dHlwZTpwLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpfSk6cC5yZXNwb25zZVRleHQsdChvLG4scCxyKX1lbHNlIHQocyxwLHIpfSxlLnRpbWVvdXQ+MCYmKGE9c2V0VGltZW91dCh5LGUudGltZW91dCkscC51cGxvYWQub25wcm9ncmVzcz1wLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYSksYT1zZXRUaW1lb3V0KHksZS50aW1lb3V0KX0pLHAuc2VuZChlLmJvZHkpLHthYm9ydDp5fX1yZXR1cm4gZS5qc29uJiYoZS5iaW5hcnl8fChlLmhlYWRlcnMuQWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiKSxlLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09ZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIiksZS5iaW5hcnkmJihlLmVuY29kaW5nPW51bGwsZS5qc29uPSExKSxlLnByb2Nlc3NEYXRhfHwoZS5qc29uPSExKSxyZXF1ZXN0KGUsZnVuY3Rpb24obixhLGkpe2lmKG4pcmV0dXJuIG4uc3RhdHVzPWE/YS5zdGF0dXNDb2RlOjQwMCx0KHMsbixyKTt2YXIgcCx1PWEuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSxjPWl8fFwiXCI7ZS5iaW5hcnl8fCFlLmpzb24mJmUucHJvY2Vzc0RhdGF8fFwib2JqZWN0XCI9PXR5cGVvZiBjfHwhKC9qc29uLy50ZXN0KHUpfHwvXltcXHNdKlxcey8udGVzdChjKSYmL1xcfVtcXHNdKiQvLnRlc3QoYykpfHwoYz1KU09OLnBhcnNlKGMpKSxhLnN0YXR1c0NvZGU+PTIwMCYmYS5zdGF0dXNDb2RlPDMwMD90KG8sYyxhLHIpOihlLmJpbmFyeSYmKGM9SlNPTi5wYXJzZShjLnRvU3RyaW5nKCkpKSxwPVwibWlzc2luZ1wiPT09Yy5yZWFzb24/ZXJyb3JzLk1JU1NJTkdfRE9DOlwibm9fZGJfZmlsZVwiPT09Yy5yZWFzb24/ZXJyb3JzLmVycm9yKGVycm9ycy5EQl9NSVNTSU5HLGMucmVhc29uKTpcImNvbmZsaWN0XCI9PT1jLmVycm9yP2Vycm9ycy5SRVZfQ09ORkxJQ1Q6ZXJyb3JzLmVycm9yKGVycm9ycy5VTktOT1dOX0VSUk9SLGMucmVhc29uLGMuZXJyb3IpLHAuc3RhdHVzPWEuc3RhdHVzQ29kZSx0KHIscCkpfSl9dmFyIHJlcXVlc3Q9cmVxdWlyZShcInJlcXVlc3RcIiksZXh0ZW5kPXJlcXVpcmUoXCIuL2V4dGVuZC5qc1wiKSxjcmVhdGVCbG9iPXJlcXVpcmUoXCIuL2Jsb2IuanNcIiksZXJyb3JzPXJlcXVpcmUoXCIuL2Vycm9yc1wiKTttb2R1bGUuZXhwb3J0cz1hamF4O1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaW5zZXJ0LW1vZHVsZS1nbG9iYWxzL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIikpIiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlQmxvYihlLG8pe2U9ZXx8W10sbz1vfHx7fTt0cnl7cmV0dXJuIG5ldyBCbG9iKGUsbyl9Y2F0Y2gocil7aWYoXCJUeXBlRXJyb3JcIiE9PXIubmFtZSl0aHJvdyByO2Zvcih2YXIgdD13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcixsPW5ldyB0LG49MDtuPGUubGVuZ3RoO24rPTEpbC5hcHBlbmQoZVtuXSk7cmV0dXJuIGwuZ2V0QmxvYihvLnR5cGUpfX1tb2R1bGUuZXhwb3J0cz1jcmVhdGVCbG9iOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFBvdWNoRXJyb3Iocil7dGhpcy5zdGF0dXM9ci5zdGF0dXMsdGhpcy5uYW1lPXIuZXJyb3IsdGhpcy5tZXNzYWdlPXIucmVhc29uLHRoaXMuZXJyb3I9ITB9UG91Y2hFcnJvci5wcm90b3R5cGU9bmV3IEVycm9yLGV4cG9ydHMuTUlTU0lOR19CVUxLX0RPQ1M9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MDAsZXJyb3I6XCJiYWRfcmVxdWVzdFwiLHJlYXNvbjpcIk1pc3NpbmcgSlNPTiBsaXN0IG9mICdkb2NzJ1wifSksZXhwb3J0cy5NSVNTSU5HX0RPQz1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQwNCxlcnJvcjpcIm5vdF9mb3VuZFwiLHJlYXNvbjpcIm1pc3NpbmdcIn0pLGV4cG9ydHMuUkVWX0NPTkZMSUNUPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDA5LGVycm9yOlwiY29uZmxpY3RcIixyZWFzb246XCJEb2N1bWVudCB1cGRhdGUgY29uZmxpY3RcIn0pLGV4cG9ydHMuSU5WQUxJRF9JRD1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQwMCxlcnJvcjpcImludmFsaWRfaWRcIixyZWFzb246XCJfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nXCJ9KSxleHBvcnRzLk1JU1NJTkdfSUQ9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MTIsZXJyb3I6XCJtaXNzaW5nX2lkXCIscmVhc29uOlwiX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzXCJ9KSxleHBvcnRzLlJFU0VSVkVEX0lEPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDAwLGVycm9yOlwiYmFkX3JlcXVlc3RcIixyZWFzb246XCJPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLlwifSksZXhwb3J0cy5OT1RfT1BFTj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQxMixlcnJvcjpcInByZWNvbmRpdGlvbl9mYWlsZWRcIixyZWFzb246XCJEYXRhYmFzZSBub3Qgb3BlbiBzbyBjYW5ub3QgY2xvc2VcIn0pLGV4cG9ydHMuVU5LTk9XTl9FUlJPUj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjUwMCxlcnJvcjpcInVua25vd25fZXJyb3JcIixyZWFzb246XCJEYXRhYmFzZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yXCJ9KSxleHBvcnRzLkJBRF9BUkc9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo1MDAsZXJyb3I6XCJiYWRhcmdcIixyZWFzb246XCJTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWRcIn0pLGV4cG9ydHMuSU5WQUxJRF9SRVFVRVNUPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDAwLGVycm9yOlwiaW52YWxpZF9yZXF1ZXN0XCIscmVhc29uOlwiUmVxdWVzdCB3YXMgaW52YWxpZFwifSksZXhwb3J0cy5RVUVSWV9QQVJTRV9FUlJPUj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQwMCxlcnJvcjpcInF1ZXJ5X3BhcnNlX2Vycm9yXCIscmVhc29uOlwiU29tZSBxdWVyeSBwYXJhbWV0ZXIgaXMgaW52YWxpZFwifSksZXhwb3J0cy5ET0NfVkFMSURBVElPTj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjUwMCxlcnJvcjpcImRvY192YWxpZGF0aW9uXCIscmVhc29uOlwiQmFkIHNwZWNpYWwgZG9jdW1lbnQgbWVtYmVyXCJ9KSxleHBvcnRzLkJBRF9SRVFVRVNUPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDAwLGVycm9yOlwiYmFkX3JlcXVlc3RcIixyZWFzb246XCJTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdFwifSksZXhwb3J0cy5OT1RfQU5fT0JKRUNUPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDAwLGVycm9yOlwiYmFkX3JlcXVlc3RcIixyZWFzb246XCJEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3RcIn0pLGV4cG9ydHMuREJfTUlTU0lORz1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQwNCxlcnJvcjpcIm5vdF9mb3VuZFwiLHJlYXNvbjpcIkRhdGFiYXNlIG5vdCBmb3VuZFwifSksZXhwb3J0cy5JREJfRVJST1I9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo1MDAsZXJyb3I6XCJpbmRleGVkX2RiX3dlbnRfYmFkXCIscmVhc29uOlwidW5rbm93blwifSksZXhwb3J0cy5XU1FfRVJST1I9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo1MDAsZXJyb3I6XCJ3ZWJfc3FsX3dlbnRfYmFkXCIscmVhc29uOlwidW5rbm93blwifSksZXhwb3J0cy5MREJfRVJST1I9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo1MDAsZXJyb3I6XCJsZXZlbERCX3dlbnRfd2VudF9iYWRcIixyZWFzb246XCJ1bmtub3duXCJ9KSxleHBvcnRzLmVycm9yPWZ1bmN0aW9uKHIsZSxvKXtmdW5jdGlvbiBzKCl7dGhpcy5tZXNzYWdlPWUsbyYmKHRoaXMubmFtZT1vKX1yZXR1cm4gcy5wcm90b3R5cGU9cixuZXcgcyhlKX07IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdHlwZSh0KXtyZXR1cm4gbnVsbD09PXQ/U3RyaW5nKHQpOlwib2JqZWN0XCI9PXR5cGVvZiB0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2NsYXNzMnR5cGVbY29yZV90b1N0cmluZy5jYWxsKHQpXXx8XCJvYmplY3RcIjp0eXBlb2YgdH1mdW5jdGlvbiBpc1dpbmRvdyh0KXtyZXR1cm4gbnVsbCE9PXQmJnQ9PT10LndpbmRvd31mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHQpe2lmKCF0fHxcIm9iamVjdFwiIT09dHlwZSh0KXx8dC5ub2RlVHlwZXx8aXNXaW5kb3codCkpcmV0dXJuITE7dHJ5e2lmKHQuY29uc3RydWN0b3ImJiFjb3JlX2hhc093bi5jYWxsKHQsXCJjb25zdHJ1Y3RvclwiKSYmIWNvcmVfaGFzT3duLmNhbGwodC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJpc1Byb3RvdHlwZU9mXCIpKXJldHVybiExfWNhdGNoKHIpe3JldHVybiExfXZhciBlO2ZvcihlIGluIHQpO3JldHVybiB2b2lkIDA9PT1lfHxjb3JlX2hhc093bi5jYWxsKHQsZSl9ZnVuY3Rpb24gaXNGdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlKHQpfWZ1bmN0aW9uIGV4dGVuZCgpe3ZhciB0LHIsZSxuLG8saSxjPWFyZ3VtZW50c1swXXx8e30scz0xLGE9YXJndW1lbnRzLmxlbmd0aCx1PSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGMmJih1PWMsYz1hcmd1bWVudHNbMV18fHt9LHM9MiksXCJvYmplY3RcIj09dHlwZW9mIGN8fGlzRnVuY3Rpb24oYyl8fChjPXt9KSxhPT09cyYmKGM9dGhpcywtLXMpO2E+cztzKyspaWYobnVsbCE9KHQ9YXJndW1lbnRzW3NdKSlmb3IociBpbiB0KWU9Y1tyXSxuPXRbcl0sYyE9PW4mJih1JiZuJiYoaXNQbGFpbk9iamVjdChuKXx8KG89aXNBcnJheShuKSkpPyhvPyhvPSExLGk9ZSYmaXNBcnJheShlKT9lOltdKTppPWUmJmlzUGxhaW5PYmplY3QoZSk/ZTp7fSxjW3JdPWV4dGVuZCh1LGksbikpOnZvaWQgMCE9PW4mJihpc0FycmF5KHQpJiZpc0Z1bmN0aW9uKG4pfHwoY1tyXT1uKSkpO3JldHVybiBjfWZvcih2YXIgY2xhc3MydHlwZT17fSx0eXBlcz1bXCJCb29sZWFuXCIsXCJOdW1iZXJcIixcIlN0cmluZ1wiLFwiRnVuY3Rpb25cIixcIkFycmF5XCIsXCJEYXRlXCIsXCJSZWdFeHBcIixcIk9iamVjdFwiLFwiRXJyb3JcIl0saT0wO2k8dHlwZXMubGVuZ3RoO2krKyl7dmFyIHR5cGVuYW1lPXR5cGVzW2ldO2NsYXNzMnR5cGVbXCJbb2JqZWN0IFwiK3R5cGVuYW1lK1wiXVwiXT10eXBlbmFtZS50b0xvd2VyQ2FzZSgpfXZhciBjb3JlX3RvU3RyaW5nPWNsYXNzMnR5cGUudG9TdHJpbmcsY29yZV9oYXNPd249Y2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eSxpc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiYXJyYXlcIj09PXR5cGUodCl9O21vZHVsZS5leHBvcnRzPWV4dGVuZDsiLCIoZnVuY3Rpb24gKHByb2Nlc3Mpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGNyeXB0bz1yZXF1aXJlKFwiY3J5cHRvXCIpO2V4cG9ydHMuTUQ1PWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocixuKXtyZXR1cm4gcjw8bnxyPj4+MzItbn1mdW5jdGlvbiB0KHIsbil7dmFyIHQsZSx1LG8sYztyZXR1cm4gdT0yMTQ3NDgzNjQ4JnIsbz0yMTQ3NDgzNjQ4Jm4sdD0xMDczNzQxODI0JnIsZT0xMDczNzQxODI0Jm4sYz0oMTA3Mzc0MTgyMyZyKSsoMTA3Mzc0MTgyMyZuKSx0JmU/MjE0NzQ4MzY0OF5jXnVebzp0fGU/MTA3Mzc0MTgyNCZjPzMyMjEyMjU0NzJeY151Xm86MTA3Mzc0MTgyNF5jXnVebzpjXnVeb31mdW5jdGlvbiBlKHIsbix0KXtyZXR1cm4gciZufH5yJnR9ZnVuY3Rpb24gdShyLG4sdCl7cmV0dXJuIHImdHxuJn50fWZ1bmN0aW9uIG8ocixuLHQpe3JldHVybiByXm5edH1mdW5jdGlvbiBjKHIsbix0KXtyZXR1cm4gbl4ocnx+dCl9ZnVuY3Rpb24gaShyLHUsbyxjLGksZixhKXtyZXR1cm4gcj10KHIsdCh0KGUodSxvLGMpLGkpLGEpKSx0KG4ocixmKSx1KX1mdW5jdGlvbiBmKHIsZSxvLGMsaSxmLGEpe3JldHVybiByPXQocix0KHQodShlLG8sYyksaSksYSkpLHQobihyLGYpLGUpfWZ1bmN0aW9uIGEocixlLHUsYyxpLGYsYSl7cmV0dXJuIHI9dChyLHQodChvKGUsdSxjKSxpKSxhKSksdChuKHIsZiksZSl9ZnVuY3Rpb24gcyhyLGUsdSxvLGksZixhKXtyZXR1cm4gcj10KHIsdCh0KGMoZSx1LG8pLGkpLGEpKSx0KG4ocixmKSxlKX1mdW5jdGlvbiBoKHIpe2Zvcih2YXIgbix0PXIubGVuZ3RoLGU9dCs4LHU9KGUtZSU2NCkvNjQsbz0xNioodSsxKSxjPW5ldyBBcnJheShvLTEpLGk9MCxmPTA7dD5mOyluPShmLWYlNCkvNCxpPWYlNCo4LGNbbl09Y1tuXXxyLmNoYXJDb2RlQXQoZik8PGksZisrO3JldHVybiBuPShmLWYlNCkvNCxpPWYlNCo4LGNbbl09Y1tuXXwxMjg8PGksY1tvLTJdPXQ8PDMsY1tvLTFdPXQ+Pj4yOSxjfWZ1bmN0aW9uIHAocil7dmFyIG4sdCxlPVwiXCIsdT1cIlwiO2Zvcih0PTA7Mz49dDt0Kyspbj1yPj4+OCp0JjI1NSx1PVwiMFwiK24udG9TdHJpbmcoMTYpLGUrPXUuc3Vic3RyKHUubGVuZ3RoLTIsMik7cmV0dXJuIGV9aWYoIXByb2Nlc3MuYnJvd3NlcilyZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goXCJtZDVcIikudXBkYXRlKHIpLmRpZ2VzdChcImhleFwiKTt2YXIgdixnLGQseSxsLHcsYix4LEEsQz1bXSxtPTcscT0xMixEPTE3LEg9MjIsTD01LE09OSxTPTE0LGo9MjAsaz00LHo9MTEsQj0xNixFPTIzLEY9NixHPTEwLEk9MTUsSj0yMTtmb3IoQz1oKHIpLHc9MTczMjU4NDE5MyxiPTQwMjMyMzM0MTcseD0yNTYyMzgzMTAyLEE9MjcxNzMzODc4LHY9MDt2PEMubGVuZ3RoO3YrPTE2KWc9dyxkPWIseT14LGw9QSx3PWkodyxiLHgsQSxDW3YrMF0sbSwzNjE0MDkwMzYwKSxBPWkoQSx3LGIseCxDW3YrMV0scSwzOTA1NDAyNzEwKSx4PWkoeCxBLHcsYixDW3YrMl0sRCw2MDYxMDU4MTkpLGI9aShiLHgsQSx3LENbdiszXSxILDMyNTA0NDE5NjYpLHc9aSh3LGIseCxBLENbdis0XSxtLDQxMTg1NDgzOTkpLEE9aShBLHcsYix4LENbdis1XSxxLDEyMDAwODA0MjYpLHg9aSh4LEEsdyxiLENbdis2XSxELDI4MjE3MzU5NTUpLGI9aShiLHgsQSx3LENbdis3XSxILDQyNDkyNjEzMTMpLHc9aSh3LGIseCxBLENbdis4XSxtLDE3NzAwMzU0MTYpLEE9aShBLHcsYix4LENbdis5XSxxLDIzMzY1NTI4NzkpLHg9aSh4LEEsdyxiLENbdisxMF0sRCw0Mjk0OTI1MjMzKSxiPWkoYix4LEEsdyxDW3YrMTFdLEgsMjMwNDU2MzEzNCksdz1pKHcsYix4LEEsQ1t2KzEyXSxtLDE4MDQ2MDM2ODIpLEE9aShBLHcsYix4LENbdisxM10scSw0MjU0NjI2MTk1KSx4PWkoeCxBLHcsYixDW3YrMTRdLEQsMjc5Mjk2NTAwNiksYj1pKGIseCxBLHcsQ1t2KzE1XSxILDEyMzY1MzUzMjkpLHc9Zih3LGIseCxBLENbdisxXSxMLDQxMjkxNzA3ODYpLEE9ZihBLHcsYix4LENbdis2XSxNLDMyMjU0NjU2NjQpLHg9Zih4LEEsdyxiLENbdisxMV0sUyw2NDM3MTc3MTMpLGI9ZihiLHgsQSx3LENbdiswXSxqLDM5MjEwNjk5OTQpLHc9Zih3LGIseCxBLENbdis1XSxMLDM1OTM0MDg2MDUpLEE9ZihBLHcsYix4LENbdisxMF0sTSwzODAxNjA4MykseD1mKHgsQSx3LGIsQ1t2KzE1XSxTLDM2MzQ0ODg5NjEpLGI9ZihiLHgsQSx3LENbdis0XSxqLDM4ODk0Mjk0NDgpLHc9Zih3LGIseCxBLENbdis5XSxMLDU2ODQ0NjQzOCksQT1mKEEsdyxiLHgsQ1t2KzE0XSxNLDMyNzUxNjM2MDYpLHg9Zih4LEEsdyxiLENbdiszXSxTLDQxMDc2MDMzMzUpLGI9ZihiLHgsQSx3LENbdis4XSxqLDExNjM1MzE1MDEpLHc9Zih3LGIseCxBLENbdisxM10sTCwyODUwMjg1ODI5KSxBPWYoQSx3LGIseCxDW3YrMl0sTSw0MjQzNTYzNTEyKSx4PWYoeCxBLHcsYixDW3YrN10sUywxNzM1MzI4NDczKSxiPWYoYix4LEEsdyxDW3YrMTJdLGosMjM2ODM1OTU2Miksdz1hKHcsYix4LEEsQ1t2KzVdLGssNDI5NDU4ODczOCksQT1hKEEsdyxiLHgsQ1t2KzhdLHosMjI3MjM5MjgzMykseD1hKHgsQSx3LGIsQ1t2KzExXSxCLDE4MzkwMzA1NjIpLGI9YShiLHgsQSx3LENbdisxNF0sRSw0MjU5NjU3NzQwKSx3PWEodyxiLHgsQSxDW3YrMV0saywyNzYzOTc1MjM2KSxBPWEoQSx3LGIseCxDW3YrNF0seiwxMjcyODkzMzUzKSx4PWEoeCxBLHcsYixDW3YrN10sQiw0MTM5NDY5NjY0KSxiPWEoYix4LEEsdyxDW3YrMTBdLEUsMzIwMDIzNjY1Niksdz1hKHcsYix4LEEsQ1t2KzEzXSxrLDY4MTI3OTE3NCksQT1hKEEsdyxiLHgsQ1t2KzBdLHosMzkzNjQzMDA3NCkseD1hKHgsQSx3LGIsQ1t2KzNdLEIsMzU3MjQ0NTMxNyksYj1hKGIseCxBLHcsQ1t2KzZdLEUsNzYwMjkxODkpLHc9YSh3LGIseCxBLENbdis5XSxrLDM2NTQ2MDI4MDkpLEE9YShBLHcsYix4LENbdisxMl0seiwzODczMTUxNDYxKSx4PWEoeCxBLHcsYixDW3YrMTVdLEIsNTMwNzQyNTIwKSxiPWEoYix4LEEsdyxDW3YrMl0sRSwzMjk5NjI4NjQ1KSx3PXModyxiLHgsQSxDW3YrMF0sRiw0MDk2MzM2NDUyKSxBPXMoQSx3LGIseCxDW3YrN10sRywxMTI2ODkxNDE1KSx4PXMoeCxBLHcsYixDW3YrMTRdLEksMjg3ODYxMjM5MSksYj1zKGIseCxBLHcsQ1t2KzVdLEosNDIzNzUzMzI0MSksdz1zKHcsYix4LEEsQ1t2KzEyXSxGLDE3MDA0ODU1NzEpLEE9cyhBLHcsYix4LENbdiszXSxHLDIzOTk5ODA2OTApLHg9cyh4LEEsdyxiLENbdisxMF0sSSw0MjkzOTE1NzczKSxiPXMoYix4LEEsdyxDW3YrMV0sSiwyMjQwMDQ0NDk3KSx3PXModyxiLHgsQSxDW3YrOF0sRiwxODczMzEzMzU5KSxBPXMoQSx3LGIseCxDW3YrMTVdLEcsNDI2NDM1NTU1MikseD1zKHgsQSx3LGIsQ1t2KzZdLEksMjczNDc2ODkxNiksYj1zKGIseCxBLHcsQ1t2KzEzXSxKLDEzMDkxNTE2NDkpLHc9cyh3LGIseCxBLENbdis0XSxGLDQxNDk0NDQyMjYpLEE9cyhBLHcsYix4LENbdisxMV0sRywzMTc0NzU2OTE3KSx4PXMoeCxBLHcsYixDW3YrMl0sSSw3MTg3ODcyNTkpLGI9cyhiLHgsQSx3LENbdis5XSxKLDM5NTE0ODE3NDUpLHc9dCh3LGcpLGI9dChiLGQpLHg9dCh4LHkpLEE9dChBLGwpO3ZhciBLPXAodykrcChiKStwKHgpK3AoQSk7cmV0dXJuIEsudG9Mb3dlckNhc2UoKX07XG59KS5jYWxsKHRoaXMscmVxdWlyZShcIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiKSkiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB1dWlkKHUscil7dmFyIGksdD11dWlkLkNIQVJTLG89W107aWYocj1yfHx0Lmxlbmd0aCx1KWZvcihpPTA7dT5pO2krKylvW2ldPXRbMHxNYXRoLnJhbmRvbSgpKnJdO2Vsc2V7dmFyIGQ7Zm9yKG9bOF09b1sxM109b1sxOF09b1syM109XCItXCIsb1sxNF09XCI0XCIsaT0wOzM2Pmk7aSsrKW9baV18fChkPTB8MTYqTWF0aC5yYW5kb20oKSxvW2ldPXRbMTk9PT1pPzMmZHw4OmRdKX1yZXR1cm4gby5qb2luKFwiXCIpfXV1aWQuQ0hBUlM9XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLnNwbGl0KFwiXCIpLG1vZHVsZS5leHBvcnRzPXV1aWQ7IiwiKGZ1bmN0aW9uIChwcm9jZXNzKXtcblwidXNlIHN0cmljdFwiO3ZhciBQb3VjaERCPXJlcXVpcmUoXCIuL3NldHVwXCIpO21vZHVsZS5leHBvcnRzPVBvdWNoREIsUG91Y2hEQi5hamF4PXJlcXVpcmUoXCIuL2RlcHMvYWpheFwiKSxQb3VjaERCLmV4dGVuZD1yZXF1aXJlKFwiLi9kZXBzL2V4dGVuZFwiKSxQb3VjaERCLnV0aWxzPXJlcXVpcmUoXCIuL3V0aWxzXCIpLFBvdWNoREIuRXJyb3JzPXJlcXVpcmUoXCIuL2RlcHMvZXJyb3JzXCIpLFBvdWNoREIucmVwbGljYXRlPXJlcXVpcmUoXCIuL3JlcGxpY2F0ZVwiKS5yZXBsaWNhdGUsUG91Y2hEQi52ZXJzaW9uPXJlcXVpcmUoXCIuL3ZlcnNpb25cIik7dmFyIGh0dHBBZGFwdGVyPXJlcXVpcmUoXCIuL2FkYXB0ZXJzL2h0dHBcIik7aWYoUG91Y2hEQi5hZGFwdGVyKFwiaHR0cFwiLGh0dHBBZGFwdGVyKSxQb3VjaERCLmFkYXB0ZXIoXCJodHRwc1wiLGh0dHBBZGFwdGVyKSxQb3VjaERCLmFkYXB0ZXIoXCJpZGJcIixyZXF1aXJlKFwiLi9hZGFwdGVycy9pZGJcIikpLFBvdWNoREIuYWRhcHRlcihcIndlYnNxbFwiLHJlcXVpcmUoXCIuL2FkYXB0ZXJzL3dlYnNxbFwiKSksUG91Y2hEQi5wbHVnaW4oXCJtYXByZWR1Y2VcIixyZXF1aXJlKFwicG91Y2hkYi1tYXByZWR1Y2VcIikpLCFwcm9jZXNzLmJyb3dzZXIpe3ZhciBsZGJBZGFwdGVyPXJlcXVpcmUoXCIuL2FkYXB0ZXJzL2xldmVsZGJcIik7UG91Y2hEQi5hZGFwdGVyKFwibGRiXCIsbGRiQWRhcHRlciksUG91Y2hEQi5hZGFwdGVyKFwibGV2ZWxkYlwiLGxkYkFkYXB0ZXIpfVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaW5zZXJ0LW1vZHVsZS1nbG9iYWxzL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIikpIiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcGF0aFRvVHJlZShlKXtmb3IodmFyIHIsdD1lLnNoaWZ0KCkscz1bdC5pZCx0Lm9wdHMsW11dLG89cztlLmxlbmd0aDspdD1lLnNoaWZ0KCkscj1bdC5pZCx0Lm9wdHMsW11dLG9bMl0ucHVzaChyKSxvPXI7cmV0dXJuIHN9ZnVuY3Rpb24gbWVyZ2VUcmVlKGUscil7Zm9yKHZhciB0PVt7dHJlZTE6ZSx0cmVlMjpyfV0scz0hMTt0Lmxlbmd0aD4wOyl7dmFyIG89dC5wb3AoKSxuPW8udHJlZTEsaT1vLnRyZWUyOyhuWzFdLnN0YXR1c3x8aVsxXS5zdGF0dXMpJiYoblsxXS5zdGF0dXM9XCJhdmFpbGFibGVcIj09PW5bMV0uc3RhdHVzfHxcImF2YWlsYWJsZVwiPT09aVsxXS5zdGF0dXM/XCJhdmFpbGFibGVcIjpcIm1pc3NpbmdcIik7Zm9yKHZhciB1PTA7dTxpWzJdLmxlbmd0aDt1KyspaWYoblsyXVswXSl7Zm9yKHZhciBjPSExLHA9MDtwPG5bMl0ubGVuZ3RoO3ArKyluWzJdW3BdWzBdPT09aVsyXVt1XVswXSYmKHQucHVzaCh7dHJlZTE6blsyXVtwXSx0cmVlMjppWzJdW3VdfSksYz0hMCk7Y3x8KHM9XCJuZXdfYnJhbmNoXCIsblsyXS5wdXNoKGlbMl1bdV0pLG5bMl0uc29ydCgpKX1lbHNlIHM9XCJuZXdfbGVhZlwiLG5bMl1bMF09aVsyXVt1XX1yZXR1cm57Y29uZmxpY3RzOnMsdHJlZTplfX1mdW5jdGlvbiBkb01lcmdlKGUscix0KXt2YXIgcyxvPVtdLG49ITEsaT0hMTtyZXR1cm4gZS5sZW5ndGg/KGUuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLnBvcz09PXIucG9zJiZlLmlkc1swXT09PXIuaWRzWzBdKXM9bWVyZ2VUcmVlKGUuaWRzLHIuaWRzKSxvLnB1c2goe3BvczplLnBvcyxpZHM6cy50cmVlfSksbj1ufHxzLmNvbmZsaWN0cyxpPSEwO2Vsc2UgaWYodCE9PSEwKXt2YXIgdT1lLnBvczxyLnBvcz9lOnIsYz1lLnBvczxyLnBvcz9yOmUscD1jLnBvcy11LnBvcyxkPVtdLGY9W107Zm9yKGYucHVzaCh7aWRzOnUuaWRzLGRpZmY6cCxwYXJlbnQ6bnVsbCxwYXJlbnRJZHg6bnVsbH0pO2YubGVuZ3RoPjA7KXt2YXIgYT1mLnBvcCgpOzAhPT1hLmRpZmY/YS5pZHMmJmEuaWRzWzJdLmZvckVhY2goZnVuY3Rpb24oZSxyKXtmLnB1c2goe2lkczplLGRpZmY6YS5kaWZmLTEscGFyZW50OmEuaWRzLHBhcmVudElkeDpyfSl9KTphLmlkc1swXT09PWMuaWRzWzBdJiZkLnB1c2goYSl9dmFyIGg9ZFswXTtoPyhzPW1lcmdlVHJlZShoLmlkcyxjLmlkcyksaC5wYXJlbnRbMl1baC5wYXJlbnRJZHhdPXMudHJlZSxvLnB1c2goe3Bvczp1LnBvcyxpZHM6dS5pZHN9KSxuPW58fHMuY29uZmxpY3RzLGk9ITApOm8ucHVzaChlKX1lbHNlIG8ucHVzaChlKX0pLGl8fG8ucHVzaChyKSxvLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5wb3Mtci5wb3N9KSx7dHJlZTpvLGNvbmZsaWN0czpufHxcImludGVybmFsX25vZGVcIn0pOnt0cmVlOltyXSxjb25mbGljdHM6XCJuZXdfbGVhZlwifX1mdW5jdGlvbiBzdGVtKGUscil7dmFyIHQ9UG91Y2hNZXJnZS5yb290VG9MZWFmKGUpLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLmlkcy5zbGljZSgtcik7cmV0dXJue3BvczplLnBvcysoZS5pZHMubGVuZ3RoLXQubGVuZ3RoKSxpZHM6cGF0aFRvVHJlZSh0KX19KTtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZG9NZXJnZShlLHIsITApLnRyZWV9LFt0LnNoaWZ0KCldKX12YXIgZXh0ZW5kPXJlcXVpcmUoXCIuL2RlcHMvZXh0ZW5kXCIpLFBvdWNoTWVyZ2U9e307UG91Y2hNZXJnZS5tZXJnZT1mdW5jdGlvbihlLHIsdCl7ZT1leHRlbmQoITAsW10sZSkscj1leHRlbmQoITAse30scik7dmFyIHM9ZG9NZXJnZShlLHIpO3JldHVybnt0cmVlOnN0ZW0ocy50cmVlLHQpLGNvbmZsaWN0czpzLmNvbmZsaWN0c319LFBvdWNoTWVyZ2Uud2lubmluZ1Jldj1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gUG91Y2hNZXJnZS50cmF2ZXJzZVJldlRyZWUoZS5yZXZfdHJlZSxmdW5jdGlvbihlLHQscyxvLG4pe2UmJnIucHVzaCh7cG9zOnQsaWQ6cyxkZWxldGVkOiEhbi5kZWxldGVkfSl9KSxyLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5kZWxldGVkIT09ci5kZWxldGVkP2UuZGVsZXRlZD5yLmRlbGV0ZWQ/MTotMTplLnBvcyE9PXIucG9zP3IucG9zLWUucG9zOmUuaWQ8ci5pZD8xOi0xfSksclswXS5wb3MrXCItXCIrclswXS5pZH0sUG91Y2hNZXJnZS50cmF2ZXJzZVJldlRyZWU9ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXTtmb3IoZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7cG9zOmUucG9zLGlkczplLmlkc30pfSk7dC5sZW5ndGg+MDspe3ZhciBzPXQucG9wKCksbz1zLnBvcyxuPXMuaWRzLGk9cigwPT09blsyXS5sZW5ndGgsbyxuWzBdLHMuY3R4LG5bMV0pO25bMl0uZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goe3BvczpvKzEsaWRzOmUsY3R4Oml9KX0pfX0sUG91Y2hNZXJnZS5jb2xsZWN0TGVhdmVzPWZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBQb3VjaE1lcmdlLnRyYXZlcnNlUmV2VHJlZShlLGZ1bmN0aW9uKGUsdCxzLG8sbil7ZSYmci51bnNoaWZ0KHtyZXY6dCtcIi1cIitzLHBvczp0LG9wdHM6bn0pfSksci5zb3J0KGZ1bmN0aW9uKGUscil7cmV0dXJuIHIucG9zLWUucG9zfSksci5tYXAoZnVuY3Rpb24oZSl7ZGVsZXRlIGUucG9zfSkscn0sUG91Y2hNZXJnZS5jb2xsZWN0Q29uZmxpY3RzPWZ1bmN0aW9uKGUpe3ZhciByPVBvdWNoTWVyZ2Uud2lubmluZ1JldihlKSx0PVBvdWNoTWVyZ2UuY29sbGVjdExlYXZlcyhlLnJldl90cmVlKSxzPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZXY9PT1yfHxlLm9wdHMuZGVsZXRlZHx8cy5wdXNoKGUucmV2KX0pLHN9LFBvdWNoTWVyZ2Uucm9vdFRvTGVhZj1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gUG91Y2hNZXJnZS50cmF2ZXJzZVJldlRyZWUoZSxmdW5jdGlvbihlLHQscyxvLG4pe2lmKG89bz9vLnNsaWNlKDApOltdLG8ucHVzaCh7aWQ6cyxvcHRzOm59KSxlKXt2YXIgaT10KzEtby5sZW5ndGg7ci51bnNoaWZ0KHtwb3M6aSxpZHM6b30pfXJldHVybiBvfSkscn0sbW9kdWxlLmV4cG9ydHM9UG91Y2hNZXJnZTsiLCIoZnVuY3Rpb24gKHByb2Nlc3Mpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUHJvbWlzZSgpe3ZhciBlPXRoaXM7dGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5jYW5jZWw9ZnVuY3Rpb24oKXtlLmNhbmNlbGxlZD0hMH19ZnVuY3Rpb24gUmVxdWVzdE1hbmFnZXIoZSl7dmFyIG49W10sdD17fSxpPSExO3JldHVybiB0LmVucXVldWU9ZnVuY3Rpb24oZSxvKXtuLnB1c2goe2Z1bjplLGFyZ3M6b30pLGl8fHQucHJvY2VzcygpfSx0LnByb2Nlc3M9ZnVuY3Rpb24oKXtpZighaSYmbi5sZW5ndGgmJiFlLmNhbmNlbGxlZCl7aT0hMDt2YXIgdD1uLnNoaWZ0KCk7cHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe3QuZnVuLmFwcGx5KG51bGwsdC5hcmdzKX0pfX0sdC5ub3RpZnlSZXF1ZXN0Q29tcGxldGU9ZnVuY3Rpb24oKXtpPSExLHQucHJvY2VzcygpfSx0fWZ1bmN0aW9uIGdlblJlcGxpY2F0aW9uSWQoZSxuLHQpe3ZhciBpPXQuZmlsdGVyP3QuZmlsdGVyLnRvU3RyaW5nKCk6XCJcIjtyZXR1cm5cIl9sb2NhbC9cIitQb3VjaFV0aWxzLkNyeXB0by5NRDUoZS5pZCgpK24uaWQoKStpKX1mdW5jdGlvbiBmZXRjaENoZWNrcG9pbnQoZSxuLHQsaSl7bi5nZXQodCxmdW5jdGlvbihuLG8pe24mJjQwND09PW4uc3RhdHVzP2kobnVsbCwwKTpuP2kobik6ZS5nZXQodCxmdW5jdGlvbihlLG4pe2UmJjQwND09PWUuc3RhdHVzfHwhZSYmby5sYXN0X3NlcSE9PW4ubGFzdF9zZXE/aShudWxsLDApOmU/aShlKTppKG51bGwsbi5sYXN0X3NlcSl9KX0pfWZ1bmN0aW9uIHdyaXRlQ2hlY2twb2ludChlLG4sdCxpLG8pe2Z1bmN0aW9uIGMoZSxuKXtlLmdldCh0LGZ1bmN0aW9uKG8sYyl7byYmNDA0PT09by5zdGF0dXMmJihjPXtfaWQ6dH0pLGMubGFzdF9zZXE9aSxlLnB1dChjLG4pfSl9YyhuLGZ1bmN0aW9uKCl7YyhlLGZ1bmN0aW9uKCl7bygpfSl9KX1mdW5jdGlvbiByZXBsaWNhdGUoZSxuLHQsaSl7ZnVuY3Rpb24gbyhpLG8sYyl7aWYodC5vbkNoYW5nZSlmb3IodmFyIHI9MDtjPnI7cisrKXQub25DaGFuZ2UuYXBwbHkodGhpcyxbUF0pO20tPWMsUC5kb2NzX3dyaXR0ZW4rPWMsd3JpdGVDaGVja3BvaW50KGUsbixkLHEsZnVuY3Rpb24oKXtwLm5vdGlmeVJlcXVlc3RDb21wbGV0ZSgpLGYoKX0pfWZ1bmN0aW9uIGMoKXtpZighaC5sZW5ndGgpcmV0dXJuIHAubm90aWZ5UmVxdWVzdENvbXBsZXRlKCk7dmFyIGU9aC5sZW5ndGg7bi5idWxrRG9jcyh7ZG9jczpofSx7bmV3X2VkaXRzOiExfSxmdW5jdGlvbihuLHQpe28obix0LGUpfSksaD1bXX1mdW5jdGlvbiByKG4sdCl7ZS5nZXQobix7cmV2czohMCxyZXY6dCxhdHRhY2htZW50czohMH0sZnVuY3Rpb24oZSxuKXtQLmRvY3NfcmVhZCsrLHAubm90aWZ5UmVxdWVzdENvbXBsZXRlKCksaC5wdXNoKG4pLHAuZW5xdWV1ZShjKX0pfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKG4sbyl7aWYocC5ub3RpZnlSZXF1ZXN0Q29tcGxldGUoKSxuKXJldHVybiB5JiZpLmNhbmNlbCgpLHZvaWQgUG91Y2hVdGlscy5jYWxsKHQuY29tcGxldGUsbixudWxsKTtpZigwPT09T2JqZWN0LmtleXMobykubGVuZ3RoKXtmb3IodmFyIGMgaW4gZSltLT1lW2NdO3JldHVybiB2b2lkIGYoKX12YXIgdT1mdW5jdGlvbihlKXtwLmVucXVldWUocixbbCxlXSl9O2Zvcih2YXIgbCBpbiBvKXt2YXIgcz1lW2xdLW9bbF0ubWlzc2luZy5sZW5ndGg7bS09cyxvW2xdLm1pc3NpbmcuZm9yRWFjaCh1KX19fWZ1bmN0aW9uIGwoZSx0KXtuLnJldnNEaWZmKGUsdSh0KSl9ZnVuY3Rpb24gcyhlKXtxPWUuc2VxLHYucHVzaChlKTt2YXIgbj17fTtuW2UuaWRdPWUuY2hhbmdlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2fSk7dmFyIHQ9e307dFtlLmlkXT1lLmNoYW5nZXMubGVuZ3RoLG0rPWUuY2hhbmdlcy5sZW5ndGgscC5lbnF1ZXVlKGwsW24sdF0pfWZ1bmN0aW9uIGEoKXtnPSEwLGYoKX1mdW5jdGlvbiBmKCl7ZyYmMD09PW0mJihQLmVuZF90aW1lPW5ldyBEYXRlLFBvdWNoVXRpbHMuY2FsbCh0LmNvbXBsZXRlLG51bGwsUCkpfXZhciBwPW5ldyBSZXF1ZXN0TWFuYWdlcihpKSxoPVtdLGQ9Z2VuUmVwbGljYXRpb25JZChlLG4sdCksdj1bXSxnPSExLG09MCxxPTAseT10LmNvbnRpbnVvdXN8fCExLF89dC5kb2NfaWRzLFA9e29rOiEwLHN0YXJ0X3RpbWU6bmV3IERhdGUsZG9jc19yZWFkOjAsZG9jc193cml0dGVuOjB9O2ZldGNoQ2hlY2twb2ludChlLG4sZCxmdW5jdGlvbihuLG8pe2lmKG4pcmV0dXJuIFBvdWNoVXRpbHMuY2FsbCh0LmNvbXBsZXRlLG4pO2lmKHE9bywhaS5jYW5jZWxsZWQpe3ZhciBjPXtjb250aW51b3VzOnksc2luY2U6cSxzdHlsZTpcImFsbF9kb2NzXCIsb25DaGFuZ2U6cyxjb21wbGV0ZTphLGRvY19pZHM6X307dC5maWx0ZXImJihjLmZpbHRlcj10LmZpbHRlciksdC5xdWVyeV9wYXJhbXMmJihjLnF1ZXJ5X3BhcmFtcz10LnF1ZXJ5X3BhcmFtcyk7dmFyIHI9ZS5jaGFuZ2VzKGMpO2lmKHQuY29udGludW91cyl7dmFyIHU9aS5jYW5jZWw7aS5jYW5jZWw9ZnVuY3Rpb24oKXt1KCksci5jYW5jZWwoKX19fX0pfWZ1bmN0aW9uIHRvUG91Y2goZSxuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9uZXcgUG91Y2goZSxuKTp2b2lkIG4obnVsbCxlKX12YXIgUG91Y2hVdGlscz1yZXF1aXJlKFwiLi91dGlsc1wiKSxQb3VjaD1yZXF1aXJlKFwiLi9pbmRleFwiKTtleHBvcnRzLnJlcGxpY2F0ZT1mdW5jdGlvbihlLG4sdCxpKXt0IGluc3RhbmNlb2YgRnVuY3Rpb24mJihpPXQsdD17fSksdm9pZCAwPT09dCYmKHQ9e30pLHQuY29tcGxldGV8fCh0LmNvbXBsZXRlPWkpO3ZhciBvPW5ldyBQcm9taXNlO3JldHVybiB0b1BvdWNoKGUsZnVuY3Rpb24oZSxjKXtyZXR1cm4gZT9Qb3VjaFV0aWxzLmNhbGwoaSxlKTp2b2lkIHRvUG91Y2gobixmdW5jdGlvbihlLG4pe2lmKGUpcmV0dXJuIFBvdWNoVXRpbHMuY2FsbChpLGUpO2lmKHQuc2VydmVyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjLnJlcGxpY2F0ZU9uU2VydmVyKXJldHVybiBQb3VjaFV0aWxzLmNhbGwoaSx7ZXJyb3I6XCJTZXJ2ZXIgcmVwbGljYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgXCIrYy50eXBlKCkrXCIgYWRhcHRlclwifSk7aWYoYy50eXBlKCkhPT1uLnR5cGUoKSlyZXR1cm4gUG91Y2hVdGlscy5jYWxsKGkse2Vycm9yOlwiU2VydmVyIHJlcGxpY2F0aW9uIGZvciBkaWZmZXJlbnQgYWRhcHRlciB0eXBlcyAoXCIrYy50eXBlKCkrXCIgYW5kIFwiK24udHlwZSgpK1wiKSBpcyBub3Qgc3VwcG9ydGVkXCJ9KTtjLnJlcGxpY2F0ZU9uU2VydmVyKG4sdCxvKX1lbHNlIHJlcGxpY2F0ZShjLG4sdCxvKX0pfSksb307XG59KS5jYWxsKHRoaXMscmVxdWlyZShcIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiKSkiLCJcInVzZSBzdHJpY3RcIjt2YXIgUG91Y2hEQj1yZXF1aXJlKFwiLi9jb25zdHJ1Y3RvclwiKTtQb3VjaERCLmFkYXB0ZXJzPXt9LFBvdWNoREIucGx1Z2lucz17fSxQb3VjaERCLnByZWZpeD1cIl9wb3VjaF9cIixQb3VjaERCLnBhcnNlQWRhcHRlcj1mdW5jdGlvbihvKXt2YXIgZSxuPW8ubWF0Y2goLyhbYS16XFwtXSopOlxcL1xcLyguKikvKTtpZihuKXtpZihvPS9odHRwKHM/KS8udGVzdChuWzFdKT9uWzFdK1wiOi8vXCIrblsyXTpuWzJdLGU9blsxXSwhUG91Y2hEQi5hZGFwdGVyc1tlXS52YWxpZCgpKXRocm93XCJJbnZhbGlkIGFkYXB0ZXJcIjtyZXR1cm57bmFtZTpvLGFkYXB0ZXI6blsxXX19Zm9yKHZhciB1PVtcImlkYlwiLFwibGV2ZWxkYlwiLFwid2Vic3FsXCJdLHQ9MDt0PHUubGVuZ3RoOysrdClpZih1W3RdaW4gUG91Y2hEQi5hZGFwdGVycyl7ZT1Qb3VjaERCLmFkYXB0ZXJzW3VbdF1dO3ZhciByPVwidXNlX3ByZWZpeFwiaW4gZT9lLnVzZV9wcmVmaXg6ITA7cmV0dXJue25hbWU6cj9Qb3VjaERCLnByZWZpeCtvOm8sYWRhcHRlcjp1W3RdfX10aHJvd1wiTm8gdmFsaWQgYWRhcHRlciBmb3VuZFwifSxQb3VjaERCLmRlc3Ryb3k9ZnVuY3Rpb24obyxlLG4peyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZSkmJihuPWUsZT17fSksXCJvYmplY3RcIj09dHlwZW9mIG8mJihlPW8sbz12b2lkIDApLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuJiYobj1mdW5jdGlvbigpe30pO3ZhciB1PVBvdWNoREIucGFyc2VBZGFwdGVyKGUubmFtZXx8byksdD11Lm5hbWUscj1mdW5jdGlvbihvKXtpZihvKXJldHVybiB2b2lkIG4obyk7Zm9yKHZhciByIGluIFBvdWNoREIucGx1Z2lucylQb3VjaERCLnBsdWdpbnNbcl0uX2RlbGV0ZSh0KTtQb3VjaERCLmFkYXB0ZXJzW3UuYWRhcHRlcl0uZGVzdHJveSh0LGUsbil9O1BvdWNoREIucmVtb3ZlRnJvbUFsbERicyh1LHIpfSxQb3VjaERCLnJlbW92ZUZyb21BbGxEYnM9ZnVuY3Rpb24obyxlKXtpZighUG91Y2hEQi5lbmFibGVBbGxEYnMpcmV0dXJuIHZvaWQgZSgpO3ZhciBuPW8uYWRhcHRlcjtyZXR1cm5cImh0dHBcIj09PW58fFwiaHR0cHNcIj09PW4/dm9pZCBlKCk6dm9pZCBuZXcgUG91Y2hEQihQb3VjaERCLmFsbERCTmFtZShvLmFkYXB0ZXIpLGZ1bmN0aW9uKG4sdSl7aWYobilyZXR1cm4gdm9pZCBlKCk7dmFyIHQ9UG91Y2hEQi5kYk5hbWUoby5hZGFwdGVyLG8ubmFtZSk7dS5nZXQodCxmdW5jdGlvbihvLG4pe28/ZSgpOnUucmVtb3ZlKG4sZnVuY3Rpb24obyl7ZSgpfSl9KX0pfSxQb3VjaERCLmFkYXB0ZXI9ZnVuY3Rpb24obyxlKXtlLnZhbGlkKCkmJihQb3VjaERCLmFkYXB0ZXJzW29dPWUpfSxQb3VjaERCLnBsdWdpbj1mdW5jdGlvbihvLGUpe1BvdWNoREIucGx1Z2luc1tvXT1lfSxQb3VjaERCLmVuYWJsZUFsbERicz0hMSxQb3VjaERCLkFMTF9EQlM9XCJfYWxsRGJzXCIsUG91Y2hEQi5kYk5hbWU9ZnVuY3Rpb24obyxlKXtyZXR1cm5bbyxcIi1cIixlXS5qb2luKFwiXCIpfSxQb3VjaERCLnJlYWxEQk5hbWU9ZnVuY3Rpb24obyxlKXtyZXR1cm5bbyxcIjovL1wiLGVdLmpvaW4oXCJcIil9LFBvdWNoREIuYWxsREJOYW1lPWZ1bmN0aW9uKG8pe3JldHVybltvLFwiOi8vXCIsUG91Y2hEQi5wcmVmaXgrUG91Y2hEQi5BTExfREJTXS5qb2luKFwiXCIpfSxQb3VjaERCLm9wZW49ZnVuY3Rpb24obyxlKXtpZighUG91Y2hEQi5lbmFibGVBbGxEYnMpcmV0dXJuIHZvaWQgZSgpO3ZhciBuPW8uYWRhcHRlcjtyZXR1cm5cImh0dHBcIj09PW58fFwiaHR0cHNcIj09PW4/dm9pZCBlKCk6dm9pZCBuZXcgUG91Y2hEQihQb3VjaERCLmFsbERCTmFtZShuKSxmdW5jdGlvbih1LHQpe2lmKHUpcmV0dXJuIHZvaWQgZSgpO3ZhciByPVBvdWNoREIuZGJOYW1lKG4sby5uYW1lKTt0LmdldChyLGZ1bmN0aW9uKG4pe24mJjQwND09PW4uc3RhdHVzP3QucHV0KHtfaWQ6cixkYm5hbWU6by5vcmlnaW5hbE5hbWV9LGZ1bmN0aW9uKG8pe2UoKX0pOmUoKX0pfSl9LFBvdWNoREIuYWxsRGJzPWZ1bmN0aW9uKG8pe3ZhciBlPWZ1bmN0aW9uKG4sdSl7aWYoMD09PW4ubGVuZ3RoKXt2YXIgdD1bXTtyZXR1cm4gdS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBlPXQuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PW8uaWR9KTtlfHx0LnB1c2gobyl9KSx2b2lkIG8obnVsbCx0Lm1hcChmdW5jdGlvbihvKXtyZXR1cm4gby5kb2MuZGJuYW1lfSkpfXZhciByPW4uc2hpZnQoKTtyZXR1cm5cImh0dHBcIj09PXJ8fFwiaHR0cHNcIj09PXI/dm9pZCBlKG4sdSk6dm9pZCBuZXcgUG91Y2hEQihQb3VjaERCLmFsbERCTmFtZShyKSxmdW5jdGlvbih0LHIpe3JldHVybiB0P3ZvaWQgbyh0KTp2b2lkIHIuYWxsRG9jcyh7aW5jbHVkZV9kb2NzOiEwfSxmdW5jdGlvbih0LHIpe3JldHVybiB0P3ZvaWQgbyh0KToodS51bnNoaWZ0LmFwcGx5KHUsci5yb3dzKSx2b2lkIGUobix1KSl9KX0pfSxuPU9iamVjdC5rZXlzKFBvdWNoREIuYWRhcHRlcnMpO2UobixbXSl9LG1vZHVsZS5leHBvcnRzPVBvdWNoREI7IiwiZnVuY3Rpb24gaXNDaHJvbWVBcHAoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUuc3RvcmFnZS5sb2NhbH12YXIgbWVyZ2U9cmVxdWlyZShcIi4vbWVyZ2VcIik7ZXhwb3J0cy5leHRlbmQ9cmVxdWlyZShcIi4vZGVwcy9leHRlbmRcIiksZXhwb3J0cy5hamF4PXJlcXVpcmUoXCIuL2RlcHMvYWpheFwiKSxleHBvcnRzLmNyZWF0ZUJsb2I9cmVxdWlyZShcIi4vZGVwcy9ibG9iXCIpO3ZhciB1dWlkPXJlcXVpcmUoXCIuL2RlcHMvdXVpZFwiKTtleHBvcnRzLkNyeXB0bz1yZXF1aXJlKFwiLi9kZXBzL21kNS5qc1wiKTt2YXIgYnVmZmVyPXJlcXVpcmUoXCIuL2RlcHMvYnVmZmVyXCIpLGVycm9ycz1yZXF1aXJlKFwiLi9kZXBzL2Vycm9yc1wiKSxyZXNlcnZlZFdvcmRzPVtcIl9pZFwiLFwiX3JldlwiLFwiX2F0dGFjaG1lbnRzXCIsXCJfZGVsZXRlZFwiLFwiX3JldmlzaW9uc1wiLFwiX3JldnNfaW5mb1wiLFwiX2NvbmZsaWN0c1wiLFwiX2RlbGV0ZWRfY29uZmxpY3RzXCIsXCJfbG9jYWxfc2VxXCIsXCJfcmV2X3RyZWVcIl07ZXhwb3J0cy51dWlkcz1mdW5jdGlvbihlLHIpe1wib2JqZWN0XCIhPXR5cGVvZiByJiYocj17fSk7Zm9yKHZhciB0PXIubGVuZ3RoLG49ci5yYWRpeCxvPVtdO28ucHVzaCh1dWlkKHQsbikpPGU7KTtyZXR1cm4gb30sZXhwb3J0cy51dWlkPWZ1bmN0aW9uKGUpe3JldHVybiBleHBvcnRzLnV1aWRzKDEsZSlbMF19LGV4cG9ydHMuaXNWYWxpZElkPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YgZT8vXl8vLnRlc3QoZSk/L15fKGRlc2lnbnxsb2NhbCkvLnRlc3QoZSk6ITA6ITF9LGV4cG9ydHMuY2FsbD1mdW5jdGlvbihlKXtpZih0eXBlb2YgZT09dHlwZW9mIEZ1bmN0aW9uKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5hcHBseSh0aGlzLHIpfX0sZXhwb3J0cy5pc0xvY2FsSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuL15fbG9jYWwvLnRlc3QoZSl9LGV4cG9ydHMuaXNEZWxldGVkPWZ1bmN0aW9uKGUscil7cnx8KHI9bWVyZ2Uud2lubmluZ1JldihlKSksci5pbmRleE9mKFwiLVwiKT49MCYmKHI9ci5zcGxpdChcIi1cIilbMV0pO3ZhciB0PSExO3JldHVybiBtZXJnZS50cmF2ZXJzZVJldlRyZWUoZS5yZXZfdHJlZSxmdW5jdGlvbihlLG4sbyxpLHMpe289PT1yJiYodD0hIXMuZGVsZXRlZCl9KSx0fSxleHBvcnRzLmZpbHRlckNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9e30sbj1lLmZpbHRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maWx0ZXI7aWYodC5xdWVyeT1lLnF1ZXJ5X3BhcmFtcyxlLmZpbHRlciYmbiYmIWUuZmlsdGVyLmNhbGwodGhpcyxyLmRvYyx0KSlyZXR1cm4hMTtpZihlLmRvY19pZHMmJi0xPT09ZS5kb2NfaWRzLmluZGV4T2Yoci5pZCkpcmV0dXJuITE7aWYoZS5pbmNsdWRlX2RvY3MpZm9yKHZhciBvIGluIHIuZG9jLl9hdHRhY2htZW50cylyLmRvYy5fYXR0YWNobWVudHNbb10uc3R1Yj0hMDtlbHNlIGRlbGV0ZSByLmRvYztyZXR1cm4hMH19LGV4cG9ydHMucHJvY2Vzc0NoYW5nZXM9ZnVuY3Rpb24oZSxyLHQpe3I9ci5maWx0ZXIoZXhwb3J0cy5maWx0ZXJDaGFuZ2UoZSkpLGUubGltaXQmJmUubGltaXQ8ci5sZW5ndGgmJihyLmxlbmd0aD1lLmxpbWl0KSxyLmZvckVhY2goZnVuY3Rpb24ocil7ZXhwb3J0cy5jYWxsKGUub25DaGFuZ2Uscil9KSxleHBvcnRzLmNhbGwoZS5jb21wbGV0ZSxudWxsLHtyZXN1bHRzOnIsbGFzdF9zZXE6dH0pfSxleHBvcnRzLnBhcnNlRG9jPWZ1bmN0aW9uKGUscil7dmFyIHQsbixvLGk9bnVsbCxzPXtzdGF0dXM6XCJhdmFpbGFibGVcIn07aWYoZS5fZGVsZXRlZCYmKHMuZGVsZXRlZD0hMCkscilpZihlLl9pZHx8KGUuX2lkPWV4cG9ydHMudXVpZCgpKSxuPWV4cG9ydHMudXVpZCh7bGVuZ3RoOjMyLHJhZGl4OjE2fSkudG9Mb3dlckNhc2UoKSxlLl9yZXYpe2lmKG89L14oXFxkKyktKC4rKSQvLmV4ZWMoZS5fcmV2KSwhbyl0aHJvd1wiaW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHkgJ19yZXYnXCI7ZS5fcmV2X3RyZWU9W3twb3M6cGFyc2VJbnQob1sxXSwxMCksaWRzOltvWzJdLHtzdGF0dXM6XCJtaXNzaW5nXCJ9LFtbbixzLFtdXV1dfV0sdD1wYXJzZUludChvWzFdLDEwKSsxfWVsc2UgZS5fcmV2X3RyZWU9W3twb3M6MSxpZHM6W24scyxbXV19XSx0PTE7ZWxzZSBpZihlLl9yZXZpc2lvbnMmJihlLl9yZXZfdHJlZT1be3BvczplLl9yZXZpc2lvbnMuc3RhcnQtZS5fcmV2aXNpb25zLmlkcy5sZW5ndGgrMSxpZHM6ZS5fcmV2aXNpb25zLmlkcy5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gbnVsbD09PWU/W3IscyxbXV06W3Ise3N0YXR1czpcIm1pc3NpbmdcIn0sW2VdXX0sbnVsbCl9XSx0PWUuX3JldmlzaW9ucy5zdGFydCxuPWUuX3JldmlzaW9ucy5pZHNbMF0pLCFlLl9yZXZfdHJlZSl7aWYobz0vXihcXGQrKS0oLispJC8uZXhlYyhlLl9yZXYpLCFvKXJldHVybiBlcnJvcnMuQkFEX0FSRzt0PXBhcnNlSW50KG9bMV0sMTApLG49b1syXSxlLl9yZXZfdHJlZT1be3BvczpwYXJzZUludChvWzFdLDEwKSxpZHM6W29bMl0scyxbXV19XX1cInN0cmluZ1wiIT10eXBlb2YgZS5faWQ/aT1lcnJvcnMuSU5WQUxJRF9JRDpleHBvcnRzLmlzVmFsaWRJZChlLl9pZCl8fChpPWVycm9ycy5SRVNFUlZFRF9JRCk7Zm9yKHZhciBkIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShkKSYmXCJfXCI9PT1kWzBdJiYtMT09PXJlc2VydmVkV29yZHMuaW5kZXhPZihkKSYmKGk9ZXhwb3J0cy5leHRlbmQoe30sZXJyb3JzLkRPQ19WQUxJREFUSU9OKSxpLnJlYXNvbis9XCI6IFwiK2QpO3JldHVybiBlLl9pZD1kZWNvZGVVUklDb21wb25lbnQoZS5faWQpLGUuX3Jldj1bdCxuXS5qb2luKFwiLVwiKSxpP2k6T2JqZWN0LmtleXMoZSkucmVkdWNlKGZ1bmN0aW9uKHIsdCl7cmV0dXJuL15fLy50ZXN0KHQpJiZcIl9hdHRhY2htZW50c1wiIT09dD9yLm1ldGFkYXRhW3Quc2xpY2UoMSldPWVbdF06ci5kYXRhW3RdPWVbdF0scn0se21ldGFkYXRhOnt9LGRhdGE6e319KX0sZXhwb3J0cy5pc0NvcmRvdmE9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgY29yZG92YXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFBob25lR2FwfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgcGhvbmVnYXB9LGV4cG9ydHMuQ2hhbmdlcz1mdW5jdGlvbigpe3ZhciBlPXt9LHI9e307cmV0dXJuIGlzQ2hyb21lQXBwKCk/Y2hyb21lLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyKGZ1bmN0aW9uKHIpe251bGwhPXIuZGJfbmFtZSYmZS5ub3RpZnkoci5kYl9uYW1lLm5ld1ZhbHVlKX0pOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLGZ1bmN0aW9uKHIpe2Uubm90aWZ5KHIua2V5KX0pLGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4sbyl7cltlXXx8KHJbZV09e30pLHJbZV1bdF09e2RiOm4sb3B0czpvfX0sZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JbZV0mJmRlbGV0ZSByW2VdW3RdfSxlLmNsZWFyTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2RlbGV0ZSByW2VdfSxlLm5vdGlmeUxvY2FsV2luZG93cz1mdW5jdGlvbihlKXtpc0Nocm9tZUFwcCgpP2Nocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7ZGJfbmFtZTplfSk6bG9jYWxTdG9yYWdlW2VdPVwiYVwiPT09bG9jYWxTdG9yYWdlW2VdP1wiYlwiOlwiYVwifSxlLm5vdGlmeT1mdW5jdGlvbihlKXtyW2VdJiZPYmplY3Qua2V5cyhyW2VdKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXJbZV1bdF0ub3B0cztyW2VdW3RdLmRiLmNoYW5nZXMoe2luY2x1ZGVfZG9jczpuLmluY2x1ZGVfZG9jcyxjb25mbGljdHM6bi5jb25mbGljdHMsY29udGludW91czohMSxkZXNjZW5kaW5nOiExLGZpbHRlcjpuLmZpbHRlcix2aWV3Om4udmlldyxzaW5jZTpuLnNpbmNlLHF1ZXJ5X3BhcmFtczpuLnF1ZXJ5X3BhcmFtcyxvbkNoYW5nZTpmdW5jdGlvbihlKXtlLnNlcT5uLnNpbmNlJiYhbi5jYW5jZWxsZWQmJihuLnNpbmNlPWUuc2VxLGV4cG9ydHMuY2FsbChuLm9uQ2hhbmdlLGUpKX19KX0pfSxlfSxleHBvcnRzLmF0b2I9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJhdG9iXCJpbiB3aW5kb3c/ZnVuY3Rpb24oZSl7cmV0dXJuIGF0b2IoZSl9OmZ1bmN0aW9uKGUpe3ZhciByPW5ldyBidWZmZXIoZSxcImJhc2U2NFwiKTtpZihyLnRvU3RyaW5nKFwiYmFzZTY0XCIpIT09ZSl0aHJvd1wiQ2Fubm90IGJhc2U2NCBlbmNvZGUgZnVsbCBzdHJpbmdcIjtyZXR1cm4gci50b1N0cmluZyhcImJpbmFyeVwiKX0sZXhwb3J0cy5idG9hPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwiYnRvYVwiaW4gd2luZG93P2Z1bmN0aW9uKGUpe3JldHVybiBidG9hKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGJ1ZmZlcihlLFwiYmluYXJ5XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfSxtb2R1bGUuZXhwb3J0cz1leHBvcnRzOyIsIm1vZHVsZS5leHBvcnRzPVwiMS4xLjBcIjsiLCIvKmdsb2JhbCBQb3VjaDogdHJ1ZSwgcG91Y2hDb2xsYXRlOiB0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcG91Y2hDb2xsYXRlID0gcmVxdWlyZSgncG91Y2hkYi1jb2xsYXRlJyk7XG5cbi8vIFRoaXMgaXMgdGhlIGZpcnN0IGltcGxlbWVudGF0aW9uIG9mIGEgYmFzaWMgcGx1Z2luLCB3ZSByZWdpc3RlciB0aGVcbi8vIHBsdWdpbiBvYmplY3Qgd2l0aCBwb3VjaCBhbmQgaXQgaXMgbWl4aW4nZCB0byBlYWNoIGRhdGFiYXNlIGNyZWF0ZWRcbi8vIChyZWdhcmRsZXNzIG9mIGFkYXB0ZXIpLCBhZGFwdGVycyBjYW4gb3ZlcnJpZGUgcGx1Z2lucyBieSBwcm92aWRpbmdcbi8vIHRoZWlyIG93biBpbXBsZW1lbnRhdGlvbi4gZnVuY3Rpb25zIG9uIHRoZSBwbHVnaW4gb2JqZWN0IHRoYXQgc3RhcnRcbi8vIHdpdGggXyBhcmUgcmVzZXJ2ZWQgZnVuY3Rpb24gdGhhdCBhcmUgY2FsbGVkIGJ5IHBvdWNoZGIgZm9yIHNwZWNpYWxcbi8vIG5vdGlmaWNhdGlvbnMuXG5cbi8vIElmIHdlIHdhbnRlZCB0byBzdG9yZSBpbmNyZW1lbnRhbCB2aWV3cyB3ZSBjYW4gZG8gaXQgaGVyZSBieSBsaXN0ZW5pbmdcbi8vIHRvIHRoZSBjaGFuZ2VzIGZlZWQgKGtlZXBpbmcgdHJhY2sgb2Ygb3VyIGxhc3QgdXBkYXRlX3NlcSBiZXR3ZWVuIHBhZ2UgbG9hZHMpXG4vLyBhbmQgc3RvcmluZyB0aGUgcmVzdWx0IG9mIHRoZSBtYXAgZnVuY3Rpb24gKHBvc3NpYmx5IHVzaW5nIHRoZSB1cGNvbWluZ1xuLy8gZXh0cmFjdGVkIGFkYXB0ZXIgZnVuY3Rpb25zKVxuXG5cblxuZnVuY3Rpb24gTWFwUmVkdWNlKGRiKSB7XG4gIGlmKCEodGhpcyBpbnN0YW5jZW9mIE1hcFJlZHVjZSkpe1xuICAgIHJldHVybiBuZXcgTWFwUmVkdWNlKGRiKTtcbiAgfVxuICBmdW5jdGlvbiB2aWV3UXVlcnkoZnVuLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLnNraXApIHtcbiAgICAgIG9wdGlvbnMuc2tpcCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCFmdW4ucmVkdWNlKSB7XG4gICAgICBvcHRpb25zLnJlZHVjZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1bSh2YWx1ZXMpIHtcbiAgICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSwgMCk7XG4gICAgfVxuXG4gICAgdmFyIGJ1aWx0SW5SZWR1Y2UgPSB7XG4gICAgICBcIl9zdW1cIjogZnVuY3Rpb24gKGtleXMsIHZhbHVlcyl7XG4gICAgICAgIHJldHVybiBzdW0odmFsdWVzKTtcbiAgICAgIH0sXG5cbiAgICAgIFwiX2NvdW50XCI6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKXtcbiAgICAgICAgaWYgKHJlcmVkdWNlKXtcbiAgICAgICAgICByZXR1cm4gc3VtKHZhbHVlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIFwiX3N0YXRzXCI6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgJ3N1bSc6IHN1bSh2YWx1ZXMpLFxuICAgICAgICAgICdtaW4nOiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgICAgICdtYXgnOiBNYXRoLm1heC5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgICAgICdjb3VudCc6IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgJ3N1bXNxcic6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3N1bXNxciA9IDA7XG4gICAgICAgICAgICBmb3IodmFyIGlkeCBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZXNbaWR4XSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgX3N1bXNxciArPSB2YWx1ZXNbaWR4XSAqIHZhbHVlc1tpZHhdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3N1bXNxcjtcbiAgICAgICAgICB9KSgpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIGN1cnJlbnQgPSBudWxsO1xuICAgIHZhciBudW1fc3RhcnRlZD0gMDtcbiAgICB2YXIgY29tcGxldGVkPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGVtaXQoa2V5LCB2YWwpIHtcbiAgICAgIHZhciB2aWV3Um93ID0ge1xuICAgICAgICBpZDogY3VycmVudC5kb2MuX2lkLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgdmFsdWU6IHZhbFxuICAgICAgfTtcblxuICAgICAgaWYgKG9wdGlvbnMuc3RhcnRrZXkgJiYgcG91Y2hDb2xsYXRlKGtleSwgb3B0aW9ucy5zdGFydGtleSkgPCAwKSByZXR1cm47XG4gICAgICBpZiAob3B0aW9ucy5lbmRrZXkgJiYgcG91Y2hDb2xsYXRlKGtleSwgb3B0aW9ucy5lbmRrZXkpID4gMCkgcmV0dXJuO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmtleSAhPT0gJ3VuZGVmaW5lZCcgJiYgcG91Y2hDb2xsYXRlKGtleSwgb3B0aW9ucy5rZXkpICE9PSAwKSByZXR1cm47XG5cbiAgICAgIG51bV9zdGFydGVkKys7XG4gICAgICBpZiAob3B0aW9ucy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgLy9pbiB0aGlzIHNwZWNpYWwgY2FzZSwgam9pbiBvbiBfaWQgKGlzc3VlICMxMDYpXG4gICAgICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLl9pZCl7XG4gICAgICAgICAgZGIuZ2V0KHZhbC5faWQsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChfLCBqb2luZWRfZG9jKXtcbiAgICAgICAgICAgICAgICBpZiAoam9pbmVkX2RvYykge1xuICAgICAgICAgICAgICAgICAgdmlld1Jvdy5kb2MgPSBqb2luZWRfZG9jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godmlld1Jvdyk7XG4gICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlld1Jvdy5kb2MgPSBjdXJyZW50LmRvYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0cy5wdXNoKHZpZXdSb3cpO1xuICAgIH07XG5cbiAgICAvLyB1Z2x5IHdheSB0byBtYWtlIHN1cmUgcmVmZXJlbmNlcyB0byAnZW1pdCcgaW4gbWFwL3JlZHVjZSBiaW5kIHRvIHRoZVxuICAgIC8vIGFib3ZlIGVtaXRcbiAgICBldmFsKCdmdW4ubWFwID0gJyArIGZ1bi5tYXAudG9TdHJpbmcoKSArICc7Jyk7XG4gICAgaWYgKGZ1bi5yZWR1Y2UpIHtcbiAgICAgIGlmIChidWlsdEluUmVkdWNlW2Z1bi5yZWR1Y2VdKSB7XG4gICAgICAgIGZ1bi5yZWR1Y2UgPSBidWlsdEluUmVkdWNlW2Z1bi5yZWR1Y2VdO1xuICAgICAgfVxuXG4gICAgICBldmFsKCdmdW4ucmVkdWNlID0gJyArIGZ1bi5yZWR1Y2UudG9TdHJpbmcoKSArICc7Jyk7XG4gICAgfVxuXG4gICAgLy9vbmx5IHByb2NlZWQgb25jZSBhbGwgZG9jdW1lbnRzIGFyZSBtYXBwZWQgYW5kIGpvaW5lZFxuICAgIGZ1bmN0aW9uIGNoZWNrQ29tcGxldGUoKSB7XG4gICAgICBpZiAoY29tcGxldGVkICYmIHJlc3VsdHMubGVuZ3RoID09IG51bV9zdGFydGVkKXtcbiAgICAgICAgcmVzdWx0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIHBvdWNoQ29sbGF0ZShhLmtleSwgYi5rZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVzY2VuZGluZykge1xuICAgICAgICAgIHJlc3VsdHMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlZHVjZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9ucy5jb21wbGV0ZShudWxsLCB7XG4gICAgICAgICAgICB0b3RhbF9yb3dzOiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucy5za2lwLFxuICAgICAgICAgICAgcm93czogKCdsaW1pdCcgaW4gb3B0aW9ucykgPyByZXN1bHRzLnNsaWNlKG9wdGlvbnMuc2tpcCwgb3B0aW9ucy5saW1pdCArIG9wdGlvbnMuc2tpcCkgOlxuICAgICAgICAgICAgICAob3B0aW9ucy5za2lwID4gMCkgPyByZXN1bHRzLnNsaWNlKG9wdGlvbnMuc2tpcCkgOiByZXN1bHRzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ3JvdXBzID0gW107XG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBsYXN0ID0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGgtMV0gfHwgbnVsbDtcbiAgICAgICAgICBpZiAobGFzdCAmJiBwb3VjaENvbGxhdGUobGFzdC5rZXlbMF1bMF0sIGUua2V5KSA9PT0gMCkge1xuICAgICAgICAgICAgbGFzdC5rZXkucHVzaChbZS5rZXksIGUuaWRdKTtcbiAgICAgICAgICAgIGxhc3QudmFsdWUucHVzaChlLnZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBzLnB1c2goe2tleTogW1tlLmtleSwgZS5pZF1dLCB2YWx1ZTogW2UudmFsdWVdfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUudmFsdWUgPSBmdW4ucmVkdWNlKGUua2V5LCBlLnZhbHVlKTtcbiAgICAgICAgICBlLnZhbHVlID0gKHR5cGVvZiBlLnZhbHVlID09PSAndW5kZWZpbmVkJykgPyBudWxsIDogZS52YWx1ZTtcbiAgICAgICAgICBlLmtleSA9IGUua2V5WzBdWzBdO1xuICAgICAgICB9KTtcblxuICAgICAgICBvcHRpb25zLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiBncm91cHMubGVuZ3RoLFxuICAgICAgICAgIG9mZnNldDogb3B0aW9ucy5za2lwLFxuICAgICAgICAgIHJvd3M6ICgnbGltaXQnIGluIG9wdGlvbnMpID8gZ3JvdXBzLnNsaWNlKG9wdGlvbnMuc2tpcCwgb3B0aW9ucy5saW1pdCArIG9wdGlvbnMuc2tpcCkgOlxuICAgICAgICAgICAgKG9wdGlvbnMuc2tpcCA+IDApID8gZ3JvdXBzLnNsaWNlKG9wdGlvbnMuc2tpcCkgOiBncm91cHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRiLmNoYW5nZXMoe1xuICAgICAgY29uZmxpY3RzOiB0cnVlLFxuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgaWYgKCEoJ2RlbGV0ZWQnIGluIGRvYykpIHtcbiAgICAgICAgICBjdXJyZW50ID0ge2RvYzogZG9jLmRvY307XG4gICAgICAgICAgZnVuLm1hcC5jYWxsKHRoaXMsIGRvYy5kb2MpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29tcGxldGVkPSB0cnVlO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBodHRwUXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgUFVUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgdmFyIGJvZHkgPSB1bmRlZmluZWQ7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuXG4gICAgLy8gSWYgb3B0cy5yZWR1Y2UgZXhpc3RzIGFuZCBpcyBkZWZpbmVkLCB0aGVuIGFkZCBpdCB0byB0aGUgbGlzdFxuICAgIC8vIG9mIHBhcmFtZXRlcnMuXG4gICAgLy8gSWYgcmVkdWNlPWZhbHNlIHRoZW4gdGhlIHJlc3VsdHMgYXJlIHRoYXQgb2Ygb25seSB0aGUgbWFwIGZ1bmN0aW9uXG4gICAgLy8gbm90IHRoZSBmaW5hbCByZXN1bHQgb2YgbWFwIGFuZCByZWR1Y2UuXG4gICAgaWYgKHR5cGVvZiBvcHRzLnJlZHVjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdyZWR1Y2U9JyArIG9wdHMucmVkdWNlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmluY2x1ZGVfZG9jcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdpbmNsdWRlX2RvY3M9JyArIG9wdHMuaW5jbHVkZV9kb2NzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ2xpbWl0PScgKyBvcHRzLmxpbWl0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmRlc2NlbmRpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMucHVzaCgnZGVzY2VuZGluZz0nICsgb3B0cy5kZXNjZW5kaW5nKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLnN0YXJ0a2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ3N0YXJ0a2V5PScgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkob3B0cy5zdGFydGtleSkpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmVuZGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdlbmRrZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmVuZGtleSkpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdrZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmtleSkpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmdyb3VwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ2dyb3VwPScgKyBvcHRzLmdyb3VwKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmdyb3VwX2xldmVsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ2dyb3VwX2xldmVsPScgKyBvcHRzLmdyb3VwX2xldmVsKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMucHVzaCgnc2tpcD0nICsgb3B0cy5za2lwKTtcbiAgICB9XG5cbiAgICAvLyBJZiBrZXlzIGFyZSBzdXBwbGllZCwgaXNzdWUgYSBQT1NUIHJlcXVlc3QgdG8gY2lyY3VtdmVudCBHRVQgcXVlcnkgc3RyaW5nIGxpbWl0c1xuICAgIC8vIHNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSFRUUF92aWV3X0FQSSNRdWVyeWluZ19PcHRpb25zXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe2tleXM6b3B0cy5rZXlzfSk7XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHRoZSBsaXN0IG9mIHBhcmFtZXRlcnMgaW50byBhIHZhbGlkIFVSSSBxdWVyeSBzdHJpbmdcbiAgICBwYXJhbXMgPSBwYXJhbXMuam9pbignJicpO1xuICAgIHBhcmFtcyA9IHBhcmFtcyA9PT0gJycgPyAnJyA6ICc/JyArIHBhcmFtcztcblxuICAgIC8vIFdlIGFyZSByZWZlcmVuY2luZyBhIHF1ZXJ5IGRlZmluZWQgaW4gdGhlIGRlc2lnbiBkb2NcbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGZ1bi5zcGxpdCgnLycpO1xuICAgICAgZGIucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICB1cmw6ICdfZGVzaWduLycgKyBwYXJ0c1swXSArICcvX3ZpZXcvJyArIHBhcnRzWzFdICsgcGFyYW1zLFxuICAgICAgICBib2R5OiBib2R5XG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHVzaW5nIGEgdGVtcG9yYXJ5IHZpZXcsIHRlcnJpYmxlIGZvciBwZXJmb3JtYW5jZSBidXQgZ29vZCBmb3IgdGVzdGluZ1xuICAgIHZhciBxdWVyeU9iamVjdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZnVuLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWwgKyAnJzsgLy8gaW1wbGljaXRseSBgdG9TdHJpbmdgIGl0XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0pKTtcblxuICAgIGRiLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOidQT1NUJyxcbiAgICAgIHVybDogJ190ZW1wX3ZpZXcnICsgcGFyYW1zLFxuICAgICAgYm9keTogcXVlcnlPYmplY3RcbiAgICB9LCBjYWxsYmFjayk7XG4gIH1cblxuICB0aGlzLnF1ZXJ5ID0gZnVuY3Rpb24oZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGlmIChkYi50eXBlKCkgPT09ICdodHRwJykge1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnZnVuY3Rpb24nKXtcbiAgICAgIHJldHVybiBodHRwUXVlcnkoe21hcDogZnVufSwgb3B0cywgY2FsbGJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gaHR0cFF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZnVuID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHZpZXdRdWVyeShmdW4sIG9wdHMpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZnVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdmlld1F1ZXJ5KHttYXA6IGZ1bn0sIG9wdHMpO1xuICAgIH1cblxuICAgIHZhciBwYXJ0cyA9IGZ1bi5zcGxpdCgnLycpO1xuICAgIGRiLmdldCgnX2Rlc2lnbi8nICsgcGFydHNbMF0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkb2Mudmlld3NbcGFydHNbMV1dKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soeyBlcnJvcjogJ25vdF9mb3VuZCcsIHJlYXNvbjogJ21pc3NpbmdfbmFtZWRfdmlldycgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmlld1F1ZXJ5KHtcbiAgICAgICAgbWFwOiBkb2Mudmlld3NbcGFydHNbMV1dLm1hcCxcbiAgICAgICAgcmVkdWNlOiBkb2Mudmlld3NbcGFydHNbMV1dLnJlZHVjZVxuICAgICAgfSwgb3B0cyk7XG4gICAgfSk7XG4gIH1cblxufTtcblxuLy8gRGVsZXRpb24gaXMgYSBub29wIHNpbmNlIHdlIGRvbnQgc3RvcmUgdGhlIHJlc3VsdHMgb2YgdGhlIHZpZXdcbk1hcFJlZHVjZS5fZGVsZXRlID0gZnVuY3Rpb24gKCkgeyB9O1xubW9kdWxlLmV4cG9ydHMgPSBNYXBSZWR1Y2U7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGFycmF5Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHNvcnQgPSBwb3VjaENvbGxhdGUoYVtpXSwgYltpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gKGEubGVuZ3RoID09PSBiLmxlbmd0aCkgPyAwIDpcbiAgICAoYS5sZW5ndGggPiBiLmxlbmd0aCkgPyAxIDogLTE7XG59XG5mdW5jdGlvbiBzdHJpbmdDb2xsYXRlKGEsIGIpIHtcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGFsZWhhcnZleS9wb3VjaGRiL2lzc3Vlcy80MFxuICAvLyBUaGlzIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBDb3VjaERCIGltcGxlbWVudGF0aW9uLCBidXQgaXRzIHRoZVxuICAvLyBiZXN0IHdlIGNhbiBkbyBmb3Igbm93XG4gIHJldHVybiAoYSA9PT0gYikgPyAwIDogKChhID4gYikgPyAxIDogLTEpO1xufVxuZnVuY3Rpb24gb2JqZWN0Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBhayA9IE9iamVjdC5rZXlzKGEpLCBiayA9IE9iamVjdC5rZXlzKGIpO1xuICB2YXIgbGVuID0gTWF0aC5taW4oYWsubGVuZ3RoLCBiay5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gRmlyc3Qgc29ydCB0aGUga2V5c1xuICAgIHZhciBzb3J0ID0gcG91Y2hDb2xsYXRlKGFrW2ldLCBia1tpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgICAvLyBpZiB0aGUga2V5cyBhcmUgZXF1YWwgc29ydCB0aGUgdmFsdWVzXG4gICAgc29ydCA9IHBvdWNoQ29sbGF0ZShhW2FrW2ldXSwgYltia1tpXV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gKGFrLmxlbmd0aCA9PT0gYmsubGVuZ3RoKSA/IDAgOlxuICAgIChhay5sZW5ndGggPiBiay5sZW5ndGgpID8gMSA6IC0xO1xufVxuLy8gVGhlIGNvbGxhdGlvbiBpcyBkZWZpbmVkIGJ5IGVybGFuZ3Mgb3JkZXJlZCB0ZXJtc1xuLy8gdGhlIGF0b21zIG51bGwsIHRydWUsIGZhbHNlIGNvbWUgZmlyc3QsIHRoZW4gbnVtYmVycywgc3RyaW5ncyxcbi8vIGFycmF5cywgdGhlbiBvYmplY3RzXG5mdW5jdGlvbiBjb2xsYXRpb25JbmRleCh4KSB7XG4gIHZhciBpZCA9IFsnYm9vbGVhbicsICdudW1iZXInLCAnc3RyaW5nJywgJ29iamVjdCddO1xuICBpZiAoaWQuaW5kZXhPZih0eXBlb2YgeCkgIT09IC0xKSB7XG4gICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gaWQuaW5kZXhPZih0eXBlb2YgeCkgKyAyO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIDQuNTtcbiAgfVxuICBpZiAodHlwZW9mIHggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQ291Y2hEQiBpbmRleGVzIGJvdGggbnVsbC91bmRlZmluZWQgYXMgbnVsbFxuICAgIHJldHVybiAxO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHBvdWNoQ29sbGF0ZTtcbmZ1bmN0aW9uIHBvdWNoQ29sbGF0ZShhLCBiKSB7XG4gIHZhciBhaSA9IGNvbGxhdGlvbkluZGV4KGEpO1xuICB2YXIgYmkgPSBjb2xsYXRpb25JbmRleChiKTtcbiAgaWYgKChhaSAtIGJpKSAhPT0gMCkge1xuICAgIHJldHVybiBhaSAtIGJpO1xuICB9XG4gIGlmIChhID09PSBudWxsIHx8IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gYSAtIGI7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gYSA9PT0gYiA/IDAgOiAoYSA8IGIgPyAtMSA6IDEpO1xuICB9XG4gIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyaW5nQ29sbGF0ZShhLCBiKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHJldHVybiBhcnJheUNvbGxhdGUoYSwgYik7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmplY3RDb2xsYXRlKGEsIGIpO1xuICB9XG59OzsiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTp0LklQdjY9ZSh0KX0odGhpcyxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKHQpe3ZhciBlPXQudG9Mb3dlckNhc2UoKSxuPWUuc3BsaXQoXCI6XCIpLGk9bi5sZW5ndGgscj04O1wiXCI9PT1uWzBdJiZcIlwiPT09blsxXSYmXCJcIj09PW5bMl0/KG4uc2hpZnQoKSxuLnNoaWZ0KCkpOlwiXCI9PT1uWzBdJiZcIlwiPT09blsxXT9uLnNoaWZ0KCk6XCJcIj09PW5baS0xXSYmXCJcIj09PW5baS0yXSYmbi5wb3AoKSxpPW4ubGVuZ3RoLC0xIT09bltpLTFdLmluZGV4T2YoXCIuXCIpJiYocj03KTt2YXIgbztmb3Iobz0wO2k+byYmXCJcIiE9PW5bb107bysrKTtpZihyPm8pe2ZvcihuLnNwbGljZShvLDEsXCIwMDAwXCIpO24ubGVuZ3RoPHI7KW4uc3BsaWNlKG8sMCxcIjAwMDBcIik7aT1uLmxlbmd0aH1mb3IodmFyIGYscz0wO3I+cztzKyspe2Y9bltzXS5zcGxpdChcIlwiKTtmb3IodmFyIGw9MDszPmwmJihcIjBcIj09PWZbMF0mJmYubGVuZ3RoPjEpO2wrKylmLnNwbGljZSgwLDEpO25bc109Zi5qb2luKFwiXCIpfXZhciBjPS0xLGg9MCxwPTAsdj0tMSx1PSExO2ZvcihzPTA7cj5zO3MrKyl1P1wiMFwiPT09bltzXT9wKz0xOih1PSExLHA+aCYmKGM9dixoPXApKTpcIjBcIj09bltzXSYmKHU9ITAsdj1zLHA9MSk7cD5oJiYoYz12LGg9cCksaD4xJiZuLnNwbGljZShjLGgsXCJcIiksaT1uLmxlbmd0aDt2YXIgYT1cIlwiO2ZvcihcIlwiPT09blswXSYmKGJlc3RzdHI9XCI6XCIpLHM9MDtpPnMmJihhKz1uW3NdLHMhPT1pLTEpO3MrKylhKz1cIjpcIjtyZXR1cm5cIlwiPT09bltpLTFdJiYoYSs9XCI6XCIpLGF9ZnVuY3Rpb24gbigpe3JldHVybiB0LklQdjY9PT10aGlzJiYodC5JUHY2PWkpLHRoaXN9dmFyIGk9dCYmdC5JUHY2O3JldHVybntiZXN0OmUsbm9Db25mbGljdDpufX0pOyIsIiFmdW5jdGlvbihvLGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOm8uU2Vjb25kTGV2ZWxEb21haW5zPWUobyl9KHRoaXMsZnVuY3Rpb24obyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9byYmby5TZWNvbmRMZXZlbERvbWFpbnMsbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHI9e2xpc3Q6e2FjOlwiY29tfGdvdnxtaWx8bmV0fG9yZ1wiLGFlOlwiYWN8Y298Z292fG1pbHxuYW1lfG5ldHxvcmd8cHJvfHNjaFwiLGFmOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGFsOlwiY29tfGVkdXxnb3Z8bWlsfG5ldHxvcmdcIixhbzpcImNvfGVkfGd2fGl0fG9nfHBiXCIsYXI6XCJjb218ZWR1fGdvYnxnb3Z8aW50fG1pbHxuZXR8b3JnfHR1clwiLGF0OlwiYWN8Y298Z3Z8b3JcIixhdTpcImFzbnxjb218Y3Npcm98ZWR1fGdvdnxpZHxuZXR8b3JnXCIsYmE6XCJjb3xjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ3xyc3x1bmJpfHVubW98dW5zYXx1bnR6fHVuemVcIixiYjpcImJpenxjb3xjb218ZWR1fGdvdnxpbmZvfG5ldHxvcmd8c3RvcmV8dHZcIixiaDpcImJpenxjY3xjb218ZWR1fGdvdnxpbmZvfG5ldHxvcmdcIixibjpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixibzpcImNvbXxlZHV8Z29ifGdvdnxpbnR8bWlsfG5ldHxvcmd8dHZcIixicjpcImFkbXxhZHZ8YWdyfGFtfGFycXxhcnR8YXRvfGJ8YmlvfGJsb2d8Ym1kfGNpbXxjbmd8Y250fGNvbXxjb29wfGVjbnxlZHV8ZW5nfGVzcHxldGN8ZXRpfGZhcnxmbG9nfGZtfGZuZHxmb3R8ZnN0fGcxMnxnZ2Z8Z292fGltYnxpbmR8aW5mfGpvcnxqdXN8bGVsfG1hdHxtZWR8bWlsfG11c3xuZXR8bm9tfG5vdHxudHJ8b2RvfG9yZ3xwcGd8cHJvfHBzY3xwc2l8cXNsfHJlY3xzbGd8c3J2fHRtcHx0cmR8dHVyfHR2fHZldHx2bG9nfHdpa2l8emxnXCIsYnM6XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsYno6XCJkdXxldHxvbXxvdnxyZ1wiLGNhOlwiYWJ8YmN8bWJ8bmJ8bmZ8bmx8bnN8bnR8bnV8b258cGV8cWN8c2t8eWtcIixjazpcImJpenxjb3xlZHV8Z2VufGdvdnxpbmZvfG5ldHxvcmdcIixjbjpcImFjfGFofGJqfGNvbXxjcXxlZHV8Zmp8Z2R8Z292fGdzfGd4fGd6fGhhfGhifGhlfGhpfGhsfGhufGpsfGpzfGp4fGxufG1pbHxuZXR8bm18bnh8b3JnfHFofHNjfHNkfHNofHNufHN4fHRqfHR3fHhqfHh6fHlufHpqXCIsY286XCJjb218ZWR1fGdvdnxtaWx8bmV0fG5vbXxvcmdcIixjcjpcImFjfGN8Y298ZWR8Zml8Z298b3J8c2FcIixjeTpcImFjfGJpenxjb218ZWtsb2dlc3xnb3Z8bHRkfG5hbWV8bmV0fG9yZ3xwYXJsaWFtZW50fHByZXNzfHByb3x0bVwiLFwiZG9cIjpcImFydHxjb218ZWR1fGdvYnxnb3Z8bWlsfG5ldHxvcmd8c2xkfHdlYlwiLGR6OlwiYXJ0fGFzc298Y29tfGVkdXxnb3Z8bmV0fG9yZ3xwb2xcIixlYzpcImNvbXxlZHV8ZmlufGdvdnxpbmZvfG1lZHxtaWx8bmV0fG9yZ3xwcm9cIixlZzpcImNvbXxlZHV8ZXVufGdvdnxtaWx8bmFtZXxuZXR8b3JnfHNjaVwiLGVyOlwiY29tfGVkdXxnb3Z8aW5kfG1pbHxuZXR8b3JnfHJvY2hlc3R8d1wiLGVzOlwiY29tfGVkdXxnb2J8bm9tfG9yZ1wiLGV0OlwiYml6fGNvbXxlZHV8Z292fGluZm98bmFtZXxuZXR8b3JnXCIsZmo6XCJhY3xiaXp8Y29tfGluZm98bWlsfG5hbWV8bmV0fG9yZ3xwcm9cIixmazpcImFjfGNvfGdvdnxuZXR8bm9tfG9yZ1wiLGZyOlwiYXNzb3xjb218Znxnb3V2fG5vbXxwcmR8cHJlc3NlfHRtXCIsZ2c6XCJjb3xuZXR8b3JnXCIsZ2g6XCJjb218ZWR1fGdvdnxtaWx8b3JnXCIsZ246XCJhY3xjb218Z292fG5ldHxvcmdcIixncjpcImNvbXxlZHV8Z292fG1pbHxuZXR8b3JnXCIsZ3Q6XCJjb218ZWR1fGdvYnxpbmR8bWlsfG5ldHxvcmdcIixndTpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixoazpcImNvbXxlZHV8Z292fGlkdnxuZXR8b3JnXCIsaWQ6XCJhY3xjb3xnb3xtaWx8bmV0fG9yfHNjaHx3ZWJcIixpbDpcImFjfGNvfGdvdnxpZGZ8azEyfG11bml8bmV0fG9yZ1wiLFwiaW5cIjpcImFjfGNvfGVkdXxlcm5ldHxmaXJtfGdlbnxnb3Z8aXxpbmR8bWlsfG5ldHxuaWN8b3JnfHJlc1wiLGlxOlwiY29tfGVkdXxnb3Z8aXxtaWx8bmV0fG9yZ1wiLGlyOlwiYWN8Y298ZG5zc2VjfGdvdnxpfGlkfG5ldHxvcmd8c2NoXCIsaXQ6XCJlZHV8Z292XCIsamU6XCJjb3xuZXR8b3JnXCIsam86XCJjb218ZWR1fGdvdnxtaWx8bmFtZXxuZXR8b3JnfHNjaFwiLGpwOlwiYWN8YWR8Y298ZWR8Z298Z3J8bGd8bmV8b3JcIixrZTpcImFjfGNvfGdvfGluZm98bWV8bW9iaXxuZXxvcnxzY1wiLGtoOlwiY29tfGVkdXxnb3Z8bWlsfG5ldHxvcmd8cGVyXCIsa2k6XCJiaXp8Y29tfGRlfGVkdXxnb3Z8aW5mb3xtb2J8bmV0fG9yZ3x0ZWxcIixrbTpcImFzc298Y29tfGNvb3B8ZWR1fGdvdXZ8a3xtZWRlY2lufG1pbHxub218bm90YWlyZXN8cGhhcm1hY2llbnN8cHJlc3NlfHRtfHZldGVyaW5haXJlXCIsa246XCJlZHV8Z292fG5ldHxvcmdcIixrcjpcImFjfGJ1c2FufGNodW5nYnVrfGNodW5nbmFtfGNvfGRhZWd1fGRhZWplb258ZXN8Z2FuZ3dvbnxnb3xnd2FuZ2p1fGd5ZW9uZ2J1a3xneWVvbmdnaXxneWVvbmduYW18aHN8aW5jaGVvbnxqZWp1fGplb25idWt8amVvbm5hbXxrfGtnfG1pbHxtc3xuZXxvcnxwZXxyZXxzY3xzZW91bHx1bHNhblwiLGt3OlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGt5OlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGt6OlwiY29tfGVkdXxnb3Z8bWlsfG5ldHxvcmdcIixsYjpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixsazpcImFzc258Y29tfGVkdXxnb3Z8Z3JwfGhvdGVsfGludHxsdGR8bmV0fG5nb3xvcmd8c2NofHNvY3x3ZWJcIixscjpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixsdjpcImFzbnxjb218Y29uZnxlZHV8Z292fGlkfG1pbHxuZXR8b3JnXCIsbHk6XCJjb218ZWR1fGdvdnxpZHxtZWR8bmV0fG9yZ3xwbGN8c2NoXCIsbWE6XCJhY3xjb3xnb3Z8bXxuZXR8b3JnfHByZXNzXCIsbWM6XCJhc3NvfHRtXCIsbWU6XCJhY3xjb3xlZHV8Z292fGl0c3xuZXR8b3JnfHByaXZcIixtZzpcImNvbXxlZHV8Z292fG1pbHxub218b3JnfHByZHx0bVwiLG1rOlwiY29tfGVkdXxnb3Z8aW5mfG5hbWV8bmV0fG9yZ3xwcm9cIixtbDpcImNvbXxlZHV8Z292fG5ldHxvcmd8cHJlc3NlXCIsbW46XCJlZHV8Z292fG9yZ1wiLG1vOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLG10OlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLG12OlwiYWVyb3xiaXp8Y29tfGNvb3B8ZWR1fGdvdnxpbmZvfGludHxtaWx8bXVzZXVtfG5hbWV8bmV0fG9yZ3xwcm9cIixtdzpcImFjfGNvfGNvbXxjb29wfGVkdXxnb3Z8aW50fG11c2V1bXxuZXR8b3JnXCIsbXg6XCJjb218ZWR1fGdvYnxuZXR8b3JnXCIsbXk6XCJjb218ZWR1fGdvdnxtaWx8bmFtZXxuZXR8b3JnfHNjaFwiLG5mOlwiYXJ0c3xjb218ZmlybXxpbmZvfG5ldHxvdGhlcnxwZXJ8cmVjfHN0b3JlfHdlYlwiLG5nOlwiYml6fGNvbXxlZHV8Z292fG1pbHxtb2JpfG5hbWV8bmV0fG9yZ3xzY2hcIixuaTpcImFjfGNvfGNvbXxlZHV8Z29ifG1pbHxuZXR8bm9tfG9yZ1wiLG5wOlwiY29tfGVkdXxnb3Z8bWlsfG5ldHxvcmdcIixucjpcImJpenxjb218ZWR1fGdvdnxpbmZvfG5ldHxvcmdcIixvbTpcImFjfGJpenxjb3xjb218ZWR1fGdvdnxtZWR8bWlsfG11c2V1bXxuZXR8b3JnfHByb3xzY2hcIixwZTpcImNvbXxlZHV8Z29ifG1pbHxuZXR8bm9tfG9yZ3xzbGRcIixwaDpcImNvbXxlZHV8Z292fGl8bWlsfG5ldHxuZ298b3JnXCIscGs6XCJiaXp8Y29tfGVkdXxmYW18Z29ifGdva3xnb258Z29wfGdvc3xnb3Z8bmV0fG9yZ3x3ZWJcIixwbDpcImFydHxiaWFseXN0b2t8Yml6fGNvbXxlZHV8Z2RhfGdkYW5za3xnb3J6b3d8Z292fGluZm98a2F0b3dpY2V8a3Jha293fGxvZHp8bHVibGlufG1pbHxuZXR8bmdvfG9sc3p0eW58b3JnfHBvem5hbnxwd3J8cmFkb218c2x1cHNrfHN6Y3plY2lufHRvcnVufHdhcnN6YXdhfHdhd3x3cm9jfHdyb2NsYXd8emdvcmFcIixwcjpcImFjfGJpenxjb218ZWR1fGVzdHxnb3Z8aW5mb3xpc2xhfG5hbWV8bmV0fG9yZ3xwcm98cHJvZlwiLHBzOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ3xwbG98c2VjXCIscHc6XCJiZWxhdXxjb3xlZHxnb3xuZXxvclwiLHJvOlwiYXJ0c3xjb218ZmlybXxpbmZvfG5vbXxudHxvcmd8cmVjfHN0b3JlfHRtfHd3d1wiLHJzOlwiYWN8Y298ZWR1fGdvdnxpbnxvcmdcIixzYjpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixzYzpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixzaDpcImNvfGNvbXxlZHV8Z292fG5ldHxub218b3JnXCIsc2w6XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsc3Q6XCJjb3xjb218Y29uc3VsYWRvfGVkdXxlbWJhaXhhZGF8Z292fG1pbHxuZXR8b3JnfHByaW5jaXBlfHNhb3RvbWV8c3RvcmVcIixzdjpcImNvbXxlZHV8Z29ifG9yZ3xyZWRcIixzejpcImFjfGNvfG9yZ1wiLHRyOlwiYXZ8YmJzfGJlbHxiaXp8Y29tfGRyfGVkdXxnZW58Z292fGluZm98azEyfG5hbWV8bmV0fG9yZ3xwb2x8dGVsfHRza3x0dnx3ZWJcIix0dDpcImFlcm98Yml6fGNhdHxjb3xjb218Y29vcHxlZHV8Z292fGluZm98aW50fGpvYnN8bWlsfG1vYml8bXVzZXVtfG5hbWV8bmV0fG9yZ3xwcm98dGVsfHRyYXZlbFwiLHR3OlwiY2x1Ynxjb218ZWJpenxlZHV8Z2FtZXxnb3Z8aWR2fG1pbHxuZXR8b3JnXCIsbXU6XCJhY3xjb3xjb218Z292fG5ldHxvcnxvcmdcIixtejpcImFjfGNvfGVkdXxnb3Z8b3JnXCIsbmE6XCJjb3xjb21cIixuejpcImFjfGNvfGNyaXxnZWVrfGdlbnxnb3Z0fGhlYWx0aHxpd2l8bWFvcml8bWlsfG5ldHxvcmd8cGFybGlhbWVudHxzY2hvb2xcIixwYTpcImFib3xhY3xjb218ZWR1fGdvYnxpbmd8bWVkfG5ldHxub218b3JnfHNsZFwiLHB0OlwiY29tfGVkdXxnb3Z8aW50fG5ldHxub21lfG9yZ3xwdWJsXCIscHk6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ1wiLHFhOlwiY29tfGVkdXxnb3Z8bWlsfG5ldHxvcmdcIixyZTpcImFzc298Y29tfG5vbVwiLHJ1OlwiYWN8YWR5Z2V5YXxhbHRhaXxhbXVyfGFya2hhbmdlbHNrfGFzdHJha2hhbnxiYXNoa2lyaWF8YmVsZ29yb2R8YmlyfGJyeWFuc2t8YnVyeWF0aWF8Y2JnfGNoZWx8Y2hlbHlhYmluc2t8Y2hpdGF8Y2h1a290a2F8Y2h1dmFzaGlhfGNvbXxkYWdlc3RhbnxlLWJ1cmd8ZWR1fGdvdnxncm96bnl8aW50fGlya3V0c2t8aXZhbm92b3xpemhldnNrfGphcnxqb3Noa2FyLW9sYXxrYWxteWtpYXxrYWx1Z2F8a2FtY2hhdGthfGthcmVsaWF8a2F6YW58a2NocnxrZW1lcm92b3xraGFiYXJvdnNrfGtoYWthc3NpYXxraHZ8a2lyb3Z8a29lbmlnfGtvbWl8a29zdHJvbWF8a3Jhbm95YXJza3xrdWJhbnxrdXJnYW58a3Vyc2t8bGlwZXRza3xtYWdhZGFufG1hcml8bWFyaS1lbHxtYXJpbmV8bWlsfG1vcmRvdmlhfG1vc3JlZ3xtc2t8bXVybWFuc2t8bmFsY2hpa3xuZXR8bm5vdnxub3Z8bm92b3NpYmlyc2t8bnNrfG9tc2t8b3JlbmJ1cmd8b3JnfG9yeW9sfHBlbnphfHBlcm18cHB8cHNrb3Z8cHR6fHJuZHxyeWF6YW58c2FraGFsaW58c2FtYXJhfHNhcmF0b3Z8c2ltYmlyc2t8c21vbGVuc2t8c3BifHN0YXZyb3BvbHxzdHZ8c3VyZ3V0fHRhbWJvdnx0YXRhcnN0YW58dG9tfHRvbXNrfHRzYXJpdHN5bnx0c2t8dHVsYXx0dXZhfHR2ZXJ8dHl1bWVufHVkbXx1ZG11cnRpYXx1bGFuLXVkZXx2bGFkaWthdmthenx2bGFkaW1pcnx2bGFkaXZvc3Rva3x2b2xnb2dyYWR8dm9sb2dkYXx2b3JvbmV6aHx2cm58dnlhdGthfHlha3V0aWF8eWFtYWx8eWVrYXRlcmluYnVyZ3x5dXpobm8tc2FraGFsaW5za1wiLHJ3OlwiYWN8Y298Y29tfGVkdXxnb3V2fGdvdnxpbnR8bWlsfG5ldFwiLHNhOlwiY29tfGVkdXxnb3Z8bWVkfG5ldHxvcmd8cHVifHNjaFwiLHNkOlwiY29tfGVkdXxnb3Z8aW5mb3xtZWR8bmV0fG9yZ3x0dlwiLHNlOlwiYXxhY3xifGJkfGN8ZHxlfGZ8Z3xofGl8a3xsfG18bnxvfG9yZ3xwfHBhcnRpfHBwfHByZXNzfHJ8c3x0fHRtfHV8d3x4fHl8elwiLHNnOlwiY29tfGVkdXxnb3Z8aWRufG5ldHxvcmd8cGVyXCIsc246XCJhcnR8Y29tfGVkdXxnb3V2fG9yZ3xwZXJzb3x1bml2XCIsc3k6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG5ld3N8b3JnXCIsdGg6XCJhY3xjb3xnb3xpbnxtaXxuZXR8b3JcIix0ajpcImFjfGJpenxjb3xjb218ZWR1fGdvfGdvdnxpbmZvfGludHxtaWx8bmFtZXxuZXR8bmljfG9yZ3x0ZXN0fHdlYlwiLHRuOlwiYWdyaW5ldHxjb218ZGVmZW5zZXxlZHVuZXR8ZW5zfGZpbnxnb3Z8aW5kfGluZm98aW50bHxtaW5jb218bmF0fG5ldHxvcmd8cGVyc298cm5ydHxybnN8cm51fHRvdXJpc21cIix0ejpcImFjfGNvfGdvfG5lfG9yXCIsdWE6XCJiaXp8Y2hlcmthc3N5fGNoZXJuaWdvdnxjaGVybm92dHN5fGNrfGNufGNvfGNvbXxjcmltZWF8Y3Z8ZG58ZG5lcHJvcGV0cm92c2t8ZG9uZXRza3xkcHxlZHV8Z292fGlmfGlufGl2YW5vLWZyYW5raXZza3xraHxraGFya292fGtoZXJzb258a2htZWxuaXRza2l5fGtpZXZ8a2lyb3ZvZ3JhZHxrbXxrcnxrc3xrdnxsZ3xsdWdhbnNrfGx1dHNrfGx2aXZ8bWV8bWt8bmV0fG5pa29sYWV2fG9kfG9kZXNzYXxvcmd8cGx8cG9sdGF2YXxwcHxyb3Zub3xydnxzZWJhc3RvcG9sfHN1bXl8dGV8dGVybm9waWx8dXpoZ29yb2R8dmlubmljYXx2bnx6YXBvcml6aHpoZXx6aGl0b21pcnx6cHx6dFwiLHVnOlwiYWN8Y298Z298bmV8b3J8b3JnfHNjXCIsdWs6XCJhY3xibHxicml0aXNoLWxpYnJhcnl8Y298Y3ltfGdvdnxnb3Z0fGljbmV0fGpldHxsZWF8bHRkfG1lfG1pbHxtb2R8bmF0aW9uYWwtbGlicmFyeS1zY290bGFuZHxuZWx8bmV0fG5oc3xuaWN8bmxzfG9yZ3xvcmdufHBhcmxpYW1lbnR8cGxjfHBvbGljZXxzY2h8c2NvdHxzb2NcIix1czpcImRuaXxmZWR8aXNhfGtpZHN8bnNuXCIsdXk6XCJjb218ZWR1fGd1YnxtaWx8bmV0fG9yZ1wiLHZlOlwiY298Y29tfGVkdXxnb2J8aW5mb3xtaWx8bmV0fG9yZ3x3ZWJcIix2aTpcImNvfGNvbXxrMTJ8bmV0fG9yZ1wiLHZuOlwiYWN8Yml6fGNvbXxlZHV8Z292fGhlYWx0aHxpbmZvfGludHxuYW1lfG5ldHxvcmd8cHJvXCIseWU6XCJjb3xjb218Z292fGx0ZHxtZXxuZXR8b3JnfHBsY1wiLHl1OlwiYWN8Y298ZWR1fGdvdnxvcmdcIix6YTpcImFjfGFncmljfGFsdHxib3Vyc2V8Y2l0eXxjb3xjeWJlcm5ldHxkYnxlZHV8Z292fGdyb25kYXJ8aWFjY2Vzc3xpbXR8aW5jYXxsYW5kZXNpZ258bGF3fG1pbHxuZXR8bmdvfG5pc3xub218b2xpdmV0dGl8b3JnfHBpeHxzY2hvb2x8dG18d2ViXCIsem06XCJhY3xjb3xjb218ZWR1fGdvdnxuZXR8b3JnfHNjaFwifSxoYXNfZXhwcmVzc2lvbjpudWxsLGlzX2V4cHJlc3Npb246bnVsbCxoYXM6ZnVuY3Rpb24obyl7cmV0dXJuISFvLm1hdGNoKHIuaGFzX2V4cHJlc3Npb24pfSxpczpmdW5jdGlvbihvKXtyZXR1cm4hIW8ubWF0Y2goci5pc19leHByZXNzaW9uKX0sZ2V0OmZ1bmN0aW9uKG8pe3ZhciBlPW8ubWF0Y2goci5oYXNfZXhwcmVzc2lvbik7cmV0dXJuIGUmJmVbMV18fG51bGx9LG5vQ29uZmxpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gby5TZWNvbmRMZXZlbERvbWFpbnM9PT10aGlzJiYoby5TZWNvbmRMZXZlbERvbWFpbnM9ZSksdGhpc30saW5pdDpmdW5jdGlvbigpe3ZhciBvPVwiXCI7Zm9yKHZhciBlIGluIHIubGlzdClpZihuLmNhbGwoci5saXN0LGUpKXt2YXIgZz1cIihcIityLmxpc3RbZV0rXCIpLlwiK2U7bys9XCJ8KFwiK2crXCIpXCJ9ci5oYXNfZXhwcmVzc2lvbj1uZXcgUmVnRXhwKFwiXFxcXC4oXCIrby5zdWJzdHIoMSkrXCIpJFwiLFwiaVwiKSxyLmlzX2V4cHJlc3Npb249bmV3IFJlZ0V4cChcIl4oXCIrby5zdWJzdHIoMSkrXCIpJFwiLFwiaVwiKX19O3JldHVybiByLmluaXQoKSxyfSk7IiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwiLi9wdW55Y29kZVwiKSxyZXF1aXJlKFwiLi9JUHY2XCIpLHJlcXVpcmUoXCIuL1NlY29uZExldmVsRG9tYWluc1wiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCIuL3B1bnljb2RlXCIsXCIuL0lQdjZcIixcIi4vU2Vjb25kTGV2ZWxEb21haW5zXCJdLGUpOnQuVVJJPWUodC5wdW55Y29kZSx0LklQdjYsdC5TZWNvbmRMZXZlbERvbWFpbnMsdCl9KHRoaXMsZnVuY3Rpb24odCxlLHIscyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbj8odm9pZCAwPT09dCYmKHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uP2xvY2F0aW9uLmhyZWYrXCJcIjpcIlwiKSx0aGlzLmhyZWYodCksdm9pZCAwIT09ZT90aGlzLmFic29sdXRlVG8oZSk6dGhpcyk6bmV3IG4odCxlKX1mdW5jdGlvbiBpKHQpe3JldHVybiB0LnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csXCJcXFxcJDFcIil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOlN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLnNsaWNlKDgsLTEpfWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJBcnJheVwiPT09YSh0KX1mdW5jdGlvbiBoKHQsZSl7dmFyIHIscyxuPXt9O2lmKG8oZSkpZm9yKHI9MCxzPWUubGVuZ3RoO3M+cjtyKyspbltlW3JdXT0hMDtlbHNlIG5bZV09ITA7Zm9yKHI9MCxzPXQubGVuZ3RoO3M+cjtyKyspdm9pZCAwIT09blt0W3JdXSYmKHQuc3BsaWNlKHIsMSkscy0tLHItLSk7cmV0dXJuIHR9ZnVuY3Rpb24gdSh0LGUpe3ZhciByLHM7aWYobyhlKSl7Zm9yKHI9MCxzPWUubGVuZ3RoO3M+cjtyKyspaWYoIXUodCxlW3JdKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgbj1hKGUpO2ZvcihyPTAscz10Lmxlbmd0aDtzPnI7cisrKWlmKFwiUmVnRXhwXCI9PT1uKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdFtyXSYmdFtyXS5tYXRjaChlKSlyZXR1cm4hMH1lbHNlIGlmKHRbcl09PT1lKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHAodCxlKXtpZighbyh0KXx8IW8oZSkpcmV0dXJuITE7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTt0LnNvcnQoKSxlLnNvcnQoKTtmb3IodmFyIHI9MCxzPXQubGVuZ3RoO3M+cjtyKyspaWYodFtyXSE9PWVbcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gZXNjYXBlKHQpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC9bIScoKSpdL2csYykucmVwbGFjZSgvXFwqL2csXCIlMkFcIil9dmFyIGQ9cyYmcy5VUkk7bi52ZXJzaW9uPVwiMS4xMi4wXCI7dmFyIGY9bi5wcm90b3R5cGUsbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O24uX3BhcnRzPWZ1bmN0aW9uKCl7cmV0dXJue3Byb3RvY29sOm51bGwsdXNlcm5hbWU6bnVsbCxwYXNzd29yZDpudWxsLGhvc3RuYW1lOm51bGwsdXJuOm51bGwscG9ydDpudWxsLHBhdGg6bnVsbCxxdWVyeTpudWxsLGZyYWdtZW50Om51bGwsZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzOm4uZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLGVzY2FwZVF1ZXJ5U3BhY2U6bi5lc2NhcGVRdWVyeVNwYWNlfX0sbi5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM9ITEsbi5lc2NhcGVRdWVyeVNwYWNlPSEwLG4ucHJvdG9jb2xfZXhwcmVzc2lvbj0vXlthLXpdW2EtejAtOS4rLV0qJC9pLG4uaWRuX2V4cHJlc3Npb249L1teYS16MC05XFwuLV0vaSxuLnB1bnljb2RlX2V4cHJlc3Npb249Lyh4bi0tKS9pLG4uaXA0X2V4cHJlc3Npb249L15cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfSQvLG4uaXA2X2V4cHJlc3Npb249L15cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLG4uZmluZF91cmlfZXhwcmVzc2lvbj0vXFxiKCg/OlthLXpdW1xcdy1dKzooPzpcXC97MSwzfXxbYS16MC05JV0pfHd3d1xcZHswLDN9Wy5dfFthLXowLTkuXFwtXStbLl1bYS16XXsyLDR9XFwvKSg/OlteXFxzKCk8Pl0rfFxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCkpKyg/OlxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCl8W15cXHNgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9naSxuLmZpbmRVcmk9e3N0YXJ0Oi9cXGIoPzooW2Etel1bYS16MC05ListXSo6XFwvXFwvKXx3d3dcXC4pL2dpLGVuZDovW1xcc1xcclxcbl18JC8sdHJpbTovW2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskL30sbi5kZWZhdWx0UG9ydHM9e2h0dHA6XCI4MFwiLGh0dHBzOlwiNDQzXCIsZnRwOlwiMjFcIixnb3BoZXI6XCI3MFwiLHdzOlwiODBcIix3c3M6XCI0NDNcIn0sbi5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnM9L1teYS16QS1aMC05XFwuLV0vLG4uZG9tQXR0cmlidXRlcz17YTpcImhyZWZcIixibG9ja3F1b3RlOlwiY2l0ZVwiLGxpbms6XCJocmVmXCIsYmFzZTpcImhyZWZcIixzY3JpcHQ6XCJzcmNcIixmb3JtOlwiYWN0aW9uXCIsaW1nOlwic3JjXCIsYXJlYTpcImhyZWZcIixpZnJhbWU6XCJzcmNcIixlbWJlZDpcInNyY1wiLHNvdXJjZTpcInNyY1wiLHRyYWNrOlwic3JjXCIsaW5wdXQ6XCJzcmNcIn0sbi5nZXREb21BdHRyaWJ1dGU9ZnVuY3Rpb24odCl7aWYoIXR8fCF0Lm5vZGVOYW1lKXJldHVybiB2b2lkIDA7dmFyIGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWUmJlwiaW1hZ2VcIiE9PXQudHlwZT92b2lkIDA6bi5kb21BdHRyaWJ1dGVzW2VdfSxuLmVuY29kZT1sLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudCxuLmlzbzg4NTk9ZnVuY3Rpb24oKXtuLmVuY29kZT1lc2NhcGUsbi5kZWNvZGU9dW5lc2NhcGV9LG4udW5pY29kZT1mdW5jdGlvbigpe24uZW5jb2RlPWwsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50fSxuLmNoYXJhY3RlcnM9e3BhdGhuYW1lOntlbmNvZGU6e2V4cHJlc3Npb246LyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2dpLG1hcDp7XCIlMjRcIjpcIiRcIixcIiUyNlwiOlwiJlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCIsXCIlM0FcIjpcIjpcIixcIiU0MFwiOlwiQFwifX0sZGVjb2RlOntleHByZXNzaW9uOi9bXFwvXFw/I10vZyxtYXA6e1wiL1wiOlwiJTJGXCIsXCI/XCI6XCIlM0ZcIixcIiNcIjpcIiUyM1wifX19LHJlc2VydmVkOntlbmNvZGU6e2V4cHJlc3Npb246LyUoMjF8MjN8MjR8MjZ8Mjd8Mjh8Mjl8MkF8MkJ8MkN8MkZ8M0F8M0J8M0R8M0Z8NDB8NUJ8NUQpL2dpLG1hcDp7XCIlM0FcIjpcIjpcIixcIiUyRlwiOlwiL1wiLFwiJTNGXCI6XCI/XCIsXCIlMjNcIjpcIiNcIixcIiU1QlwiOlwiW1wiLFwiJTVEXCI6XCJdXCIsXCIlNDBcIjpcIkBcIixcIiUyMVwiOlwiIVwiLFwiJTI0XCI6XCIkXCIsXCIlMjZcIjpcIiZcIixcIiUyN1wiOlwiJ1wiLFwiJTI4XCI6XCIoXCIsXCIlMjlcIjpcIilcIixcIiUyQVwiOlwiKlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCJ9fX19LG4uZW5jb2RlUXVlcnk9ZnVuY3Rpb24odCxlKXt2YXIgcj1uLmVuY29kZSh0K1wiXCIpO3JldHVybiBlP3IucmVwbGFjZSgvJTIwL2csXCIrXCIpOnJ9LG4uZGVjb2RlUXVlcnk9ZnVuY3Rpb24odCxlKXt0Kz1cIlwiO3RyeXtyZXR1cm4gbi5kZWNvZGUoZT90LnJlcGxhY2UoL1xcKy9nLFwiJTIwXCIpOnQpfWNhdGNoKHIpe3JldHVybiB0fX0sbi5yZWNvZGVQYXRoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0odCtcIlwiKS5zcGxpdChcIi9cIikscj0wLHM9ZS5sZW5ndGg7cz5yO3IrKyllW3JdPW4uZW5jb2RlUGF0aFNlZ21lbnQobi5kZWNvZGUoZVtyXSkpO3JldHVybiBlLmpvaW4oXCIvXCIpfSxuLmRlY29kZVBhdGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSh0K1wiXCIpLnNwbGl0KFwiL1wiKSxyPTAscz1lLmxlbmd0aDtzPnI7cisrKWVbcl09bi5kZWNvZGVQYXRoU2VnbWVudChlW3JdKTtyZXR1cm4gZS5qb2luKFwiL1wiKX07dmFyIF8sZz17ZW5jb2RlOlwiZW5jb2RlXCIsZGVjb2RlOlwiZGVjb2RlXCJ9LHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG5bZV0ocitcIlwiKS5yZXBsYWNlKG4uY2hhcmFjdGVyc1t0XVtlXS5leHByZXNzaW9uLGZ1bmN0aW9uKHIpe3JldHVybiBuLmNoYXJhY3RlcnNbdF1bZV0ubWFwW3JdfSl9fTtmb3IoXyBpbiBnKW5bXytcIlBhdGhTZWdtZW50XCJdPXkoXCJwYXRobmFtZVwiLGdbX10pO24uZW5jb2RlUmVzZXJ2ZWQ9eShcInJlc2VydmVkXCIsXCJlbmNvZGVcIiksbi5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiBlfHwoZT17fSkscj10LmluZGV4T2YoXCIjXCIpLHI+LTEmJihlLmZyYWdtZW50PXQuc3Vic3RyaW5nKHIrMSl8fG51bGwsdD10LnN1YnN0cmluZygwLHIpKSxyPXQuaW5kZXhPZihcIj9cIikscj4tMSYmKGUucXVlcnk9dC5zdWJzdHJpbmcocisxKXx8bnVsbCx0PXQuc3Vic3RyaW5nKDAscikpLFwiLy9cIj09PXQuc3Vic3RyaW5nKDAsMik/KGUucHJvdG9jb2w9bnVsbCx0PXQuc3Vic3RyaW5nKDIpLHQ9bi5wYXJzZUF1dGhvcml0eSh0LGUpKToocj10LmluZGV4T2YoXCI6XCIpLHI+LTEmJihlLnByb3RvY29sPXQuc3Vic3RyaW5nKDAscil8fG51bGwsZS5wcm90b2NvbCYmIWUucHJvdG9jb2wubWF0Y2gobi5wcm90b2NvbF9leHByZXNzaW9uKT9lLnByb3RvY29sPXZvaWQgMDpcImZpbGVcIj09PWUucHJvdG9jb2w/dD10LnN1YnN0cmluZyhyKzMpOlwiLy9cIj09PXQuc3Vic3RyaW5nKHIrMSxyKzMpPyh0PXQuc3Vic3RyaW5nKHIrMyksdD1uLnBhcnNlQXV0aG9yaXR5KHQsZSkpOih0PXQuc3Vic3RyaW5nKHIrMSksZS51cm49ITApKSksZS5wYXRoPXQsZX0sbi5wYXJzZUhvc3Q9ZnVuY3Rpb24odCxlKXt2YXIgcixzLG49dC5pbmRleE9mKFwiL1wiKTtyZXR1cm4tMT09PW4mJihuPXQubGVuZ3RoKSxcIltcIj09PXQuY2hhckF0KDApPyhyPXQuaW5kZXhPZihcIl1cIiksZS5ob3N0bmFtZT10LnN1YnN0cmluZygxLHIpfHxudWxsLGUucG9ydD10LnN1YnN0cmluZyhyKzIsbil8fG51bGwpOnQuaW5kZXhPZihcIjpcIikhPT10Lmxhc3RJbmRleE9mKFwiOlwiKT8oZS5ob3N0bmFtZT10LnN1YnN0cmluZygwLG4pfHxudWxsLGUucG9ydD1udWxsKToocz10LnN1YnN0cmluZygwLG4pLnNwbGl0KFwiOlwiKSxlLmhvc3RuYW1lPXNbMF18fG51bGwsZS5wb3J0PXNbMV18fG51bGwpLGUuaG9zdG5hbWUmJlwiL1wiIT09dC5zdWJzdHJpbmcobikuY2hhckF0KDApJiYobisrLHQ9XCIvXCIrdCksdC5zdWJzdHJpbmcobil8fFwiL1wifSxuLnBhcnNlQXV0aG9yaXR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9bi5wYXJzZVVzZXJpbmZvKHQsZSksbi5wYXJzZUhvc3QodCxlKX0sbi5wYXJzZVVzZXJpbmZvPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz10LmluZGV4T2YoXCIvXCIpLGk9cz4tMT90Lmxhc3RJbmRleE9mKFwiQFwiLHMpOnQuaW5kZXhPZihcIkBcIik7cmV0dXJuIGk+LTEmJigtMT09PXN8fHM+aSk/KHI9dC5zdWJzdHJpbmcoMCxpKS5zcGxpdChcIjpcIiksZS51c2VybmFtZT1yWzBdP24uZGVjb2RlKHJbMF0pOm51bGwsci5zaGlmdCgpLGUucGFzc3dvcmQ9clswXT9uLmRlY29kZShyLmpvaW4oXCI6XCIpKTpudWxsLHQ9dC5zdWJzdHJpbmcoaSsxKSk6KGUudXNlcm5hbWU9bnVsbCxlLnBhc3N3b3JkPW51bGwpLHR9LG4ucGFyc2VRdWVyeT1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybnt9O2lmKHQ9dC5yZXBsYWNlKC8mKy9nLFwiJlwiKS5yZXBsYWNlKC9eXFw/KiYqfCYrJC9nLFwiXCIpLCF0KXJldHVybnt9O2Zvcih2YXIgcixzLGksYT17fSxvPXQuc3BsaXQoXCImXCIpLGg9by5sZW5ndGgsdT0wO2g+dTt1Kyspcj1vW3VdLnNwbGl0KFwiPVwiKSxzPW4uZGVjb2RlUXVlcnkoci5zaGlmdCgpLGUpLGk9ci5sZW5ndGg/bi5kZWNvZGVRdWVyeShyLmpvaW4oXCI9XCIpLGUpOm51bGwsYVtzXT8oXCJzdHJpbmdcIj09dHlwZW9mIGFbc10mJihhW3NdPVthW3NdXSksYVtzXS5wdXNoKGkpKTphW3NdPWk7cmV0dXJuIGF9LG4uYnVpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtyZXR1cm4gdC5wcm90b2NvbCYmKGUrPXQucHJvdG9jb2wrXCI6XCIpLHQudXJufHwhZSYmIXQuaG9zdG5hbWV8fChlKz1cIi8vXCIpLGUrPW4uYnVpbGRBdXRob3JpdHkodCl8fFwiXCIsXCJzdHJpbmdcIj09dHlwZW9mIHQucGF0aCYmKFwiL1wiIT09dC5wYXRoLmNoYXJBdCgwKSYmXCJzdHJpbmdcIj09dHlwZW9mIHQuaG9zdG5hbWUmJihlKz1cIi9cIiksZSs9dC5wYXRoKSxcInN0cmluZ1wiPT10eXBlb2YgdC5xdWVyeSYmdC5xdWVyeSYmKGUrPVwiP1wiK3QucXVlcnkpLFwic3RyaW5nXCI9PXR5cGVvZiB0LmZyYWdtZW50JiZ0LmZyYWdtZW50JiYoZSs9XCIjXCIrdC5mcmFnbWVudCksZX0sbi5idWlsZEhvc3Q9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtyZXR1cm4gdC5ob3N0bmFtZT8obi5pcDZfZXhwcmVzc2lvbi50ZXN0KHQuaG9zdG5hbWUpP2UrPXQucG9ydD9cIltcIit0Lmhvc3RuYW1lK1wiXTpcIit0LnBvcnQ6dC5ob3N0bmFtZTooZSs9dC5ob3N0bmFtZSx0LnBvcnQmJihlKz1cIjpcIit0LnBvcnQpKSxlKTpcIlwifSxuLmJ1aWxkQXV0aG9yaXR5PWZ1bmN0aW9uKHQpe3JldHVybiBuLmJ1aWxkVXNlcmluZm8odCkrbi5idWlsZEhvc3QodCl9LG4uYnVpbGRVc2VyaW5mbz1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO3JldHVybiB0LnVzZXJuYW1lJiYoZSs9bi5lbmNvZGUodC51c2VybmFtZSksdC5wYXNzd29yZCYmKGUrPVwiOlwiK24uZW5jb2RlKHQucGFzc3dvcmQpKSxlKz1cIkBcIiksZX0sbi5idWlsZFF1ZXJ5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxpLGEsaCx1PVwiXCI7Zm9yKGkgaW4gdClpZihtLmNhbGwodCxpKSYmaSlpZihvKHRbaV0pKWZvcihzPXt9LGE9MCxoPXRbaV0ubGVuZ3RoO2g+YTthKyspdm9pZCAwIT09dFtpXVthXSYmdm9pZCAwPT09c1t0W2ldW2FdK1wiXCJdJiYodSs9XCImXCIrbi5idWlsZFF1ZXJ5UGFyYW1ldGVyKGksdFtpXVthXSxyKSxlIT09ITAmJihzW3RbaV1bYV0rXCJcIl09ITApKTtlbHNlIHZvaWQgMCE9PXRbaV0mJih1Kz1cIiZcIituLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoaSx0W2ldLHIpKTtyZXR1cm4gdS5zdWJzdHJpbmcoMSl9LG4uYnVpbGRRdWVyeVBhcmFtZXRlcj1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZW5jb2RlUXVlcnkodCxyKSsobnVsbCE9PWU/XCI9XCIrbi5lbmNvZGVRdWVyeShlLHIpOlwiXCIpfSxuLmFkZFF1ZXJ5PWZ1bmN0aW9uKHQsZSxyKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSlmb3IodmFyIHMgaW4gZSltLmNhbGwoZSxzKSYmbi5hZGRRdWVyeSh0LHMsZVtzXSk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7aWYodm9pZCAwPT09dFtlXSlyZXR1cm4gdm9pZCh0W2VdPXIpO1wic3RyaW5nXCI9PXR5cGVvZiB0W2VdJiYodFtlXT1bdFtlXV0pLG8ocil8fChyPVtyXSksdFtlXT10W2VdLmNvbmNhdChyKX19LG4ucmVtb3ZlUXVlcnk9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLGksYTtpZihvKGUpKWZvcihzPTAsaT1lLmxlbmd0aDtpPnM7cysrKXRbZVtzXV09dm9pZCAwO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUpZm9yKGEgaW4gZSltLmNhbGwoZSxhKSYmbi5yZW1vdmVRdWVyeSh0LGEsZVthXSk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyXCIpO3ZvaWQgMCE9PXI/dFtlXT09PXI/dFtlXT12b2lkIDA6byh0W2VdKSYmKHRbZV09aCh0W2VdLHIpKTp0W2VdPXZvaWQgMH19LG4uaGFzUXVlcnk9ZnVuY3Rpb24odCxlLHIscyl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2Zvcih2YXIgaSBpbiBlKWlmKG0uY2FsbChlLGkpJiYhbi5oYXNRdWVyeSh0LGksZVtpXSkpcmV0dXJuITE7cmV0dXJuITB9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyXCIpO3N3aXRjaChhKHIpKXtjYXNlXCJVbmRlZmluZWRcIjpyZXR1cm4gZSBpbiB0O2Nhc2VcIkJvb2xlYW5cIjp2YXIgaD1Cb29sZWFuKG8odFtlXSk/dFtlXS5sZW5ndGg6dFtlXSk7cmV0dXJuIHI9PT1oO2Nhc2VcIkZ1bmN0aW9uXCI6cmV0dXJuISFyKHRbZV0sZSx0KTtjYXNlXCJBcnJheVwiOmlmKCFvKHRbZV0pKXJldHVybiExO3ZhciBjPXM/dTpwO3JldHVybiBjKHRbZV0scik7Y2FzZVwiUmVnRXhwXCI6cmV0dXJuIG8odFtlXSk/cz91KHRbZV0scik6ITE6Qm9vbGVhbih0W2VdJiZ0W2VdLm1hdGNoKHIpKTtjYXNlXCJOdW1iZXJcIjpyPVN0cmluZyhyKTtjYXNlXCJTdHJpbmdcIjpyZXR1cm4gbyh0W2VdKT9zP3UodFtlXSxyKTohMTp0W2VdPT09cjtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlclwiKX19LG4uY29tbW9uUGF0aD1mdW5jdGlvbih0LGUpe3ZhciByLHM9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpO2ZvcihyPTA7cz5yO3IrKylpZih0LmNoYXJBdChyKSE9PWUuY2hhckF0KHIpKXtyLS07YnJlYWt9cmV0dXJuIDE+cj90LmNoYXJBdCgwKT09PWUuY2hhckF0KDApJiZcIi9cIj09PXQuY2hhckF0KDApP1wiL1wiOlwiXCI6KChcIi9cIiE9PXQuY2hhckF0KHIpfHxcIi9cIiE9PWUuY2hhckF0KHIpKSYmKHI9dC5zdWJzdHJpbmcoMCxyKS5sYXN0SW5kZXhPZihcIi9cIikpLHQuc3Vic3RyaW5nKDAscisxKSl9LG4ud2l0aGluU3RyaW5nPWZ1bmN0aW9uKHQsZSxyKXtyfHwocj17fSk7dmFyIHM9ci5zdGFydHx8bi5maW5kVXJpLnN0YXJ0LGk9ci5lbmR8fG4uZmluZFVyaS5lbmQsYT1yLnRyaW18fG4uZmluZFVyaS50cmltLG89L1thLXowLTktXT1bXCInXT8kL2k7Zm9yKHMubGFzdEluZGV4PTA7Oyl7dmFyIGg9cy5leGVjKHQpO2lmKCFoKWJyZWFrO3ZhciB1PWguaW5kZXg7aWYoci5pZ25vcmVIdG1sKXt2YXIgcD10LnNsaWNlKE1hdGgubWF4KHUtMywwKSx1KTtpZihwJiZvLnRlc3QocCkpY29udGludWV9dmFyIGM9dSt0LnNsaWNlKHUpLnNlYXJjaChpKSxsPXQuc2xpY2UodSxjKS5yZXBsYWNlKGEsXCJcIik7aWYoIXIuaWdub3JlfHwhci5pZ25vcmUudGVzdChsKSl7Yz11K2wubGVuZ3RoO3ZhciBkPWUobCx1LGMsdCk7dD10LnNsaWNlKDAsdSkrZCt0LnNsaWNlKGMpLHMubGFzdEluZGV4PXUrZC5sZW5ndGh9fXJldHVybiBzLmxhc3RJbmRleD0wLHR9LG4uZW5zdXJlVmFsaWRIb3N0bmFtZT1mdW5jdGlvbihlKXtpZihlLm1hdGNoKG4uaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSl7aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkhvc3RuYW1lICdcIitlK1wiJyBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZVwiKTtpZih0LnRvQVNDSUkoZSkubWF0Y2gobi5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJIb3N0bmFtZSAnXCIrZStcIicgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV1cIil9fSxuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7aWYodCl7dmFyIHI9e1VSSTp0aGlzLm5vQ29uZmxpY3QoKX07cmV0dXJuIFVSSVRlbXBsYXRlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUklUZW1wbGF0ZS5ub0NvbmZsaWN0JiYoci5VUklUZW1wbGF0ZT1VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCkpLGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUubm9Db25mbGljdCYmKHIuSVB2Nj1lLm5vQ29uZmxpY3QoKSksU2Vjb25kTGV2ZWxEb21haW5zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCYmKHIuU2Vjb25kTGV2ZWxEb21haW5zPVNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0KCkpLHJ9cmV0dXJuIHMuVVJJPT09dGhpcyYmKHMuVVJJPWQpLHRoaXN9LGYuYnVpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMD90aGlzLl9kZWZlcnJlZF9idWlsZD0hMDoodm9pZCAwPT09dHx8dGhpcy5fZGVmZXJyZWRfYnVpbGQpJiYodGhpcy5fc3RyaW5nPW4uYnVpbGQodGhpcy5fcGFydHMpLHRoaXMuX2RlZmVycmVkX2J1aWxkPSExKSx0aGlzfSxmLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfSxmLnZhbHVlT2Y9Zi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1aWxkKCExKS5fc3RyaW5nfSxnPXtwcm90b2NvbDpcInByb3RvY29sXCIsdXNlcm5hbWU6XCJ1c2VybmFtZVwiLHBhc3N3b3JkOlwicGFzc3dvcmRcIixob3N0bmFtZTpcImhvc3RuYW1lXCIscG9ydDpcInBvcnRcIn0seT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLl9wYXJ0c1t0XXx8XCJcIjoodGhpcy5fcGFydHNbdF09ZXx8bnVsbCx0aGlzLmJ1aWxkKCFyKSx0aGlzKX19O2ZvcihfIGluIGcpZltfXT15KGdbX10pO2c9e3F1ZXJ5OlwiP1wiLGZyYWdtZW50OlwiI1wifSx5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHIscyl7cmV0dXJuIHZvaWQgMD09PXI/dGhpcy5fcGFydHNbdF18fFwiXCI6KG51bGwhPT1yJiYocis9XCJcIixyLmNoYXJBdCgwKT09PWUmJihyPXIuc3Vic3RyaW5nKDEpKSksdGhpcy5fcGFydHNbdF09cix0aGlzLmJ1aWxkKCFzKSx0aGlzKX19O2ZvcihfIGluIGcpZltfXT15KF8sZ1tfXSk7Zz17c2VhcmNoOltcIj9cIixcInF1ZXJ5XCJdLGhhc2g6W1wiI1wiLFwiZnJhZ21lbnRcIl19LHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24ocixzKXt2YXIgbj10aGlzW3RdKHIscyk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4mJm4ubGVuZ3RoP2UrbjpufX07Zm9yKF8gaW4gZylmW19dPXkoZ1tfXVsxXSxnW19dWzBdKTtmLnBhdGhuYW1lPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dHx8dD09PSEwKXt2YXIgcj10aGlzLl9wYXJ0cy5wYXRofHwodGhpcy5fcGFydHMuaG9zdG5hbWU/XCIvXCI6XCJcIik7cmV0dXJuIHQ/bi5kZWNvZGVQYXRoKHIpOnJ9cmV0dXJuIHRoaXMuX3BhcnRzLnBhdGg9dD9uLnJlY29kZVBhdGgodCk6XCIvXCIsdGhpcy5idWlsZCghZSksdGhpc30sZi5wYXRoPWYucGF0aG5hbWUsZi5ocmVmPWZ1bmN0aW9uKHQsZSl7dmFyIHI7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy50b1N0cmluZygpO3RoaXMuX3N0cmluZz1cIlwiLHRoaXMuX3BhcnRzPW4uX3BhcnRzKCk7dmFyIHM9dCBpbnN0YW5jZW9mIG4saT1cIm9iamVjdFwiPT10eXBlb2YgdCYmKHQuaG9zdG5hbWV8fHQucGF0aHx8dC5wYXRobmFtZSk7aWYodC5ub2RlTmFtZSl7dmFyIGE9bi5nZXREb21BdHRyaWJ1dGUodCk7dD10W2FdfHxcIlwiLGk9ITF9aWYoIXMmJmkmJnZvaWQgMCE9PXQucGF0aG5hbWUmJih0PXQudG9TdHJpbmcoKSksXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhpcy5fcGFydHM9bi5wYXJzZSh0LHRoaXMuX3BhcnRzKTtlbHNle2lmKCFzJiYhaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiaW52YWxpZCBpbnB1dFwiKTt2YXIgbz1zP3QuX3BhcnRzOnQ7Zm9yKHIgaW4gbyltLmNhbGwodGhpcy5fcGFydHMscikmJih0aGlzLl9wYXJ0c1tyXT1vW3JdKX1yZXR1cm4gdGhpcy5idWlsZCghZSksdGhpc30sZi5pcz1mdW5jdGlvbih0KXt2YXIgZT0hMSxzPSExLGk9ITEsYT0hMSxvPSExLGg9ITEsdT0hMSxwPSF0aGlzLl9wYXJ0cy51cm47c3dpdGNoKHRoaXMuX3BhcnRzLmhvc3RuYW1lJiYocD0hMSxzPW4uaXA0X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSksaT1uLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpLGU9c3x8aSxhPSFlLG89YSYmciYmci5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpLGg9YSYmbi5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSx1PWEmJm4ucHVueWNvZGVfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSksdC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJyZWxhdGl2ZVwiOnJldHVybiBwO2Nhc2VcImFic29sdXRlXCI6cmV0dXJuIXA7Y2FzZVwiZG9tYWluXCI6Y2FzZVwibmFtZVwiOnJldHVybiBhO2Nhc2VcInNsZFwiOnJldHVybiBvO2Nhc2VcImlwXCI6cmV0dXJuIGU7Y2FzZVwiaXA0XCI6Y2FzZVwiaXB2NFwiOmNhc2VcImluZXQ0XCI6cmV0dXJuIHM7Y2FzZVwiaXA2XCI6Y2FzZVwiaXB2NlwiOmNhc2VcImluZXQ2XCI6cmV0dXJuIGk7Y2FzZVwiaWRuXCI6cmV0dXJuIGg7Y2FzZVwidXJsXCI6cmV0dXJuIXRoaXMuX3BhcnRzLnVybjtjYXNlXCJ1cm5cIjpyZXR1cm4hIXRoaXMuX3BhcnRzLnVybjtjYXNlXCJwdW55Y29kZVwiOnJldHVybiB1fXJldHVybiBudWxsfTt2YXIgdj1mLnByb3RvY29sLGI9Zi5wb3J0LFE9Zi5ob3N0bmFtZTtmLnByb3RvY29sPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09dCYmdCYmKHQ9dC5yZXBsYWNlKC86KFxcL1xcLyk/JC8sXCJcIiksIXQubWF0Y2gobi5wcm90b2NvbF9leHByZXNzaW9uKSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3RvY29sICdcIit0K1wiJyBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc24ndCBzdGFydCB3aXRoIFtBLVpdXCIpO3JldHVybiB2LmNhbGwodGhpcyx0LGUpfSxmLnNjaGVtZT1mLnByb3RvY29sLGYucG9ydD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwIT09dCYmKDA9PT10JiYodD1udWxsKSx0JiYodCs9XCJcIixcIjpcIj09PXQuY2hhckF0KDApJiYodD10LnN1YnN0cmluZygxKSksdC5tYXRjaCgvW14wLTldLykpKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUG9ydCAnXCIrdCtcIicgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldXCIpO3JldHVybiBiLmNhbGwodGhpcyx0LGUpfSxmLmhvc3RuYW1lPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDAhPT10KXt2YXIgcj17fTtuLnBhcnNlSG9zdCh0LHIpLHQ9ci5ob3N0bmFtZX1yZXR1cm4gUS5jYWxsKHRoaXMsdCxlKX0sZi5ob3N0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3BhcnRzLnVybj92b2lkIDA9PT10P1wiXCI6dGhpczp2b2lkIDA9PT10P3RoaXMuX3BhcnRzLmhvc3RuYW1lP24uYnVpbGRIb3N0KHRoaXMuX3BhcnRzKTpcIlwiOihuLnBhcnNlSG9zdCh0LHRoaXMuX3BhcnRzKSx0aGlzLmJ1aWxkKCFlKSx0aGlzKX0sZi5hdXRob3JpdHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcGFydHMudXJuP3ZvaWQgMD09PXQ/XCJcIjp0aGlzOnZvaWQgMD09PXQ/dGhpcy5fcGFydHMuaG9zdG5hbWU/bi5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cyk6XCJcIjoobi5wYXJzZUF1dGhvcml0eSh0LHRoaXMuX3BhcnRzKSx0aGlzLmJ1aWxkKCFlKSx0aGlzKX0sZi51c2VyaW5mbz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dCl7aWYoIXRoaXMuX3BhcnRzLnVzZXJuYW1lKXJldHVyblwiXCI7dmFyIHI9bi5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTtyZXR1cm4gci5zdWJzdHJpbmcoMCxyLmxlbmd0aC0xKX1yZXR1cm5cIkBcIiE9PXRbdC5sZW5ndGgtMV0mJih0Kz1cIkBcIiksbi5wYXJzZVVzZXJpbmZvKHQsdGhpcy5fcGFydHMpLHRoaXMuYnVpbGQoIWUpLHRoaXN9LGYucmVzb3VyY2U9ZnVuY3Rpb24odCxlKXt2YXIgcjtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnBhdGgoKSt0aGlzLnNlYXJjaCgpK3RoaXMuaGFzaCgpOihyPW4ucGFyc2UodCksdGhpcy5fcGFydHMucGF0aD1yLnBhdGgsdGhpcy5fcGFydHMucXVlcnk9ci5xdWVyeSx0aGlzLl9wYXJ0cy5mcmFnbWVudD1yLmZyYWdtZW50LHRoaXMuYnVpbGQoIWUpLHRoaXMpfSxmLnN1YmRvbWFpbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dCl7aWYoIXRoaXMuX3BhcnRzLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgcj10aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGgtdGhpcy5kb21haW4oKS5sZW5ndGgtMTtyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAscil8fFwiXCJ9dmFyIHM9dGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoLXRoaXMuZG9tYWluKCkubGVuZ3RoLGE9dGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAscyksbz1uZXcgUmVnRXhwKFwiXlwiK2koYSkpO3JldHVybiB0JiZcIi5cIiE9PXQuY2hhckF0KHQubGVuZ3RoLTEpJiYodCs9XCIuXCIpLHQmJm4uZW5zdXJlVmFsaWRIb3N0bmFtZSh0KSx0aGlzLl9wYXJ0cy5ob3N0bmFtZT10aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKG8sdCksdGhpcy5idWlsZCghZSksdGhpc30sZi5kb21haW49ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9wYXJ0cy51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdCYmKGU9dCx0PXZvaWQgMCksdm9pZCAwPT09dCl7aWYoIXRoaXMuX3BhcnRzLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgcj10aGlzLl9wYXJ0cy5ob3N0bmFtZS5tYXRjaCgvXFwuL2cpO2lmKHImJnIubGVuZ3RoPDIpcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lO3ZhciBzPXRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aC10aGlzLnRsZChlKS5sZW5ndGgtMTtyZXR1cm4gcz10aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZihcIi5cIixzLTEpKzEsdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHMpfHxcIlwifWlmKCF0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IGRvbWFpbiBlbXB0eVwiKTtpZihuLmVuc3VyZVZhbGlkSG9zdG5hbWUodCksIXRoaXMuX3BhcnRzLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpdGhpcy5fcGFydHMuaG9zdG5hbWU9dDtlbHNle3ZhciBhPW5ldyBSZWdFeHAoaSh0aGlzLmRvbWFpbigpKStcIiRcIik7dGhpcy5fcGFydHMuaG9zdG5hbWU9dGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShhLHQpfXJldHVybiB0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLnRsZD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0JiYoZT10LHQ9dm9pZCAwKSx2b2lkIDA9PT10KXtpZighdGhpcy5fcGFydHMuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciBzPXRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKFwiLlwiKSxuPXRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhzKzEpO3JldHVybiBlIT09ITAmJnImJnIubGlzdFtuLnRvTG93ZXJDYXNlKCldP3IuZ2V0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKXx8bjpufXZhciBhO2lmKCF0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IFRMRCBlbXB0eVwiKTtpZih0Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpe2lmKCFyfHwhci5pcyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVExEICdcIit0K1wiJyBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV1cIik7YT1uZXcgUmVnRXhwKGkodGhpcy50bGQoKSkrXCIkXCIpLHRoaXMuX3BhcnRzLmhvc3RuYW1lPXRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UoYSx0KX1lbHNle2lmKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcImNhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdFwiKTthPW5ldyBSZWdFeHAoaSh0aGlzLnRsZCgpKStcIiRcIiksdGhpcy5fcGFydHMuaG9zdG5hbWU9dGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShhLHQpfXJldHVybiB0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLmRpcmVjdG9yeT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dHx8dD09PSEwKXtpZighdGhpcy5fcGFydHMucGF0aCYmIXRoaXMuX3BhcnRzLmhvc3RuYW1lKXJldHVyblwiXCI7aWYoXCIvXCI9PT10aGlzLl9wYXJ0cy5wYXRoKXJldHVyblwiL1wiO3ZhciByPXRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoLXRoaXMuZmlsZW5hbWUoKS5sZW5ndGgtMSxzPXRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAscil8fCh0aGlzLl9wYXJ0cy5ob3N0bmFtZT9cIi9cIjpcIlwiKTtyZXR1cm4gdD9uLmRlY29kZVBhdGgocyk6c312YXIgYT10aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aC10aGlzLmZpbGVuYW1lKCkubGVuZ3RoLG89dGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCxhKSxoPW5ldyBSZWdFeHAoXCJeXCIraShvKSk7cmV0dXJuIHRoaXMuaXMoXCJyZWxhdGl2ZVwiKXx8KHR8fCh0PVwiL1wiKSxcIi9cIiE9PXQuY2hhckF0KDApJiYodD1cIi9cIit0KSksdCYmXCIvXCIhPT10LmNoYXJBdCh0Lmxlbmd0aC0xKSYmKHQrPVwiL1wiKSx0PW4ucmVjb2RlUGF0aCh0KSx0aGlzLl9wYXJ0cy5wYXRoPXRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShoLHQpLHRoaXMuYnVpbGQoIWUpLHRoaXN9LGYuZmlsZW5hbWU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9wYXJ0cy51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXR8fHQ9PT0hMCl7aWYoIXRoaXMuX3BhcnRzLnBhdGh8fFwiL1wiPT09dGhpcy5fcGFydHMucGF0aClyZXR1cm5cIlwiO3ZhciByPXRoaXMuX3BhcnRzLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpLHM9dGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocisxKTtyZXR1cm4gdD9uLmRlY29kZVBhdGhTZWdtZW50KHMpOnN9dmFyIGE9ITE7XCIvXCI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zdWJzdHJpbmcoMSkpLHQubWF0Y2goL1xcLj9cXC8vKSYmKGE9ITApO3ZhciBvPW5ldyBSZWdFeHAoaSh0aGlzLmZpbGVuYW1lKCkpK1wiJFwiKTtyZXR1cm4gdD1uLnJlY29kZVBhdGgodCksdGhpcy5fcGFydHMucGF0aD10aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2Uobyx0KSxhP3RoaXMubm9ybWFsaXplUGF0aChlKTp0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLnN1ZmZpeD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dHx8dD09PSEwKXtpZighdGhpcy5fcGFydHMucGF0aHx8XCIvXCI9PT10aGlzLl9wYXJ0cy5wYXRoKXJldHVyblwiXCI7dmFyIHIscyxhPXRoaXMuZmlsZW5hbWUoKSxvPWEubGFzdEluZGV4T2YoXCIuXCIpO3JldHVybi0xPT09bz9cIlwiOihyPWEuc3Vic3RyaW5nKG8rMSkscz0vXlthLXowLTklXSskL2kudGVzdChyKT9yOlwiXCIsdD9uLmRlY29kZVBhdGhTZWdtZW50KHMpOnMpfVwiLlwiPT09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyaW5nKDEpKTt2YXIgaCx1PXRoaXMuc3VmZml4KCk7aWYodSloPW5ldyBSZWdFeHAodD9pKHUpK1wiJFwiOmkoXCIuXCIrdSkrXCIkXCIpO2Vsc2V7aWYoIXQpcmV0dXJuIHRoaXM7dGhpcy5fcGFydHMucGF0aCs9XCIuXCIrbi5yZWNvZGVQYXRoKHQpfXJldHVybiBoJiYodD1uLnJlY29kZVBhdGgodCksdGhpcy5fcGFydHMucGF0aD10aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UoaCx0KSksdGhpcy5idWlsZCghZSksdGhpc30sZi5zZWdtZW50PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcz10aGlzLl9wYXJ0cy51cm4/XCI6XCI6XCIvXCIsbj10aGlzLnBhdGgoKSxpPVwiL1wiPT09bi5zdWJzdHJpbmcoMCwxKSxhPW4uc3BsaXQocyk7aWYodm9pZCAwIT09dCYmXCJudW1iZXJcIiE9dHlwZW9mIHQmJihyPWUsZT10LHQ9dm9pZCAwKSx2b2lkIDAhPT10JiZcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc2VnbWVudCAnXCIrdCtcIicsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyXCIpO2lmKGkmJmEuc2hpZnQoKSwwPnQmJih0PU1hdGgubWF4KGEubGVuZ3RoK3QsMCkpLHZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMD09PXQ/YTphW3RdO2lmKG51bGw9PT10fHx2b2lkIDA9PT1hW3RdKWlmKG8oZSkpe2E9W107Zm9yKHZhciBoPTAsdT1lLmxlbmd0aDt1Pmg7aCsrKShlW2hdLmxlbmd0aHx8YS5sZW5ndGgmJmFbYS5sZW5ndGgtMV0ubGVuZ3RoKSYmKGEubGVuZ3RoJiYhYVthLmxlbmd0aC0xXS5sZW5ndGgmJmEucG9wKCksYS5wdXNoKGVbaF0pKX1lbHNlKGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlKSYmKFwiXCI9PT1hW2EubGVuZ3RoLTFdP2FbYS5sZW5ndGgtMV09ZTphLnB1c2goZSkpO2Vsc2UgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubGVuZ3RoP2FbdF09ZTphLnNwbGljZSh0LDEpO3JldHVybiBpJiZhLnVuc2hpZnQoXCJcIiksdGhpcy5wYXRoKGEuam9pbihzKSxyKX0sZi5zZWdtZW50Q29kZWQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLGksYTtpZihcIm51bWJlclwiIT10eXBlb2YgdCYmKHI9ZSxlPXQsdD12b2lkIDApLHZvaWQgMD09PWUpe2lmKHM9dGhpcy5zZWdtZW50KHQsZSxyKSxvKHMpKWZvcihpPTAsYT1zLmxlbmd0aDthPmk7aSsrKXNbaV09bi5kZWNvZGUoc1tpXSk7ZWxzZSBzPXZvaWQgMCE9PXM/bi5kZWNvZGUocyk6dm9pZCAwO3JldHVybiBzfWlmKG8oZSkpZm9yKGk9MCxhPWUubGVuZ3RoO2E+aTtpKyspZVtpXT1uLmRlY29kZShlW2ldKTtlbHNlIGU9XCJzdHJpbmdcIj09dHlwZW9mIGU/bi5lbmNvZGUoZSk6ZTtyZXR1cm4gdGhpcy5zZWdtZW50KHQsZSxyKX07dmFyIHc9Zi5xdWVyeTtyZXR1cm4gZi5xdWVyeT1mdW5jdGlvbih0LGUpe2lmKHQ9PT0hMClyZXR1cm4gbi5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciByPW4ucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSxzPXQuY2FsbCh0aGlzLHIpO3JldHVybiB0aGlzLl9wYXJ0cy5xdWVyeT1uLmJ1aWxkUXVlcnkoc3x8cix0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSksdGhpcy5idWlsZCghZSksdGhpc31yZXR1cm4gdm9pZCAwIT09dCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQ/KHRoaXMuX3BhcnRzLnF1ZXJ5PW4uYnVpbGRRdWVyeSh0LHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSx0aGlzLmJ1aWxkKCFlKSx0aGlzKTp3LmNhbGwodGhpcyx0LGUpfSxmLnNldFF1ZXJ5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1uLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpbS5jYWxsKHQsaSkmJihzW2ldPXRbaV0pO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyXCIpO3NbdF09dm9pZCAwIT09ZT9lOm51bGx9cmV0dXJuIHRoaXMuX3BhcnRzLnF1ZXJ5PW4uYnVpbGRRdWVyeShzLHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSxcInN0cmluZ1wiIT10eXBlb2YgdCYmKHI9ZSksdGhpcy5idWlsZCghciksdGhpc30sZi5hZGRRdWVyeT1mdW5jdGlvbih0LGUscil7dmFyIHM9bi5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO3JldHVybiBuLmFkZFF1ZXJ5KHMsdCx2b2lkIDA9PT1lP251bGw6ZSksdGhpcy5fcGFydHMucXVlcnk9bi5idWlsZFF1ZXJ5KHMsdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLFwic3RyaW5nXCIhPXR5cGVvZiB0JiYocj1lKSx0aGlzLmJ1aWxkKCFyKSx0aGlzfSxmLnJlbW92ZVF1ZXJ5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1uLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7cmV0dXJuIG4ucmVtb3ZlUXVlcnkocyx0LGUpLHRoaXMuX3BhcnRzLnF1ZXJ5PW4uYnVpbGRRdWVyeShzLHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSxcInN0cmluZ1wiIT10eXBlb2YgdCYmKHI9ZSksdGhpcy5idWlsZCghciksdGhpc30sZi5oYXNRdWVyeT1mdW5jdGlvbih0LGUscil7dmFyIHM9bi5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO3JldHVybiBuLmhhc1F1ZXJ5KHMsdCxlLHIpfSxmLnNldFNlYXJjaD1mLnNldFF1ZXJ5LGYuYWRkU2VhcmNoPWYuYWRkUXVlcnksZi5yZW1vdmVTZWFyY2g9Zi5yZW1vdmVRdWVyeSxmLmhhc1NlYXJjaD1mLmhhc1F1ZXJ5LGYubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRzLnVybj90aGlzLm5vcm1hbGl6ZVByb3RvY29sKCExKS5ub3JtYWxpemVRdWVyeSghMSkubm9ybWFsaXplRnJhZ21lbnQoITEpLmJ1aWxkKCk6dGhpcy5ub3JtYWxpemVQcm90b2NvbCghMSkubm9ybWFsaXplSG9zdG5hbWUoITEpLm5vcm1hbGl6ZVBvcnQoITEpLm5vcm1hbGl6ZVBhdGgoITEpLm5vcm1hbGl6ZVF1ZXJ5KCExKS5ub3JtYWxpemVGcmFnbWVudCghMSkuYnVpbGQoKX0sZi5ub3JtYWxpemVQcm90b2NvbD1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wmJih0aGlzLl9wYXJ0cy5wcm90b2NvbD10aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLHRoaXMuYnVpbGQoIXQpKSx0aGlzfSxmLm5vcm1hbGl6ZUhvc3RuYW1lPWZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSYmKHRoaXMuaXMoXCJJRE5cIikmJnQ/dGhpcy5fcGFydHMuaG9zdG5hbWU9dC50b0FTQ0lJKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTp0aGlzLmlzKFwiSVB2NlwiKSYmZSYmKHRoaXMuX3BhcnRzLmhvc3RuYW1lPWUuYmVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkpLHRoaXMuX3BhcnRzLmhvc3RuYW1lPXRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksdGhpcy5idWlsZCghcikpLHRoaXN9LGYubm9ybWFsaXplUG9ydD1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wmJnRoaXMuX3BhcnRzLnBvcnQ9PT1uLmRlZmF1bHRQb3J0c1t0aGlzLl9wYXJ0cy5wcm90b2NvbF0mJih0aGlzLl9wYXJ0cy5wb3J0PW51bGwsdGhpcy5idWlsZCghdCkpLHRoaXN9LGYubm9ybWFsaXplUGF0aD1mdW5jdGlvbih0KXtpZih0aGlzLl9wYXJ0cy51cm4pcmV0dXJuIHRoaXM7aWYoIXRoaXMuX3BhcnRzLnBhdGh8fFwiL1wiPT09dGhpcy5fcGFydHMucGF0aClyZXR1cm4gdGhpczt2YXIgZSxyLHMsaT10aGlzLl9wYXJ0cy5wYXRoLGE9XCJcIjtmb3IoXCIvXCIhPT1pLmNoYXJBdCgwKSYmKGU9ITAsaT1cIi9cIitpKSxpPWkucmVwbGFjZSgvKFxcLyhcXC5cXC8pKyl8KFxcL1xcLiQpL2csXCIvXCIpLnJlcGxhY2UoL1xcL3syLH0vZyxcIi9cIiksZSYmKGE9aS5zdWJzdHJpbmcoMSkubWF0Y2goL14oXFwuXFwuXFwvKSsvKXx8XCJcIixhJiYoYT1hWzBdKSk7Oyl7aWYocj1pLmluZGV4T2YoXCIvLi5cIiksLTE9PT1yKWJyZWFrOzAhPT1yPyhzPWkuc3Vic3RyaW5nKDAscikubGFzdEluZGV4T2YoXCIvXCIpLC0xPT09cyYmKHM9ciksaT1pLnN1YnN0cmluZygwLHMpK2kuc3Vic3RyaW5nKHIrMykpOmk9aS5zdWJzdHJpbmcoMyl9cmV0dXJuIGUmJnRoaXMuaXMoXCJyZWxhdGl2ZVwiKSYmKGk9YStpLnN1YnN0cmluZygxKSksaT1uLnJlY29kZVBhdGgoaSksdGhpcy5fcGFydHMucGF0aD1pLHRoaXMuYnVpbGQoIXQpLHRoaXN9LGYubm9ybWFsaXplUGF0aG5hbWU9Zi5ub3JtYWxpemVQYXRoLGYubm9ybWFsaXplUXVlcnk9ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuX3BhcnRzLnF1ZXJ5JiYodGhpcy5fcGFydHMucXVlcnkubGVuZ3RoP3RoaXMucXVlcnkobi5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTp0aGlzLl9wYXJ0cy5xdWVyeT1udWxsLHRoaXMuYnVpbGQoIXQpKSx0aGlzfSxmLm5vcm1hbGl6ZUZyYWdtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXJ0cy5mcmFnbWVudHx8KHRoaXMuX3BhcnRzLmZyYWdtZW50PW51bGwsdGhpcy5idWlsZCghdCkpLHRoaXN9LGYubm9ybWFsaXplU2VhcmNoPWYubm9ybWFsaXplUXVlcnksZi5ub3JtYWxpemVIYXNoPWYubm9ybWFsaXplRnJhZ21lbnQsZi5pc284ODU5PWZ1bmN0aW9uKCl7dmFyIHQ9bi5lbmNvZGUsZT1uLmRlY29kZTtyZXR1cm4gbi5lbmNvZGU9ZXNjYXBlLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudCx0aGlzLm5vcm1hbGl6ZSgpLG4uZW5jb2RlPXQsbi5kZWNvZGU9ZSx0aGlzfSxmLnVuaWNvZGU9ZnVuY3Rpb24oKXt2YXIgdD1uLmVuY29kZSxlPW4uZGVjb2RlO3JldHVybiBuLmVuY29kZT1sLG4uZGVjb2RlPXVuZXNjYXBlLHRoaXMubm9ybWFsaXplKCksbi5lbmNvZGU9dCxuLmRlY29kZT1lLHRoaXN9LGYucmVhZGFibGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNsb25lKCk7ZS51c2VybmFtZShcIlwiKS5wYXNzd29yZChcIlwiKS5ub3JtYWxpemUoKTt2YXIgcj1cIlwiO2lmKGUuX3BhcnRzLnByb3RvY29sJiYocis9ZS5fcGFydHMucHJvdG9jb2wrXCI6Ly9cIiksZS5fcGFydHMuaG9zdG5hbWUmJihlLmlzKFwicHVueWNvZGVcIikmJnQ/KHIrPXQudG9Vbmljb2RlKGUuX3BhcnRzLmhvc3RuYW1lKSxlLl9wYXJ0cy5wb3J0JiYocis9XCI6XCIrZS5fcGFydHMucG9ydCkpOnIrPWUuaG9zdCgpKSxlLl9wYXJ0cy5ob3N0bmFtZSYmZS5fcGFydHMucGF0aCYmXCIvXCIhPT1lLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSYmKHIrPVwiL1wiKSxyKz1lLnBhdGgoITApLGUuX3BhcnRzLnF1ZXJ5KXtmb3IodmFyIHM9XCJcIixpPTAsYT1lLl9wYXJ0cy5xdWVyeS5zcGxpdChcIiZcIiksbz1hLmxlbmd0aDtvPmk7aSsrKXt2YXIgaD0oYVtpXXx8XCJcIikuc3BsaXQoXCI9XCIpO3MrPVwiJlwiK24uZGVjb2RlUXVlcnkoaFswXSx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKS5yZXBsYWNlKC8mL2csXCIlMjZcIiksdm9pZCAwIT09aFsxXSYmKHMrPVwiPVwiK24uZGVjb2RlUXVlcnkoaFsxXSx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKS5yZXBsYWNlKC8mL2csXCIlMjZcIikpfXIrPVwiP1wiK3Muc3Vic3RyaW5nKDEpfXJldHVybiByKz1uLmRlY29kZVF1ZXJ5KGUuaGFzaCgpLCEwKX0sZi5hYnNvbHV0ZVRvPWZ1bmN0aW9uKHQpe3ZhciBlLHIscyxpPXRoaXMuY2xvbmUoKSxhPVtcInByb3RvY29sXCIsXCJ1c2VybmFtZVwiLFwicGFzc3dvcmRcIixcImhvc3RuYW1lXCIsXCJwb3J0XCJdO2lmKHRoaXMuX3BhcnRzLnVybil0aHJvdyBuZXcgRXJyb3IoXCJVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50c1wiKTtpZih0IGluc3RhbmNlb2Ygbnx8KHQ9bmV3IG4odCkpLGkuX3BhcnRzLnByb3RvY29sfHwoaS5fcGFydHMucHJvdG9jb2w9dC5fcGFydHMucHJvdG9jb2wpLHRoaXMuX3BhcnRzLmhvc3RuYW1lKXJldHVybiBpO2ZvcihyPTA7cz1hW3JdO3IrKylpLl9wYXJ0c1tzXT10Ll9wYXJ0c1tzXTtyZXR1cm4gaS5fcGFydHMucGF0aD9cIi4uXCI9PT1pLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikmJihpLl9wYXJ0cy5wYXRoKz1cIi9cIik6KGkuX3BhcnRzLnBhdGg9dC5fcGFydHMucGF0aCxpLl9wYXJ0cy5xdWVyeXx8KGkuX3BhcnRzLnF1ZXJ5PXQuX3BhcnRzLnF1ZXJ5KSksXCIvXCIhPT1pLnBhdGgoKS5jaGFyQXQoMCkmJihlPXQuZGlyZWN0b3J5KCksaS5fcGFydHMucGF0aD0oZT9lK1wiL1wiOlwiXCIpK2kuX3BhcnRzLnBhdGgsaS5ub3JtYWxpemVQYXRoKCkpLGkuYnVpbGQoKSxpfSxmLnJlbGF0aXZlVG89ZnVuY3Rpb24odCl7dmFyIGUscixzLGksYSxvPXRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtpZihvLl9wYXJ0cy51cm4pdGhyb3cgbmV3IEVycm9yKFwiVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHNcIik7aWYodD1uZXcgbih0KS5ub3JtYWxpemUoKSxlPW8uX3BhcnRzLHI9dC5fcGFydHMsaT1vLnBhdGgoKSxhPXQucGF0aCgpLFwiL1wiIT09aS5jaGFyQXQoMCkpdGhyb3cgbmV3IEVycm9yKFwiVVJJIGlzIGFscmVhZHkgcmVsYXRpdmVcIik7aWYoXCIvXCIhPT1hLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJXCIpO2lmKGUucHJvdG9jb2w9PT1yLnByb3RvY29sJiYoZS5wcm90b2NvbD1udWxsKSxlLnVzZXJuYW1lIT09ci51c2VybmFtZXx8ZS5wYXNzd29yZCE9PXIucGFzc3dvcmQpcmV0dXJuIG8uYnVpbGQoKTtpZihudWxsIT09ZS5wcm90b2NvbHx8bnVsbCE9PWUudXNlcm5hbWV8fG51bGwhPT1lLnBhc3N3b3JkKXJldHVybiBvLmJ1aWxkKCk7aWYoZS5ob3N0bmFtZSE9PXIuaG9zdG5hbWV8fGUucG9ydCE9PXIucG9ydClyZXR1cm4gby5idWlsZCgpO2lmKGUuaG9zdG5hbWU9bnVsbCxlLnBvcnQ9bnVsbCxpPT09YSlyZXR1cm4gZS5wYXRoPVwiXCIsby5idWlsZCgpO2lmKHM9bi5jb21tb25QYXRoKG8ucGF0aCgpLHQucGF0aCgpKSwhcylyZXR1cm4gby5idWlsZCgpO3ZhciBoPXIucGF0aC5zdWJzdHJpbmcocy5sZW5ndGgpLnJlcGxhY2UoL1teXFwvXSokLyxcIlwiKS5yZXBsYWNlKC8uKj9cXC8vZyxcIi4uL1wiKTtyZXR1cm4gZS5wYXRoPWgrZS5wYXRoLnN1YnN0cmluZyhzLmxlbmd0aCksby5idWlsZCgpfSxmLmVxdWFscz1mdW5jdGlvbih0KXt2YXIgZSxyLHMsaT10aGlzLmNsb25lKCksYT1uZXcgbih0KSxoPXt9LHU9e30sYz17fTtpZihpLm5vcm1hbGl6ZSgpLGEubm9ybWFsaXplKCksaS50b1N0cmluZygpPT09YS50b1N0cmluZygpKXJldHVybiEwO2lmKGU9aS5xdWVyeSgpLHI9YS5xdWVyeSgpLGkucXVlcnkoXCJcIiksYS5xdWVyeShcIlwiKSxpLnRvU3RyaW5nKCkhPT1hLnRvU3RyaW5nKCkpcmV0dXJuITE7aWYoZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtoPW4ucGFyc2VRdWVyeShlLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLHU9bi5wYXJzZVF1ZXJ5KHIsdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7Zm9yKHMgaW4gaClpZihtLmNhbGwoaCxzKSl7aWYobyhoW3NdKSl7aWYoIXAoaFtzXSx1W3NdKSlyZXR1cm4hMX1lbHNlIGlmKGhbc10hPT11W3NdKXJldHVybiExO2Nbc109ITB9Zm9yKHMgaW4gdSlpZihtLmNhbGwodSxzKSYmIWNbc10pcmV0dXJuITE7cmV0dXJuITB9LGYuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM9ISF0LHRoaXN9LGYuZXNjYXBlUXVlcnlTcGFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZT0hIXQsdGhpc30sbn0pOyIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbiFmdW5jdGlvbihvKXtmdW5jdGlvbiBlKG8pe3Rocm93IFJhbmdlRXJyb3IoTFtvXSl9ZnVuY3Rpb24gbihvLGUpe2Zvcih2YXIgbj1vLmxlbmd0aDtuLS07KW9bbl09ZShvW25dKTtyZXR1cm4gb31mdW5jdGlvbiB0KG8sZSl7cmV0dXJuIG4oby5zcGxpdChTKSxlKS5qb2luKFwiLlwiKX1mdW5jdGlvbiByKG8pe2Zvcih2YXIgZSxuLHQ9W10scj0wLHU9by5sZW5ndGg7dT5yOyllPW8uY2hhckNvZGVBdChyKyspLGU+PTU1Mjk2JiY1NjMxOT49ZSYmdT5yPyhuPW8uY2hhckNvZGVBdChyKyspLDU2MzIwPT0oNjQ1MTImbik/dC5wdXNoKCgoMTAyMyZlKTw8MTApKygxMDIzJm4pKzY1NTM2KToodC5wdXNoKGUpLHItLSkpOnQucHVzaChlKTtyZXR1cm4gdH1mdW5jdGlvbiB1KG8pe3JldHVybiBuKG8sZnVuY3Rpb24obyl7dmFyIGU9XCJcIjtyZXR1cm4gbz42NTUzNSYmKG8tPTY1NTM2LGUrPVIobz4+PjEwJjEwMjN8NTUyOTYpLG89NTYzMjB8MTAyMyZvKSxlKz1SKG8pfSkuam9pbihcIlwiKX1mdW5jdGlvbiBpKG8pe3JldHVybiAxMD5vLTQ4P28tMjI6MjY+by02NT9vLTY1OjI2Pm8tOTc/by05Nzp4fWZ1bmN0aW9uIGYobyxlKXtyZXR1cm4gbysyMis3NSooMjY+byktKCgwIT1lKTw8NSl9ZnVuY3Rpb24gYyhvLGUsbil7dmFyIHQ9MDtmb3Iobz1uP1Aoby9tKTpvPj4xLG8rPVAoby9lKTtvPk0qeT4+MTt0Kz14KW89UChvL00pO3JldHVybiBQKHQrKE0rMSkqby8obytqKSl9ZnVuY3Rpb24gbChvKXt2YXIgbix0LHIsZixsLGQscyxhLHAsaCx2PVtdLGc9by5sZW5ndGgsdz0wLGo9SSxtPUE7Zm9yKHQ9by5sYXN0SW5kZXhPZihGKSwwPnQmJih0PTApLHI9MDt0PnI7KytyKW8uY2hhckNvZGVBdChyKT49MTI4JiZlKFwibm90LWJhc2ljXCIpLHYucHVzaChvLmNoYXJDb2RlQXQocikpO2ZvcihmPXQ+MD90KzE6MDtnPmY7KXtmb3IobD13LGQ9MSxzPXg7Zj49ZyYmZShcImludmFsaWQtaW5wdXRcIiksYT1pKG8uY2hhckNvZGVBdChmKyspKSwoYT49eHx8YT5QKChiLXcpL2QpKSYmZShcIm92ZXJmbG93XCIpLHcrPWEqZCxwPW0+PXM/QzpzPj1tK3k/eTpzLW0sIShwPmEpO3MrPXgpaD14LXAsZD5QKGIvaCkmJmUoXCJvdmVyZmxvd1wiKSxkKj1oO249di5sZW5ndGgrMSxtPWMody1sLG4sMD09bCksUCh3L24pPmItaiYmZShcIm92ZXJmbG93XCIpLGorPVAody9uKSx3JT1uLHYuc3BsaWNlKHcrKywwLGopfXJldHVybiB1KHYpfWZ1bmN0aW9uIGQobyl7dmFyIG4sdCx1LGksbCxkLHMsYSxwLGgsdixnLHcsaixtLEU9W107Zm9yKG89cihvKSxnPW8ubGVuZ3RoLG49SSx0PTAsbD1BLGQ9MDtnPmQ7KytkKXY9b1tkXSwxMjg+diYmRS5wdXNoKFIodikpO2Zvcih1PWk9RS5sZW5ndGgsaSYmRS5wdXNoKEYpO2c+dTspe2ZvcihzPWIsZD0wO2c+ZDsrK2Qpdj1vW2RdLHY+PW4mJnM+diYmKHM9dik7Zm9yKHc9dSsxLHMtbj5QKChiLXQpL3cpJiZlKFwib3ZlcmZsb3dcIiksdCs9KHMtbikqdyxuPXMsZD0wO2c+ZDsrK2QpaWYodj1vW2RdLG4+diYmKyt0PmImJmUoXCJvdmVyZmxvd1wiKSx2PT1uKXtmb3IoYT10LHA9eDtoPWw+PXA/QzpwPj1sK3k/eTpwLWwsIShoPmEpO3ArPXgpbT1hLWgsaj14LWgsRS5wdXNoKFIoZihoK20laiwwKSkpLGE9UChtL2opO0UucHVzaChSKGYoYSwwKSkpLGw9Yyh0LHcsdT09aSksdD0wLCsrdX0rK3QsKytufXJldHVybiBFLmpvaW4oXCJcIil9ZnVuY3Rpb24gcyhvKXtyZXR1cm4gdChvLGZ1bmN0aW9uKG8pe3JldHVybiBFLnRlc3Qobyk/bChvLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOm99KX1mdW5jdGlvbiBhKG8pe3JldHVybiB0KG8sZnVuY3Rpb24obyl7cmV0dXJuIE8udGVzdChvKT9cInhuLS1cIitkKG8pOm99KX12YXIgcD1cIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyxoPVwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmbW9kdWxlLmV4cG9ydHM9PXAmJm1vZHVsZSx2PVwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbDsodi5nbG9iYWw9PT12fHx2LndpbmRvdz09PXYpJiYobz12KTt2YXIgZyx3LGI9MjE0NzQ4MzY0Nyx4PTM2LEM9MSx5PTI2LGo9MzgsbT03MDAsQT03MixJPTEyOCxGPVwiLVwiLEU9L154bi0tLyxPPS9bXiAtfl0vLFM9L1xceDJFfFxcdTMwMDJ8XFx1RkYwRXxcXHVGRjYxL2csTD17b3ZlcmZsb3c6XCJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzc1wiLFwibm90LWJhc2ljXCI6XCJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpXCIsXCJpbnZhbGlkLWlucHV0XCI6XCJJbnZhbGlkIGlucHV0XCJ9LE09eC1DLFA9TWF0aC5mbG9vcixSPVN0cmluZy5mcm9tQ2hhckNvZGU7aWYoZz17dmVyc2lvbjpcIjEuMi4zXCIsdWNzMjp7ZGVjb2RlOnIsZW5jb2RlOnV9LGRlY29kZTpsLGVuY29kZTpkLHRvQVNDSUk6YSx0b1VuaWNvZGU6c30sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZcIm9iamVjdFwiPT10eXBlb2YgZGVmaW5lLmFtZCYmZGVmaW5lLmFtZClkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gZ30pO2Vsc2UgaWYocCYmIXAubm9kZVR5cGUpaWYoaCloLmV4cG9ydHM9ZztlbHNlIGZvcih3IGluIGcpZy5oYXNPd25Qcm9wZXJ0eSh3KSYmKHBbd109Z1t3XSk7ZWxzZSBvLnB1bnljb2RlPWd9KHRoaXMpO1xufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBsb2dnZXIobil7ZnVuY3Rpb24gbyhuKXtmb3IodmFyIG89W10sZT0wO2U8bi5sZW5ndGg7ZSsrKW9bZV09bltlXTtyZXR1cm4gb312YXIgZT10aGlzO3RoaXMubG9nPWZ1bmN0aW9uKCl7dmFyIG49byhhcmd1bWVudHMpO2UuY2hlY2tlcihuLERFQlVHLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKG4pfSl9LHRoaXMuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgbj1vKGFyZ3VtZW50cyk7ZS5jaGVja2VyKG4sRVJST1IsZnVuY3Rpb24obil7Y29uc29sZS5lcnJvcihuKX0pfSx0aGlzLndhcm49ZnVuY3Rpb24oKXt2YXIgbj1vKGFyZ3VtZW50cyk7ZS5jaGVja2VyKG4sV0FSTixmdW5jdGlvbihuKXtjb25zb2xlLndhcm4obil9KX0sdGhpcy5pbmZvPWZ1bmN0aW9uKCl7dmFyIG49byhhcmd1bWVudHMpO2UuY2hlY2tlcihuLElORk8sZnVuY3Rpb24obil7Y29uc29sZS5pbmZvKG4pfSl9LHRoaXMucHJpbnRlcj1mdW5jdGlvbihuLG8pe1wiT2JqZWN0XCI9PXR5cGVvZiBuJiYod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlBoYW50b21KU1wiKT4tMT9uPUpTT04uc3RyaW5naWZ5KG4pOm89Y29uc29sZS5kaXIpLG8obil9LHRoaXMuY2hlY2tlcj1mdW5jdGlvbihvLHIsdCl7by5sZW5ndGg+MSYmY29uc29sZS5ncm91cCgpLG8uZm9yRWFjaChmdW5jdGlvbihvKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgbiYmbnVsbCE9PW4mJnImJmUucHJpbnRlcihvLHQpfSksby5sZW5ndGg+MSYmY29uc29sZS5ncm91cEVuZCgpfX12YXIgRVJST1I9ITEsREVCVUc9RVJST1IsV0FSTj1ERUJVRyxJTkZPPVdBUk47bW9kdWxlLmV4cG9ydHM9bmV3IGxvZ2dlcjsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBOYXYobyl7dGhpcy5pZnJhbWU9byx3aW5kb3cubmF2PXRoaXMsdGhpcy5nbz1mdW5jdGlvbihvKXtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89VVJJKG8pKSx0aGlzLmlmcmFtZS5zcmM9by5ocmVmKCl9LHRoaXMubG9hZD1mdW5jdGlvbihvKXtvLiRqc2Rucy51cmlzLmZvckVhY2goZnVuY3Rpb24obyl7bz1uZXcgVVJJKG8pLGNvbnNvbGUuZ3JvdXAoKSxjb25zb2xlLmluZm8oXCJjb25uZWN0aXZpdHkgdGVzdCBvZiBcIitvLmhyZWYoKSksJC5hamF4KHt0eXBlOlwiSEVBRFwiLHVybDpvLmhyZWYoKX0pLmNvbXBsZXRlKGZ1bmN0aW9uKGUscil7Y29uc29sZS5pbmZvKG8sZSxyKSxcInRpbWVvdXRcIiE9PXI/KGNvbnNvbGUuaW5mbyhvLmhyZWYoKStcIiBpcyByZWFjaGFibGUuXCIpLGNvbnNvbGUuZ3JvdXBFbmQoKSx3aW5kb3cubmF2LmdvKG8pKTooY29uc29sZS53YXJuKG8uaHJlZigpK1wiIGlzIE5PVCByZWFjaGFibGUuXCIpLGNvbnNvbGUuZ3JvdXBFbmQoKSl9KX0pfX12YXIgJD1yZXF1aXJlKFwiLi9saWJzL2pxdWVyeS9kaXN0L2pxdWVyeVwiKSxVUkk9cmVxdWlyZShcIi4vbGlicy91cmkuanMvc3JjL1VSSVwiKSxSZWNvcmQ9cmVxdWlyZShcIi4vcmVjb3JkXCIpO21vZHVsZS5leHBvcnRzPU5hdjsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBSZWNvcmQoaSxyKXt0aGlzLl9pZD1pLHRoaXMubmFtZT1pLHRoaXMudmFsdWU9cix0aGlzLiRqc2Rucz17dXJpczpbXX07dmFyIHM9dGhpcy4kanNkbnMudXJpcztyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihpKXtpZihbXCJpcFwiLFwidHJhbnNsYXRlXCIsXCJodHRwXCIsXCJsaW5rXCJdLmluZGV4T2YoaSk+LTEpe3ZhciB0PXJbaV07dCBpbnN0YW5jZW9mIEFycmF5fHwodD1uZXcgQXJyYXkodCkpLHQuZm9yRWFjaChmdW5jdGlvbihyKXsoXCJpcFwiPT09aXx8XCJpcDZcIj09PWkpJiYocj1cIi8vXCIrcikscy5wdXNoKG5ldyBVUkkocikuaHJlZigpKX0pfX0pLHRoaXN9dmFyIFVSST1yZXF1aXJlKFwiLi9saWJzL3VyaS5qcy9zcmMvVVJJXCIpO21vZHVsZS5leHBvcnRzPVJlY29yZDsiLCJmdW5jdGlvbiB0aHJvdHRsZVJlc2l6ZSgpe2RyYXdpbmc9PT0hMSYmKHJlc2l6ZUZpcmVkPSEwLGRyYXdSZXNpemUoKSl9ZnVuY3Rpb24gZHJhd1Jlc2l6ZSgpe3Jlc2l6ZUZpcmVkPT09ITA/KHJlc2l6ZUZpcmVkPSExLGRyYXdpbmc9ITAsaWZyYW1lLmhlaWdodD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LGlmcmFtZS53aWR0aD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgscmVxRnJhbWUoZHJhd1Jlc2l6ZSkpOmRyYXdpbmc9ITF9dmFyIHJlYWR5PXJlcXVpcmUoXCIuL2xpYnMvZG9tcmVhZHkvcmVhZHkubWluXCIpLHJlc2l6ZUZpcmVkPSExLGRyYXdpbmc9ITEscmVxRnJhbWU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSxpZnJhbWU7cmVhZHkoZnVuY3Rpb24oKXtpZnJhbWU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVlY2hcIiksaWZyYW1lLmhlaWdodD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LGlmcmFtZS53aWR0aD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aHJvdHRsZVJlc2l6ZSwhMSksY29uc29sZS5pbmZvKFwicmVzaXplLmpzIHJlZ2lzdGVyZWRcIiksaWZyYW1lfHxjb25zb2xlLmVycm9yKFwiaWZyYW1lIGlzIFwiK2lmcmFtZStcIiBpbiByZXNpemUuanNcIil9KTsiXX0=
