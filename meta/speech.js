(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

},{}],2:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}],3:[function(require,module,exports){
"use strict";function DNS(){var e=this;this.pubs={},this.db=new PouchDB("speech",{auto_compaction:!0}),this.db.replicate.from("https://indolering.cloudant.com/bit/","speech",{continuous:!0}),this.pubs.speech=new PouchDB("https://indolering.cloudant.com/bit/"),this.lookup=function(n,i){e.db.get(n,function(e,t){e?this.fetch(n,i):i(t)})},this.fetch=function(n,i){e.pubs.speech.get(n,function(n,t){if(n)throw new Fail({name:"name"}).over();e.save(t),e.db.get(r.name,function(e,n){i(e?e:n)})})},this.save=function(n,i){i=i||function(e){log.log(e)},("undefined"==typeof n.$jsdns||null===n.$jsdns)&&(n=new Record(n.name,n.value)),e.db.get(n.name,function(t,o){t?e.db.put(n.value,n.name):e.db.put(n.value,n.name,o._rev),e.db.get(n.name,function(e,n){i(e?e:n)})})},this.delete=function(n){e.db.get(n,function(i,t){i?log.info("error while fetching rev of "+n+" for deltion.",i):e.db.remove(t,function(e,i){e&&log.warn("Unable to delete "+n+" ",e),i&&log.log(i)})})},this.getRecords=function(n,i){i=i||n,Array.isArray(n)?e.db.allDocs({keys:n,include_docs:!0},i):e.db.allDocs({include_docs:!0},i)},this.init=function(){return new DNS}}var $=require("./libs/jquery/dist/jquery"),URI=require("./libs/uri.js/src/URI"),PouchDB=require("./libs/pouchdb/lib/index.js"),Record=require("./record"),Fail=require("./fail"),log=require("./logger");module.exports=new DNS;
},{"./fail":4,"./libs/jquery/dist/jquery":7,"./libs/pouchdb/lib/index.js":19,"./libs/uri.js/src/URI":29,"./logger":31,"./record":33}],4:[function(require,module,exports){
function Fail(e){this.name=e.name||"Fail",this.message=e}var URI=require("./libs/uri.js/src/URI");Fail.prototype=new Error,Fail.prototype.over=function(){url=new URI;var e={url:url.href(),urn:(new URI).subdomain().split(".").slice(-1).pop(),value:this.message.value,name:this.message.name,message:this.message.message};""===e.urn&&(e.urn=url.hash()&&"!"!==url.hash[0]?url.hash().slice(1,url.hash().length):"localhost"==url.hostname()||"127.0.0.1"==url.hostname()?"localhost":"www");var t=(new URI).path("error.html").subdomain("");switch(e.name.toLowerCase()){case"format":e.text="The name server was unable to interpret the query.",e.code=1;break;case"server":e.text="The name server was unable to process this query due to a problem with the name server.",e.code=2;break;case"name":e.text="Domain name referenced in the query does not exist.",e.code=3,e.message="The domain name "+e.urn+" could not be found";break;case"unimplemented":e.text="The name server does not support the requested kind of query.",e.code=4,t.path("connect.html");break;case"unauthorized":e.text="Authentication is required and has failed or has not yet been provided.",e.code=401;break;case"forbidden":e.text="Successful authentication but credentials do not grant the client permission to access the resource.",e.code=403;break;case"timeout":e.text="The server timed out waiting for the request.",e.code=408,t.path("connect.html");break;case"length":e.text="URI too long.",e.code=414;break;case"calm":e.text="The user has sent too many requests in a given amount of time. Intended for use with rate limiting schemes.",e.code=420;break;case"rate":case"flood":e.text="The user has sent too many requests in a given amount of time. Intended for use with rate limiting schemes.",e.code=429;break;case"censored":e.text="Unavailable For Legal Reasons",e.code=451;break;default:e.code||(e.code=-1),e.name||(e.name="unknown"),e.message||(e.message="There was a problem looking up your request.")}console.log(e.name,e),location.href=(new URI).path("error.html").subdomain("").addQuery(e).href()},module.exports=Fail;
},{"./libs/uri.js/src/URI":29}],5:[function(require,module,exports){
"use strict";function updater(e){var t=e.type;if(console.dir(e),"location"===t){var a=new URL(e.value),r=a.pathname;a.search&&(r="?"+a.search),a.hash&&(r="#"+a.hash),history.replaceState(r)}else if("title"===t)document.title=e.value;else if("favicon"===t){document.getElementById("favicon")&&document.head.removeChild(document.getElementById("favicon"));var i=document.createElement("link");i.id="favicon",i.type="image/x-icon",i.rel="shortcut icon",i.href=e.value,document.head.appendChild(i)}}function dns(){return DNS}var $=require("./libs/jquery/dist/jquery"),URI=require("./libs/uri.js/src/URI"),ready=require("./libs/domready/ready.min"),resize=require("./resize"),DNS=require("./dns"),Nav=require("./nav"),log=require("./logger"),DEBUG=!0;if(DEBUG){var dummies=[["www",{translate:""}],["localhost",{translate:""}],["ipv4",{ip:"208.113.212.187"}],["ipv6-2",{ip6:["2607:f298:5:102b::ddb:b09e","2607:f298:5:102b::af3:5aa3"]}],["ipv6",{ip6:"2607:f298:5:102b::ddb:b09e"}],["ipv4-2",{ip:["208.113.212.187","208.113.212.1s87"]}],["bits",{ip:["208.113.212.187"],cors:["speech.is"]}],["$setting",{name:"subscriber name",url:"jsDNS url"}],["reddit",{translate:"http://www.reddit.com"}],["aaronsw",{translate:"http://www.aaronsw.com/"}],["wikipedia",{translate:"http://www.wikipedia.org"}],["accessnow",{translate:"http://www.accessnow.org"}],["indolering",{ip:["208.113.212.21"],cors:["speech.is"]}],["fightforthefuture",{translate:"http://www.fightforthefuture.org/"}],["internetdefenseleague",{translate:"http://internetdefenseleague.org"}]];dummies.forEach(function(e){var t=new URI;"www"===e[0]?(t.subdomain("www"),t.path("/Speech.js/site/connect.html"),e[1].translate=t.href()):"localhost"===e[0]&&(t.path("/Speech.js/site/connect.html"),e[1].translate=t.href()),DNS.save({name:e[0],value:e[1]})})}ready(function(){var e=new URI;log.info("uri: "+e);var t=e.subdomain().split(".").slice(-1).pop();log.info("urn: "+t,t);var a=e.fragment();log.info("fragment: "+a),""===t&&(t=a&&"!"!==a[0]?a:"localhost"===e.hostname()||"127.0.0.1"===e.hostname()?"localhost":"www");var r=document.getElementById("speech"),i=new Nav(r);DNS.lookup(t,i.load),window.addEventListener("message",function(e){var t=new URL(r.src).origin;e.origin===t&&(console.dir(e),updater(e.data))})});
},{"./dns":3,"./libs/domready/ready.min":6,"./libs/jquery/dist/jquery":7,"./libs/uri.js/src/URI":29,"./logger":31,"./nav":32,"./resize":34}],6:[function(require,module,exports){
!function(e,n){"undefined"!=typeof module?module.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(){function e(e){for(i=1;e=t.shift();)e()}var n,t=[],o=!1,d=document,f="DOMContentLoaded",i=/^loaded|^c/.test(d.readyState);return d.addEventListener(f,n=function(){d.removeEventListener(f,n,o),e()},o),function(e){i?e():t.push(e)}});
},{}],7:[function(require,module,exports){
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=et.type(e);return"function"===n||et.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(et.isFunction(t))return et.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return et.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return et.filter(t,e,n);t=et.filter(t,e)}return et.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ht[e]={};return et.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function s(){K.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),et.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=et.expando+Math.random()}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(bt,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?et.parseJSON(n):n}catch(i){}yt.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return K.activeElement}catch(e){}}function p(e,t){return et.nodeName(e,"table")&&et.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),s=vt.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)et.event.add(t,i,l[i][n])}yt.hasData(e)&&(a=yt.access(e),u=et.extend({},a),yt.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&et.nodeName(e,t)?et.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Nt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r=et(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:et.css(r[0],"display");return r.detach(),i}function b(e){var t=K,n=$t[e];return n||(n=x(e,t),"none"!==n&&n||(Wt=(Wt||et("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Wt[0].contentDocument,t.write(),t.close(),n=x(e,t),Wt.detach()),$t[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_t(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||et.contains(e.ownerDocument,e)||(s=et.style(e,t)),It.test(s)&&Bt.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Gt.length;i--;)if(t=Gt[i]+n,t in e)return t;return r}function N(e,t,n){var r=zt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=et.css(e,n+Tt[o],!0,i)),r?("content"===n&&(s-=et.css(e,"padding"+Tt[o],!0,i)),"margin"!==n&&(s-=et.css(e,"border"+Tt[o]+"Width",!0,i))):(s+=et.css(e,"padding"+Tt[o],!0,i),"padding"!==n&&(s+=et.css(e,"border"+Tt[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_t(e),s="border-box"===et.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),It.test(i))return i;r=s&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function D(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[s]=vt.access(r,"olddisplay",b(r.nodeName)))):o[s]||(i=Ct(r),(n&&"none"!==n||!i)&&vt.set(r,"olddisplay",i?n:et.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function S(){return setTimeout(function(){Qt=void 0}),Qt=et.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Tt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c=this,f={},p=e.style,d=e.nodeType&&Ct(e),h=vt.get(e,"fxshow");n.queue||(a=et._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,et.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=et.css(e,"display"),"none"===l&&(l=b(e.nodeName)),"inline"===l&&"none"===et.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Kt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;d=!0}f[r]=h&&h[r]||et.style(e,r)}if(!et.isEmptyObject(f)){h?"hidden"in h&&(d=h.hidden):h=vt.access(e,"fxshow",{}),o&&(h.hidden=!d),d?et(e).show():c.done(function(){et(e).hide()}),c.done(function(){var t;vt.remove(e,"fxshow");for(t in f)et.style(e,t,f[t])});for(r in f)s=L(d?h[r]:0,r,c),r in h||(h[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=et.camelCase(n),i=t[r],o=e[n],et.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=et.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tn.length,a=et.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qt||S(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:et.extend({},t),opts:et.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qt||S(),duration:n.duration,tweens:[],createTween:function(t,n){var r=et.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=tn[o].call(l,e,c,l.opts))return r;return et.map(c,L,l),et.isFunction(l.opts.start)&&l.opts.start.call(e,l),et.fx.timer(et.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(dt)||[];if(et.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,et.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===Tn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function M(e,t){var n,r,i=et.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&et.extend(!0,e,r),e}function R(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(et.isArray(t))et.each(t,function(t,i){n||En.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==et.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function B(e){return et.isWindow(e)?e:9===e.nodeType&&e.defaultView}var I=[],_=I.slice,X=I.concat,z=I.push,U=I.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q="".trim,J={},K=e.document,Z="2.1.0",et=function(e,t){return new et.fn.init(e,t)},tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};et.fn=et.prototype={jquery:Z,constructor:et,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=et.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return et.each(this,e,t)},map:function(e){return this.pushStack(et.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:I.sort,splice:I.splice},et.extend=et.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||et.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(et.isPlainObject(r)||(i=et.isArray(r)))?(i?(i=!1,o=n&&et.isArray(n)?n:[]):o=n&&et.isPlainObject(n)?n:{},s[t]=et.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},et.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===et.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==et.type(e)||e.nodeType||et.isWindow(e))return!1;try{if(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=et.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":Q.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?et.merge(r,"string"==typeof e?[e]:e):z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return X.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),et.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||et.guid++,i):void 0},now:Date.now,support:J}),et.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var it=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,h,g,m;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(O&&!r){if(i=yt.exec(e))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&R(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(C.qsa&&(!F||!F.test(e))){if(h=f=W,g=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=p(e),(f=t.getAttribute("id"))?h=f.replace(bt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+d(l[u]);g=xt.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{f||t.removeAttribute("id")}}}return w(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>N.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)N.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==V&&e}function f(){}function p(e,n){var r,i,o,s,a,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=N.preFilter;a;){(!r||(i=lt.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),a=a.slice(r.length));for(s in N.filter)!(i=ht[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):X(e,u).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[B,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===B&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,g=r||b(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:m(g,p,e,a,u),y=n?o||(r?e:h||i)?[]:s:v;if(n&&n(v,y,a,u),i)for(l=m(y,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(v[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);o(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=o?tt.call(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else y=m(y===s?y.splice(h,y.length):y),o?o(null,s,y,u):Z.apply(s,y)})}function y(e){for(var t,n,r,i=e.length,o=N.relative[e[0].type],s=o||N.relative[" "],a=o?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return tt.call(t,e)>-1},s,!0),c=[function(e,n,r){return!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>a;a++)if(n=N.relative[e[a].type])c=[h(g(c),n)];else{if(n=N.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!N.relative[e[r].type];r++);return v(a>1&&g(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&d(e))}c.push(n)}return g(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=j,x=r||o&&N.find.TAG("*",l),b=B+=null==y?1:Math.random()||.1,w=x.length;for(l&&(j=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(B=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=J.call(u));v=m(v)}Z.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(B=b,j=y),g};return i?r(s):s}function b(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function w(e,t,n,r){var i,o,s,a,u,l=p(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&C.getById&&9===t.nodeType&&O&&N.relative[o[1].type]){if(t=(N.find.ID(s.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(s=o[i],!N.relative[a=s.type]);)if((u=N.find[a])&&(r=u(s.matches[0].replace(wt,Tt),xt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return Z.apply(n,r),n;break}}return D(e,l)(r,t,!O,n,xt.test(e)&&c(t.parentNode)||t),n}var T,C,N,k,E,D,j,S,A,L,q,H,O,F,P,M,R,W="sizzle"+-new Date,$=e.document,B=0,I=0,_=n(),X=n(),z=n(),U=function(e,t){return e===t&&(A=!0),0},V="undefined",Y=1<<31,G={}.hasOwnProperty,Q=[],J=Q.pop,K=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),st="\\["+rt+"*("+it+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+rt+"*\\]",at=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),lt=new RegExp("^"+rt+"*,"+rt+"*"),ct=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ft=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),pt=new RegExp(at),dt=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(Q=et.call($.childNodes),$.childNodes),Q[$.childNodes.length].nodeType}catch(Ct){Z={apply:Q.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}C=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:$,r=n.defaultView;return n!==q&&9===n.nodeType&&n.documentElement?(q=n,H=n.documentElement,O=!E(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){L()},!1):r.attachEvent&&r.attachEvent("onunload",function(){L()})),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=i(function(e){return H.appendChild(e).id=W,!n.getElementsByName||!n.getElementsByName(W).length}),C.getById?(N.find.ID=function(e,t){if(typeof t.getElementById!==V&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},N.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&O?t.getElementsByClassName(e):void 0},P=[],F=[],(C.qsa=vt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&F.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(C.matchesSelector=vt.test(M=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){C.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),P.push("!=",at)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=vt.test(H.compareDocumentPosition),R=t||vt.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!C.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===$&&R($,e)?-1:t===n||t.ownerDocument===$&&R($,t)?1:S?tt.call(S,e)-tt.call(S,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:S?tt.call(S,e)-tt.call(S,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},n):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(ft,"='$1']"),!(!C.matchesSelector||!O||P&&P.test(n)||F&&F.test(n)))try{var r=M.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=N.attrHandle[t.toLowerCase()],r=n&&G.call(N.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:C.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!C.detectDuplicates,S=!C.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},N=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&pt.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===B&&l[1],p=l[0]===B&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[B,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===B)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[B,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=N.pseudos[e]||N.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],N.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=tt.call(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(ut,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},N.pseudos.nth=N.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[T]=a(T);for(T in{submit:!0,reset:!0})N.pseudos[T]=u(T);return f.prototype=N.filters=N.pseudos,N.setFilters=new f,D=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=p(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=z(e,x(i,r))}return o},C.sortStable=W.split("").sort(U).join("")===W,C.detectDuplicates=!!A,L(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);et.find=it,et.expr=it.selectors,et.expr[":"]=et.expr.pseudos,et.unique=it.uniqueSort,et.text=it.getText,et.isXMLDoc=it.isXML,et.contains=it.contains;var ot=et.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;et.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?et.find.matchesSelector(r,e)?[r]:[]:et.find.matches(e,et.grep(t,function(e){return 1===e.nodeType}))},et.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(et(e).filter(function(){for(t=0;n>t;t++)if(et.contains(i[t],this))return!0}));for(t=0;n>t;t++)et.find(e,i[t],r);return r=this.pushStack(n>1?et.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r
},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?et(e):e||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=et.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:lt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof et?t[0]:t,et.merge(this,et.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),st.test(n[1])&&et.isPlainObject(t))for(n in t)et.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):et.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(et):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),et.makeArray(e,this))};ct.prototype=et.fn,ut=et(K);var ft=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};et.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&et(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),et.fn.extend({has:function(e){var t=et(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(et.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ot.test(e)||"string"!=typeof e?et(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&et.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?et.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(et(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(et.unique(et.merge(this.get(),et(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),et.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return et.dir(e,"parentNode")},parentsUntil:function(e,t,n){return et.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return et.dir(e,"nextSibling")},prevAll:function(e){return et.dir(e,"previousSibling")},nextUntil:function(e,t,n){return et.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return et.dir(e,"previousSibling",n)},siblings:function(e){return et.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return et.sibling(e.firstChild)},contents:function(e){return e.contentDocument||et.merge([],e.childNodes)}},function(e,t){et.fn[e]=function(n,r){var i=et.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=et.filter(r,i)),this.length>1&&(pt[e]||et.unique(i),ft.test(e)&&i.reverse()),this.pushStack(i)}});var dt=/\S+/g,ht={};et.Callbacks=function(e){e="string"==typeof e?ht[e]||o(e):et.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(t){et.each(t,function(t,n){var r=et.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&et.each(arguments,function(e,t){for(var n;(n=et.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?et.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},et.extend({Deferred:function(e){var t=[["resolve","done",et.Callbacks("once memory"),"resolved"],["reject","fail",et.Callbacks("once memory"),"rejected"],["notify","progress",et.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return et.Deferred(function(n){et.each(t,function(t,o){var s=et.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&et.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?et.extend(e,r):r}},i={};return r.pipe=r.then,et.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&et.isFunction(e.promise)?s:0,u=1===a?e:et.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&et.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var gt;et.fn.ready=function(e){return et.ready.promise().done(e),this},et.extend({isReady:!1,readyWait:1,holdReady:function(e){e?et.readyWait++:et.ready(!0)},ready:function(e){(e===!0?--et.readyWait:et.isReady)||(et.isReady=!0,e!==!0&&--et.readyWait>0||(gt.resolveWith(K,[et]),et.fn.trigger&&et(K).trigger("ready").off("ready")))}}),et.ready.promise=function(t){return gt||(gt=et.Deferred(),"complete"===K.readyState?setTimeout(et.ready):(K.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),gt.promise(t)},et.ready.promise();var mt=et.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===et.type(n)){i=!0;for(a in n)et.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,et.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(et(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};et.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=et.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,et.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(et.isEmptyObject(o))et.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,et.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{et.isArray(t)?r=t.concat(t.map(et.camelCase)):(i=et.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(dt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!et.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,yt=new a,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;et.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),et.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)r=s[n].name,0===r.indexOf("data-")&&(r=et.camelCase(r.slice(5)),u(o,r,i[r]));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){yt.set(this,e)}):mt(this,function(t){var n,r=et.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),et.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||et.isArray(n)?r=vt.access(e,t,et.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=et.queue(e,t),r=n.length,i=n.shift(),o=et._queueHooks(e,t),s=function(){et.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:et.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),et.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?et.queue(this[0],e):void 0===t?this:this.each(function(){var n=et.queue(this,e,t);et._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&et.dequeue(this,e)})},dequeue:function(e){return this.each(function(){et.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=et.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=vt.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===et.css(e,"display")||!et.contains(e.ownerDocument,e)},Nt=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var kt="undefined";J.focusinBubbles="onfocusin"in e;var Et=/^key/,Dt=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,St=/^([^.]*)(?:\.(.+)|)$/;et.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=et.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof et!==kt&&et.event.triggered!==t.type?et.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(dt)||[""],l=t.length;l--;)a=St.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=et.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=et.event.special[d]||{},c=et.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&et.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),et.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.hasData(e)&&vt.get(e);if(m&&(u=m.events)){for(t=(t||"").match(dt)||[""],l=t.length;l--;)if(a=St.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=et.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||et.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)et.event.remove(e,d+t[l],n,r,!0);et.isEmptyObject(u)&&(delete m.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||K],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!jt.test(d+et.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[et.expando]?t:new et.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:et.makeArray(n,[t]),f=et.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!et.isWindow(r)){for(u=f.delegateType||d,jt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||K)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(vt.get(s,"events")||{})[t.type]&&vt.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&et.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!et.acceptData(r)||l&&et.isFunction(r[d])&&!et.isWindow(r)&&(a=r[l],a&&(r[l]=null),et.event.triggered=d,r[d](),et.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=et.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(vt.get(this,"events")||{})[e.type]||[],l=et.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=et.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((et.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?et(i,this).index(u)>=0:et.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[et.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Dt.test(i)?this.mouseHooks:Et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new et.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&et.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return et.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=et.extend(new et.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?et.event.trigger(i,null,t):et.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},et.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},et.Event=function(e,t){return this instanceof et.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&et.extend(this,t),this.timeStamp=e&&e.timeStamp||et.now(),void(this[et.expando]=!0)):new et.Event(e,t)},et.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},et.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){et.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!et.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||et.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){et.event.simulate(t,e.target,et.event.fix(e),!0)};et.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,t);i||r.addEventListener(e,n,!0),vt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,t)-1;i?vt.access(r,t,i):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),et.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return et().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=et.guid++)),this.each(function(){et.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,et(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){et.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){et.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?et.event.trigger(e,t,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,qt=/<|&#?\w+;/,Ht=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Pt=/^true\/(.*)/,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rt.optgroup=Rt.option,Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td,et.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=et.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||et.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if(i=e[p],i||0===i)if("object"===et.type(i))et.merge(f,i.nodeType?[i]:i);else if(qt.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Lt.exec(i)||["",""])[1].toLowerCase(),a=Rt[s]||Rt._default,o.innerHTML=a[1]+i.replace(At,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;et.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===et.inArray(i,r))&&(u=et.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Ft.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o,s,a=et.event.special,u=0;void 0!==(n=e[u]);u++){if(et.acceptData(n)&&(o=n[vt.expando],o&&(t=vt.cache[o]))){if(r=Object.keys(t.events||{}),r.length)for(s=0;void 0!==(i=r[s]);s++)a[i]?et.event.remove(n,i):et.removeEvent(n,i,t.handle);vt.cache[o]&&delete vt.cache[o]}delete yt.cache[n[yt.expando]]}}}),et.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?et.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?et.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||et.cleanData(v(n)),n.parentNode&&(t&&et.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(et.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return et.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ht.test(e)&&!Rt[(Lt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(At,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(et.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,et.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=et.isFunction(p);if(g||l>1&&"string"==typeof p&&!J.checkClone&&Ot.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=et.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=et.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==f&&(s=et.clone(s,!0,!0),o&&et.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,et.map(i,h),u=0;o>u;u++)s=i[u],Ft.test(s.type||"")&&!vt.access(s,"globalEval")&&et.contains(a,s)&&(s.src?et._evalUrl&&et._evalUrl(s.src):et.globalEval(s.textContent.replace(Mt,"")))}return this}}),et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){et.fn[e]=function(e){for(var n,r=[],i=et(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),et(i[s])[t](n),z.apply(r,n.get());return this.pushStack(r)}});var Wt,$t={},Bt=/^margin/,It=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),_t=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",o.appendChild(s);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,o.removeChild(s)}var n,r,i="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=K.documentElement,s=K.createElement("div"),a=K.createElement("div");a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(a),e.getComputedStyle&&et.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(K.createElement("div"));return n.style.cssText=a.style.cssText=i,n.style.marginRight=n.style.width="0",a.style.width="1px",o.appendChild(s),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(s),a.innerHTML="",t}})}(),et.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var Xt=/^(none|table(?!-c[ea]).+)/,zt=new RegExp("^("+wt+")(.*)$","i"),Ut=new RegExp("^([+-])=("+wt+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Gt=["Webkit","O","Moz","ms"];et.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=et.camelCase(t),u=e.style;return t=et.cssProps[a]||(et.cssProps[a]=C(u,a)),s=et.cssHooks[t]||et.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(et.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||et.cssNumber[a]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]="",u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=et.camelCase(t);return t=et.cssProps[a]||(et.cssProps[a]=C(e.style,a)),s=et.cssHooks[t]||et.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Yt&&(i=Yt[t]),""===n||n?(o=parseFloat(i),n===!0||et.isNumeric(o)?o||0:i):i}}),et.each(["height","width"],function(e,t){et.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&Xt.test(et.css(e,"display"))?et.swap(e,Vt,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&_t(e);return N(e,n,r?k(e,t,r,"border-box"===et.css(e,"boxSizing",!1,i),i):0)}}}),et.cssHooks.marginRight=T(J.reliableMarginRight,function(e,t){return t?et.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),et.each({margin:"",padding:"",border:"Width"},function(e,t){et.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Tt[r]+t]=o[r]||o[r-2]||o[0];return i}},Bt.test(e)||(et.cssHooks[e+t].set=N)}),et.fn.extend({css:function(e,t){return mt(this,function(e,t,n){var r,i,o={},s=0;if(et.isArray(t)){for(r=_t(e),i=t.length;i>s;s++)o[t[s]]=et.css(e,t[s],!1,r);return o}return void 0!==n?et.style(e,t,n):et.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?et(this).show():et(this).hide()})}}),et.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(et.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?et.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=et.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){et.fx.step[e.prop]?et.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[et.cssProps[e.prop]]||et.cssHooks[e.prop])?et.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},et.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},et.fx=j.prototype.init,et.fx.step={};var Qt,Jt,Kt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[q],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Zt.exec(t),o=i&&i[3]||(et.cssNumber[e]?"":"px"),s=(et.cssNumber[e]||"px"!==o&&+r)&&Zt.exec(et.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,et.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};et.Animation=et.extend(O,{tweener:function(e,t){et.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),et.speed=function(e,t,n){var r=e&&"object"==typeof e?et.extend({},e):{complete:n||!n&&t||et.isFunction(e)&&e,duration:e,easing:n&&t||t&&!et.isFunction(t)&&t};return r.duration=et.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in et.fx.speeds?et.fx.speeds[r.duration]:et.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){et.isFunction(r.old)&&r.old.call(this),r.queue&&et.dequeue(this,r.queue)},r},et.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=et.isEmptyObject(e),o=et.speed(t,n,r),s=function(){var t=O(this,et.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=et.timers,s=vt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&en.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&et.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=et.timers,s=r?r.length:0;for(n.finish=!0,et.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),et.each(["toggle","show","hide"],function(e,t){var n=et.fn[t];et.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)
}}),et.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){et.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),et.timers=[],et.fx.tick=function(){var e,t=0,n=et.timers;for(Qt=et.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||et.fx.stop(),Qt=void 0},et.fx.timer=function(e){et.timers.push(e),e()?et.fx.start():et.timers.pop()},et.fx.interval=13,et.fx.start=function(){Jt||(Jt=setInterval(et.fx.tick,et.fx.interval))},et.fx.stop=function(){clearInterval(Jt),Jt=null},et.fx.speeds={slow:600,fast:200,_default:400},et.fn.delay=function(e,t){return e=et.fx?et.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rn,on,sn=et.expr.attrHandle;et.fn.extend({attr:function(e,t){return mt(this,et.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){et.removeAttr(this,e)})}}),et.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===kt?et.prop(e,t,n):(1===o&&et.isXMLDoc(e)||(t=t.toLowerCase(),r=et.attrHooks[t]||(et.expr.match.bool.test(t)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=et.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void et.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[i++];)r=et.propFix[n]||n,et.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&et.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?et.removeAttr(e,n):e.setAttribute(n,n),n}},et.each(et.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||et.find.attr;sn[t]=function(e,t,r){var i,o;return r||(o=sn[t],sn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,sn[t]=o),i}});var an=/^(?:input|select|textarea|button)$/i;et.fn.extend({prop:function(e,t){return mt(this,et.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[et.propFix[e]||e]})}}),et.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!et.isXMLDoc(e),o&&(t=et.propFix[t]||t,i=et.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(et.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){et.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;et.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(et.isFunction(e))return this.each(function(t){et(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=et.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(et.isFunction(e))return this.each(function(t){et(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?et.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(et.isFunction(e)?function(n){et(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=et(this),o=e.match(dt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===kt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var ln=/\r/g;et.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=et.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,et(this).val()):e,null==i?i="":"number"==typeof i?i+="":et.isArray(i)&&(i=et.map(i,function(e){return null==e?"":e+""})),t=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=et.valHooks[i.type]||et.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),et.extend({valHooks:{select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&et.nodeName(n.parentNode,"optgroup"))){if(t=et(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=et.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=et.inArray(et(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),et.each(["radio","checkbox"],function(){et.valHooks[this]={set:function(e,t){return et.isArray(t)?e.checked=et.inArray(et(e).val(),t)>=0:void 0}},J.checkOn||(et.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),et.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){et.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),et.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=et.now(),fn=/\?/;et.parseJSON=function(e){return JSON.parse(e+"")},et.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&et.error("Invalid XML: "+e),t};var pn,dn,hn=/#.*$/,gn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,xn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wn={},Tn={},Cn="*/".concat("*");try{dn=location.href}catch(Nn){dn=K.createElement("a"),dn.href="",dn=dn.href}pn=bn.exec(dn.toLowerCase())||[],et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dn,type:"GET",isLocal:vn.test(pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":et.parseJSON,"text xml":et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,et.ajaxSettings),t):M(et.ajaxSettings,e)},ajaxPrefilter:F(wn),ajaxTransport:F(Tn),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=R(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(et.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(et.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--et.active||et.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=et.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?et(p):et.event,h=et.Deferred(),g=et.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=mn.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||dn)+"").replace(hn,"").replace(xn,pn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=et.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=bn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===pn[1]&&u[2]===pn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(pn[3]||("http:"===pn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=et.param(f.data,f.traditional)),P(wn,f,t,w),2===x)return w;l=f.global,l&&0===et.active++&&et.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!yn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=gn.test(i)?i.replace(gn,"$1_="+cn++):i+(fn.test(i)?"&":"?")+"_="+cn++)),f.ifModified&&(et.lastModified[i]&&w.setRequestHeader("If-Modified-Since",et.lastModified[i]),et.etag[i]&&w.setRequestHeader("If-None-Match",et.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Cn+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(Tn,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return et.get(e,t,n,"json")},getScript:function(e,t){return et.get(e,void 0,t,"script")}}),et.each(["get","post"],function(e,t){et[t]=function(e,n,r,i){return et.isFunction(n)&&(i=i||r,r=n,n=void 0),et.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){et.fn[t]=function(e){return this.on(t,e)}}),et._evalUrl=function(e){return et.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},et.fn.extend({wrapAll:function(e){var t;return et.isFunction(e)?this.each(function(t){et(this).wrapAll(e.call(this,t))}):(this[0]&&(t=et(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(et.isFunction(e)?function(t){et(this).wrapInner(e.call(this,t))}:function(){var t=et(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=et.isFunction(e);return this.each(function(n){et(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){et.nodeName(this,"body")||et(this).replaceWith(this.childNodes)}).end()}}),et.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},et.expr.filters.visible=function(e){return!et.expr.filters.hidden(e)};var kn=/%20/g,En=/\[\]$/,Dn=/\r?\n/g,jn=/^(?:submit|button|image|reset|file)$/i,Sn=/^(?:input|select|textarea|keygen)/i;et.param=function(e,t){var n,r=[],i=function(e,t){t=et.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray(e)||e.jquery&&!et.isPlainObject(e))et.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(kn,"+")},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=et.prop(this,"elements");return e?et.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!et(this).is(":disabled")&&Sn.test(this.nodeName)&&!jn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=et(this).val();return null==n?null:et.isArray(n)?et.map(n,function(e){return{name:t.name,value:e.replace(Dn,"\r\n")}}):{name:t.name,value:n.replace(Dn,"\r\n")}}).get()}}),et.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var An=0,Ln={},qn={0:200,1223:204},Hn=et.ajaxSettings.xhr();e.ActiveXObject&&et(e).on("unload",function(){for(var e in Ln)Ln[e]()}),J.cors=!!Hn&&"withCredentials"in Hn,J.ajax=Hn=!!Hn,et.ajaxTransport(function(e){var t;return J.cors||Hn&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++An;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Ln[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(qn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Ln[s]=t("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:void 0}),et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return et.globalEval(e),e}}}),et.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),et.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=et("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var On=[],Fn=/(=)\?(?=&|$)|\?\?/;et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||et.expando+"_"+cn++;return this[e]=!0,e}}),et.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Fn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=et.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Fn,"$1"+i):t.jsonp!==!1&&(t.url+=(fn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||et.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,On.push(i)),s&&et.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),et.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var r=st.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=et.buildFragment([e],t,i),i&&i.length&&et(i).remove(),et.merge([],r.childNodes))};var Pn=et.fn.load;et.fn.load=function(e,t,n){if("string"!=typeof e&&Pn)return Pn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),et.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&et.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?et("<div>").append(et.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},et.expr.filters.animated=function(e){return et.grep(et.timers,function(t){return e===t.elem}).length};var Mn=e.document.documentElement;et.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=et.css(e,"position"),f=et(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=et.css(e,"top"),u=et.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),et.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},et.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){et.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,et.contains(t,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===et.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),et.nodeName(e[0],"html")||(r=e.offset()),r.top+=et.css(e[0],"borderTopWidth",!0),r.left+=et.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-et.css(n,"marginTop",!0),left:t.left-r.left-et.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Mn;e&&!et.nodeName(e,"html")&&"static"===et.css(e,"position");)e=e.offsetParent;return e||Mn})}}),et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;et.fn[t]=function(i){return mt(this,function(t,i,o){var s=B(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),et.each(["top","left"],function(e,t){et.cssHooks[t]=T(J.pixelPosition,function(e,n){return n?(n=w(e,t),It.test(n)?et(e).position()[t]+"px":n):void 0})}),et.each({Height:"height",Width:"width"},function(e,t){et.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){et.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return mt(this,function(t,n,r){var i;return et.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?et.css(t,n,s):et.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),et.fn.size=function(){return this.length},et.fn.andSelf=et.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return et});var Rn=e.jQuery,Wn=e.$;return et.noConflict=function(t){return e.$===et&&(e.$=Wn),t&&e.jQuery===et&&(e.jQuery=Rn),et},typeof t===kt&&(e.jQuery=e.$=et),et});
},{}],8:[function(require,module,exports){
"use strict";function arrayFirst(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r)===!0)return e[r];return!1}function yankError(e){return function(t,r){t||r[0].error?call(e,t||r[0]):call(e,null,r[0])}}function computeHeight(e){var t={},r=[];return merge.traverseRevTree(e,function(e,i,o,a){var n=i+"-"+o;return e&&(t[n]=0),void 0!==a&&r.push({from:a,to:n}),n}),r.reverse(),r.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}var utils=require("./utils"),merge=require("./merge"),errors=require("./deps/errors"),call=utils.call;module.exports=function(Pouch){return function(opts,callback){function autoCompact(e){return auto_compaction?function(t,r){if(t)call(e,t);else{var i=r.length,o=function(){i--,i||call(e,null,r)};r.forEach(function(e){e.ok?compactDocument(e.id,1,o):o()})}}:e}function compactDocument(e,t,r){customApi._getRevisionTree(e,function(i,o){if(i)return call(r);var a=computeHeight(o),n=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&n.push(e)}),merge.traverseRevTree(o,function(e,t,r,i,o){var a=t+"-"+r;"available"===o.status&&-1!==n.indexOf(a)&&(o.status="missing",s.push(a))}),customApi._doCompaction(e,o,s,r)})}function processChange(e,t,r){var i=[{rev:e._rev}];"all_docs"===r.style&&(i=merge.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:i,doc:e};return utils.isDeleted(t,e._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=merge.collectConflicts(t),o.doc._conflicts.length||delete o.doc._conflicts),o}var api={},customApi=Pouch.adapters[opts.adapter](opts,function(e,t){if(e)return void(callback&&callback(e));for(var r in api)t.hasOwnProperty(r)||(t[r]=api[r]);opts.name===Pouch.prefix+Pouch.ALL_DBS?callback(e,t):Pouch.open(opts,function(e){callback(e,t)})}),auto_compaction=opts.auto_compaction===!0;api.post=function(e,t,r){return"function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e)?call(r,errors.NOT_AN_OBJECT):customApi.bulkDocs({docs:[e]},t,autoCompact(yankError(r)))},api.put=function(e,t,r){return"function"==typeof t&&(r=t,t={}),"object"!=typeof e?call(r,errors.NOT_AN_OBJECT):utils.isValidId(e._id)?customApi.bulkDocs({docs:[e]},t,autoCompact(yankError(r))):call(r,errors.MISSING_ID)},api.putAttachment=function(e,t,r,i,o,a){function n(e){e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:i},api.put(e,a)}return api.taskqueue.ready()?("function"==typeof o&&(a=o,o=i,i=r,r=null),"undefined"==typeof o&&(o=i,i=r,r=null),void api.get(e,function(t,i){return t&&t.error===errors.MISSING_DOC.error?void n({_id:e}):t?void call(a,t):i._rev!==r?void call(a,errors.REV_CONFLICT):void n(i)})):void api.taskqueue.addTask("putAttachment",arguments)},api.removeAttachment=function(e,t,r,i){api.get(e,function(e,o){return e?void call(i,e):o._rev!==r?void call(i,errors.REV_CONFLICT):o._attachments?(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,void api.put(o,i)):call(i,null)})},api.remove=function(e,t,r){"function"==typeof t&&(r=t,t={}),void 0===t&&(t={}),t.was_delete=!0;var i={_id:e._id,_rev:e._rev};return i._deleted=!0,customApi.bulkDocs({docs:[i]},t,yankError(r))},api.revsDiff=function(e,t,r){function i(e,t){s[e]||(s[e]={missing:[]}),s[e].missing.push(t)}function o(t,r){var o=e[t].slice(0);merge.traverseRevTree(r,function(e,r,a,n,s){var c=r+"-"+a,u=o.indexOf(c);-1!==u&&(o.splice(u,1),"available"!==s.status&&i(t,c))}),o.forEach(function(e){i(t,e)})}"function"==typeof t&&(r=t,t={});var a=Object.keys(e),n=0,s={};a.map(function(t){customApi._getRevisionTree(t,function(i,c){if(i&&"not_found"===i.name&&"missing"===i.message)s[t]={missing:e[t]};else{if(i)return call(r,i);o(t,c)}return++n===a.length?call(r,null,s):void 0})})},api.compact=function(e,t){"function"==typeof e&&(t=e,e={}),api.changes({complete:function(e,r){if(e)return void call(t);var i=r.results.length;return i?void r.results.forEach(function(e){compactDocument(e.id,0,function(){i--,i||call(t)})}):void call(t)}})},api.get=function(e,t,r){function i(){var i=[],a=o.length;return a?void o.forEach(function(o){api.get(e,{rev:o,revs:t.revs},function(e,t){i.push(e?{missing:o}:{ok:t}),a--,a||call(r,null,i)})}):call(r,null,i)}if(!api.taskqueue.ready())return void api.taskqueue.addTask("get",arguments);"function"==typeof t&&(r=t,t={});var o=[];{if(!t.open_revs)return customApi._get(e,t,function(e,i){if(e)return call(r,e);var o=i.doc,a=i.metadata,n=i.ctx;if(t.conflicts){var s=merge.collectConflicts(a);s.length&&(o._conflicts=s)}if(t.revs||t.revs_info){var c=merge.rootToLeaf(a.rev_tree),u=arrayFirst(c,function(e){return-1!==e.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])});if(u.ids.splice(u.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1),u.ids.reverse(),t.revs&&(o._revisions={start:u.pos+u.ids.length-1,ids:u.ids.map(function(e){return e.id})}),t.revs_info){var l=u.pos+u.ids.length;o._revs_info=u.ids.map(function(e){return l--,{rev:l+"-"+e.id,status:e.opts.status}})}}if(t.local_seq&&(o._local_seq=i.metadata.seq),t.attachments&&o._attachments){var p=o._attachments,f=Object.keys(p).length;if(0===f)return call(r,null,o);Object.keys(p).forEach(function(e){customApi._getAttachment(p[e],{encode:!0,ctx:n},function(t,i){o._attachments[e].data=i,--f||call(r,null,o)})})}else{if(o._attachments)for(var d in o._attachments)o._attachments[d].stub=!0;call(r,null,o)}});if("all"===t.open_revs)customApi._getRevisionTree(e,function(e,t){e&&(t=[]),o=merge.collectLeaves(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return call(r,errors.error(errors.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var n=o[a];if("string"!=typeof n||!/^\d+-/.test(n))return call(r,errors.error(errors.BAD_REQUEST,"Invalid rev format"))}i()}}},api.getAttachment=function(e,t,r,i){return api.taskqueue.ready()?(r instanceof Function&&(i=r,r={}),void customApi._get(e,r,function(e,o){return e?call(i,e):o.doc._attachments&&o.doc._attachments[t]?(r.ctx=o.ctx,void customApi._getAttachment(o.doc._attachments[t],r,i)):call(i,errors.MISSING_DOC)})):void api.taskqueue.addTask("getAttachment",arguments)},api.allDocs=function(e,t){if(!api.taskqueue.ready())return void api.taskqueue.addTask("allDocs",arguments);if("function"==typeof e&&(t=e,e={}),"keys"in e){if("startkey"in e)return void call(t,errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `start_key` is not compatible with multi-get"));if("endkey"in e)return void call(t,errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `end_key` is not compatible with multi-get"))}return"undefined"==typeof e.skip&&(e.skip=0),customApi._allDocs(e,t)},api.changes=function(opts){if(!api.taskqueue.ready()){var task=api.taskqueue.addTask("changes",arguments);return{cancel:function(){return task.task?task.task.cancel():(Pouch.DEBUG,void(task.parameters[0].aborted=!0))}}}if(opts=utils.extend(!0,{},opts),opts.processChange=processChange,opts.since||(opts.since=0),"latest"===opts.since){var changes;return api.info(function(e,t){opts.aborted||(opts.since=t.update_seq-1,api.changes(opts))}),{cancel:function(){return changes?changes.cancel():(Pouch.DEBUG,void(opts.aborted=!0))}}}if(opts.filter&&"string"==typeof opts.filter){if("_view"===opts.filter)if(opts.view&&"string"==typeof opts.view){var viewName=opts.view.split("/");api.get("_design/"+viewName[0],function(err,ddoc){if(ddoc&&ddoc.views&&ddoc.views[viewName[1]]){var filter=eval("(function () {  return function (doc) {    var emitted = false;    var emit = function (a, b) {      emitted = true;    };    var view = "+ddoc.views[viewName[1]].map+";    view(doc);    if (emitted) {      return true;    }  }})()");opts.aborted||(opts.filter=filter,api.changes(opts))}else{var msg=ddoc.views?"missing json key: "+viewName[1]:"missing json key: views";err=err||errors.error(errors.MISSING_DOC,msg),utils.call(opts.complete,err)}})}else{var err=errors.error(errors.BAD_REQUEST,"`view` filter parameter is not provided.");utils.call(opts.complete,err)}else{var filterName=opts.filter.split("/");api.get("_design/"+filterName[0],function(err,ddoc){if(ddoc&&ddoc.filters&&ddoc.filters[filterName[1]]){var filter=eval("(function () { return "+ddoc.filters[filterName[1]]+" })()");opts.aborted||(opts.filter=filter,api.changes(opts))}else{var msg=ddoc&&ddoc.filters?"missing json key: "+filterName[1]:"missing json key: filters";err=err||errors.error(errors.MISSING_DOC,msg),utils.call(opts.complete,err)}})}return{cancel:function(){Pouch.DEBUG&&console.log("Cancel Changes Feed"),opts.aborted=!0}}}return"descending"in opts||(opts.descending=!1),opts.limit=0===opts.limit?1:opts.limit,customApi._changes(opts)},api.close=function(e){return api.taskqueue.ready()?customApi._close(e):void api.taskqueue.addTask("close",arguments)},api.info=function(e){return api.taskqueue.ready()?customApi._info(e):void api.taskqueue.addTask("info",arguments)},api.id=function(){return customApi._id()},api.type=function(){return"function"==typeof customApi._type?customApi._type():opts.adapter},api.bulkDocs=function(e,t,r){if(!api.taskqueue.ready())return void api.taskqueue.addTask("bulkDocs",arguments);if("function"==typeof t&&(r=t,t={}),t=t?utils.extend(!0,{},t):{},!e||!e.docs||e.docs.length<1)return call(r,errors.MISSING_BULK_DOCS);if(!Array.isArray(e.docs))return call(r,errors.QUERY_PARSE_ERROR);for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return call(r,errors.NOT_AN_OBJECT);return e=utils.extend(!0,{},e),"new_edits"in t||(t.new_edits=!0),customApi._bulkDocs(e,t,autoCompact(r))};var taskqueue={};taskqueue.ready=!1,taskqueue.queue=[],api.taskqueue={},api.taskqueue.execute=function(e){taskqueue.ready&&taskqueue.queue.forEach(function(t){t.task=e[t.name].apply(null,t.parameters)})},api.taskqueue.ready=function(){return 0===arguments.length?taskqueue.ready:void(taskqueue.ready=arguments[0])},api.taskqueue.addTask=function(e,t){var r={name:e,parameters:t};return taskqueue.queue.push(r),r},api.replicate={},api.replicate.from=function(e,t,r){return"function"==typeof t&&(r=t,t={}),Pouch.replicate(e,customApi,t,r)},api.replicate.to=function(e,t,r){return"function"==typeof t&&(r=t,t={}),Pouch.replicate(customApi,e,t,r)};for(var j in api)customApi.hasOwnProperty(j)||(customApi[j]=api[j]);return opts.skipSetup&&(api.taskqueue.ready(!0),api.taskqueue.execute(api)),utils.isCordova()&&cordova.fireWindowEvent(opts.name+"_pouch",{}),customApi}};
},{"./deps/errors":15,"./merge":20,"./utils":23}],9:[function(require,module,exports){
"use strict";function parseUri(e){for(var t=parseUri.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},u=14;u--;)n[t.key[u]]=r[u]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(e,r,u){r&&(n[t.q.name][r]=u)}),n}function encodeDocId(e){return/^_(design|local)/.test(e)?e:encodeURIComponent(e)}function getHost(e,t){if(/http(s?):/.test(e)){var r=parseUri(e);r.remote=!0,(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var n=r.path.replace(/(^\/|\/$)/g,"").split("/");if(r.db=n.pop(),r.path=n.join("/"),t=t||{},r.headers=t.headers||{},t.auth||r.auth){var u=t.auth||r.auth,o=utils.btoa(u.username+":"+u.password);r.headers.Authorization="Basic "+o}return t.headers&&(r.headers=t.headers),r}return{host:"",path:"/",db:e,auth:!1}}function genDBUrl(e,t){if(e.remote){var r=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+r+e.db+"/"+t}return"/"+e.db+"/"+t}function genUrl(e,t){if(e.remote){var r=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+r+t}return"/"+t}function HttpPouch(e,t){function r(e,t){return utils.ajax(utils.extend({},s,e),t)}var n=getHost(e.name,e),u=genDBUrl(n,""),o={},s=e.ajax||{},a={list:[],get:function(e,t){"function"==typeof e&&(t=e,e={count:10});var u=function(e,r){!e&&"uuids"in r?(a.list=a.list.concat(r.uuids),utils.call(t,null,"OK")):utils.call(t,e||errors.UNKNOWN_ERROR)},o="?count="+e.count;r({headers:n.headers,method:"GET",url:genUrl(n,"_uuids")+o},u)}},i=function(){r({headers:n.headers,method:"PUT",url:u},function(e){e&&401===e.status?r({headers:n.headers,method:"HEAD",url:u},function(e){e?utils.call(t,e):utils.call(t,null,o)}):e&&412!==e.status?utils.call(t,errors.UNKNOWN_ERROR):utils.call(t,null,o)})};return e.skipSetup||r({headers:n.headers,method:"GET",url:u},function(e){e?404===e.status?i():utils.call(t,e):utils.call(t,null,o)}),o.type=function(){return"http"},o.id=function(){return genDBUrl(n,"")},o.request=function(e,t){return o.taskqueue.ready()?(e.headers=n.headers,e.url=genDBUrl(n,e.url),void r(e,t)):void o.taskqueue.addTask("request",arguments)},o.compact=function(e,t){return o.taskqueue.ready()?("function"==typeof e&&(t=e,e={}),void r({headers:n.headers,url:genDBUrl(n,"_compact"),method:"POST"},function(){function r(){o.info(function(n,u){u.compact_running?setTimeout(r,e.interval||200):utils.call(t,null)})}"function"==typeof t&&r()})):void o.taskqueue.addTask("compact",arguments)},o.info=function(e){return o.taskqueue.ready()?void r({headers:n.headers,method:"GET",url:genDBUrl(n,"")},e):void o.taskqueue.addTask("info",arguments)},o.get=function(e,t,u){if(!o.taskqueue.ready())return void o.taskqueue.addTask("get",arguments);"function"==typeof t&&(u=t,t={}),void 0===t.auto_encode&&(t.auto_encode=!0);var s=[];t.revs&&s.push("revs=true"),t.revs_info&&s.push("revs_info=true"),t.local_seq&&s.push("local_seq=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),s.push("open_revs="+t.open_revs)),t.attachments&&s.push("attachments=true"),t.rev&&s.push("rev="+t.rev),t.conflicts&&s.push("conflicts="+t.conflicts),s=s.join("&"),s=""===s?"":"?"+s,t.auto_encode&&(e=encodeDocId(e));var a={headers:n.headers,method:"GET",url:genDBUrl(n,e+s)},i=e.split("/");(i.length>1&&"_design"!==i[0]&&"_local"!==i[0]||i.length>2&&"_design"===i[0]&&"_local"!==i[0])&&(a.binary=!0),r(a,function(e,t,r){return e?utils.call(u,e):void utils.call(u,null,t,r)})},o.remove=function(e,t,u){return o.taskqueue.ready()?("function"==typeof t&&(u=t,t={}),void r({headers:n.headers,method:"DELETE",url:genDBUrl(n,encodeDocId(e._id))+"?rev="+e._rev},u)):void o.taskqueue.addTask("remove",arguments)},o.getAttachment=function(e,t,r,n){"function"==typeof r&&(n=r,r={}),void 0===r.auto_encode&&(r.auto_encode=!0),r.auto_encode&&(e=encodeDocId(e)),r.auto_encode=!1,o.get(e+"/"+t,r,n)},o.removeAttachment=function(e,t,u,s){return o.taskqueue.ready()?void r({headers:n.headers,method:"DELETE",url:genDBUrl(n,encodeDocId(e)+"/"+t)+"?rev="+u},s):void o.taskqueue.addTask("removeAttachment",arguments)},o.putAttachment=function(e,t,u,s,a,i){if(!o.taskqueue.ready())return void o.taskqueue.addTask("putAttachment",arguments);"function"==typeof a&&(i=a,a=s,s=u,u=null),"undefined"==typeof a&&(a=s,s=u,u=null);var l=encodeDocId(e)+"/"+t,d=genDBUrl(n,l);u&&(d+="?rev="+u);var c={headers:n.headers,method:"PUT",url:d,processData:!1,body:s,timeout:6e4};c.headers["Content-Type"]=a,r(c,i)},o.put=function(e,t,u){if(!o.taskqueue.ready())return void o.taskqueue.addTask("put",arguments);if("function"==typeof t&&(u=t,t={}),"object"!=typeof e)return utils.call(u,errors.NOT_AN_OBJECT);if(!utils.isValidId(e._id))return utils.call(u,errors.MISSING_ID);var s=[];t&&"undefined"!=typeof t.new_edits&&s.push("new_edits="+t.new_edits),s=s.join("&"),""!==s&&(s="?"+s),r({headers:n.headers,method:"PUT",url:genDBUrl(n,encodeDocId(e._id))+s,body:e},u)},o.post=function(e,t,r){return o.taskqueue.ready()?("function"==typeof t&&(r=t,t={}),"object"!=typeof e?utils.call(r,errors.NOT_AN_OBJECT):void("_id"in e?o.put(e,t,r):a.list.length>0?(e._id=a.list.pop(),o.put(e,t,r)):a.get(function(n){return n?utils.call(r,errors.UNKNOWN_ERROR):(e._id=a.list.pop(),void o.put(e,t,r))}))):void o.taskqueue.addTask("post",arguments)},o.bulkDocs=function(e,t,u){return o.taskqueue.ready()?("function"==typeof t&&(u=t,t={}),t||(t={}),"undefined"!=typeof t.new_edits&&(e.new_edits=t.new_edits),void r({headers:n.headers,method:"POST",url:genDBUrl(n,"_bulk_docs"),body:e},u)):void o.taskqueue.addTask("bulkDocs",arguments)},o.allDocs=function(e,t){if(!o.taskqueue.ready())return void o.taskqueue.addTask("allDocs",arguments);"function"==typeof e&&(t=e,e={});var u,s=[],a="GET";e.conflicts&&s.push("conflicts=true"),e.descending&&s.push("descending=true"),e.include_docs&&s.push("include_docs=true"),e.startkey&&s.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&s.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),e.limit&&s.push("limit="+e.limit),"undefined"!=typeof e.skip&&s.push("skip="+e.skip),s=s.join("&"),""!==s&&(s="?"+s),"undefined"!=typeof e.keys&&(a="POST",u=JSON.stringify({keys:e.keys})),r({headers:n.headers,method:a,url:genDBUrl(n,"_all_docs"+s),body:u},t)},o.changes=function(e){var t=25;if(!o.taskqueue.ready()){var u=o.taskqueue.addTask("changes",arguments);return{cancel:function(){return u.task?u.task.cancel():void(u.parameters[0].aborted=!0)}}}if("latest"===e.since){var s;return o.info(function(t,r){e.aborted||(e.since=r.update_seq,s=o.changes(e))}),{cancel:function(){return s?s.cancel():void(e.aborted=!0)}}}var a={},i="undefined"!=typeof e.limit?e.limit:!1;0===i&&(i=1);var l=i;if(e.style&&(a.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(a.include_docs=!0),e.continuous&&(a.feed="longpoll"),e.conflicts&&(a.conflicts=!0),e.descending&&(a.descending=!0),e.filter&&"string"==typeof e.filter&&(a.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(a.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var d in e.query_params)e.query_params.hasOwnProperty(d)&&(a[d]=e.query_params[d]);var c,f,p,h,v=function(u,o){a.since=u,e.continuous||h||(h=p),a.limit=!i||l>t?t:l;var s="?"+Object.keys(a).map(function(e){return e+"="+a[e]}).join("&"),d={headers:n.headers,method:"GET",url:genDBUrl(n,"_changes"+s),timeout:null};f=u,e.aborted||(c=r(d,o))},_=10,y=0,m={results:[]},g=function(r,n){if(n&&n.results){m.last_seq=n.last_seq;var u={};u.query=e.query_params,n.results=n.results.filter(function(t){l--;var r=utils.filterChange(e)(t);return r&&(m.results.push(t),utils.call(e.onChange,t)),r})}else r&&(e.aborted=!0,utils.call(e.complete,r,null));n&&n.last_seq&&(f=n.last_seq);var o=n&&n.results.length||0;h-=t;var s=i&&0>=l||n&&!o&&0>=h||o&&n.last_seq===p||e.descending&&0!==f;if(e.continuous||!s){r?y+=1:y=0;var a=1<<y,d=_*a,c=e.maximumWait||3e4;d>c&&utils.call(e.complete,r||errors.UNKNOWN_ERROR,null),setTimeout(function(){v(f,g)},d)}else utils.call(e.complete,null,m)};return e.continuous?v(e.since||0,g):o.info(function(t,r){return t?utils.call(e.complete,t):(p=r.update_seq,void v(e.since||0,g))}),{cancel:function(){e.aborted=!0,c.abort()}}},o.revsDiff=function(e,t,u){return o.taskqueue.ready()?("function"==typeof t&&(u=t,t={}),void r({headers:n.headers,method:"POST",url:genDBUrl(n,"_revs_diff"),body:e},function(e,t){utils.call(u,e,t)})):void o.taskqueue.addTask("revsDiff",arguments)},o.close=function(e){return o.taskqueue.ready()?void utils.call(e,null):void o.taskqueue.addTask("close",arguments)},o.replicateOnServer=function(e,u,s){if(!o.taskqueue.ready())return o.taskqueue.addTask("replicateOnServer",arguments),s;var a=getHost(e.id()),i={source:n.db,target:a.protocol===n.protocol&&a.authority===n.authority?a.db:a.source};u.continuous&&(i.continuous=!0),u.create_target&&(i.create_target=!0),u.doc_ids&&(i.doc_ids=u.doc_ids),u.filter&&"string"==typeof u.filter&&(i.filter=u.filter),u.query_params&&(i.query_params=u.query_params);var l,d={},c={headers:n.headers,method:"POST",url:n.protocol+"://"+n.host+(80===n.port?"":":"+n.port)+"/_replicate",body:i};s.cancel=function(){this.cancelled=!0,l&&!d.ok&&l.abort(),d._local_id&&(c.body={replication_id:d._local_id}),c.body.cancel=!0,r(c,function(e,r,n){return e?utils.call(t,e):void utils.call(u.complete,null,d,n)})},s.cancelled||(l=r(c,function(e,r,n){return e?utils.call(t,e):(d.ok=!0,r._local_id&&(d._local_id=r._local_id),void utils.call(u.complete,null,r,n))}))},o}var utils=require("../utils"),errors=require("../deps/errors");parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},HttpPouch.destroy=function(e,t,r){var n=getHost(e,t);t=t||{},"function"==typeof t&&(r=t,t={}),t.headers=n.headers,t.method="DELETE",t.url=genDBUrl(n,""),utils.ajax(t,r)},HttpPouch.valid=function(){return!0},module.exports=HttpPouch;
},{"../deps/errors":15,"../utils":23}],10:[function(require,module,exports){
"use strict";function idbError(e){return function(t){utils.call(e,errors.error(errors.IDB_ERROR,t.target,t.type))}}function IdbPouch(e,t){function n(e){e.createObjectStore(i,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),e.createObjectStore(c,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(s,{keyPath:"digest"}),e.createObjectStore(u,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(d)}function r(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;t>o;o++)r[o]=e.charCodeAt(o);return n}function o(e,t){return e._bulk_seq-t._bulk_seq}var a=1,i="document-store",c="by-sequence",s="attach-store",u="meta-store",d="detect-blob-support",l=e.name,f=window.indexedDB.open(l,a);"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.openReqList[l]=f;var v=null,_=null,g={},h=null;return f.onupgradeneeded=function(e){for(var t=e.target.result,r=e.oldVersion;r!==e.newVersion;)0===r&&n(t),r++},f.onsuccess=function(e){h=e.target.result,h.onversionchange=function(){h.close()};var n=h.transaction([u,d],"readwrite"),r=n.objectStore(u).get(u);r.onsuccess=function(e){var r=e.target.result||{id:u};l+"_id"in r?_=r[l+"_id"]:(_=utils.uuid(),r[l+"_id"]=_,n.objectStore(u).put(r));try{n.objectStore(d).put(utils.createBlob(),"key"),v=!0}catch(o){v=!1}finally{utils.call(t,null,g)}}},f.onerror=idbError(t),g.type=function(){return"idb"},g.id=function(){return _},g._bulkDocs=function(e,t,n){function a(e){var t=e.target.result;t.updateSeq=(t.updateSeq||0)+D,k.objectStore(u).put(t)}function d(){if(!j.length)return void(k.objectStore(u).get(u).onsuccess=a);var e=j.shift(),t=k.objectStore(i).get(e.metadata.id);t.onsuccess=function(t){var n=t.target.result;n?p(n,e):m(e)}}function f(){var e=[];R.sort(o),R.forEach(function(t){if(delete t._bulk_seq,t.error)return void e.push(t);var n=t.metadata,r=merge.winningRev(n);e.push({ok:!0,id:n.id,rev:r}),utils.isLocalId(n.id)||(IdbPouch.Changes.notify(l),IdbPouch.Changes.notifyLocalWindows(l))}),utils.call(n,null,e)}function _(e,t){if(e.stub)return t();if("string"==typeof e.data){var o;try{o=atob(e.data)}catch(a){var i=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return utils.call(n,i)}if(e.digest="md5-"+utils.Crypto.MD5(o),v){var c=e.content_type;o=r(o),e.data=utils.createBlob([o],{type:c})}return t()}var s=new FileReader;s.onloadend=function(){e.digest="md5-"+utils.Crypto.MD5(this.result),v||(e.data=btoa(this.result)),t()},s.readAsBinaryString(e.data)}function g(e){function t(){n++,j.length===n&&e()}if(!j.length)return e();var n=0;j.forEach(function(e){function n(){o++,o===r.length&&t()}var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!r.length)return t();var o=0;for(var a in e.data._attachments)_(e.data._attachments[a],n)})}function b(e,t){function n(e){a||(e?(a=e,utils.call(t,a)):s===u.length&&o())}function r(e){s++,n(e)}function o(){e.data._doc_id_rev=e.data._id+"::"+e.data._rev;var n=k.objectStore(c).put(e.data);n.onsuccess=function(n){e.metadata.seq=n.target.result,delete e.metadata.rev;var r=k.objectStore(i).put(e.metadata);r.onsuccess=function(){R.push(e),utils.call(t)}}}var a=null,s=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,D++,utils.isDeleted(e.metadata,e.metadata.rev)&&(e.data._deleted=!0);var u=e.data._attachments?Object.keys(e.data._attachments):[];for(var d in e.data._attachments)if(e.data._attachments[d].stub)s++,n();else{var l=e.data._attachments[d].data;delete e.data._attachments[d].data;var f=e.data._attachments[d].digest;I(e,f,l,r)}u.length||o()}function p(e,t){var n=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),r=utils.isDeleted(e),o=r&&utils.isDeleted(t.metadata)||!r&&S&&"new_leaf"!==n.conflicts;return o?(R.push(y(errors.REV_CONFLICT,t._bulk_seq)),d()):(t.metadata.rev_tree=n.tree,void b(t,d))}function m(e){return"was_delete"in t&&utils.isDeleted(e.metadata)?(R.push(errors.MISSING_DOC),d()):void b(e,d)}function y(e,t){return e._bulk_seq=t,e}function I(e,t,n,r){{var o=k.objectStore(s);o.get(t).onsuccess=function(a){var i=a.target.result&&a.target.result.refs||{},c=[e.metadata.id,e.metadata.rev].join("@"),s={digest:t,body:n,refs:i};s.refs[c]=!0;o.put(s).onsuccess=function(){utils.call(r)}}}}var S=t.new_edits,w=e.docs,j=w.map(function(e,t){var n=utils.parseDoc(e,S);return n._bulk_seq=t,n}),q=j.filter(function(e){return e.error});if(q.length)return utils.call(n,q[0]);var k,R=[],D=0;g(function(){k=h.transaction([i,c,s,u],"readwrite"),k.onerror=idbError(n),k.ontimeout=idbError(n),k.oncomplete=f,d()})},g._get=function(e,t,n){function r(){utils.call(n,u,{doc:o,metadata:a,ctx:d})}var o,a,u,d;d=t.ctx?t.ctx:h.transaction([i,c,s],"readonly"),d.objectStore(i).get(e).onsuccess=function(e){if(a=e.target.result,!a)return u=errors.MISSING_DOC,r();if(utils.isDeleted(a)&&!t.rev)return u=errors.error(errors.MISSING_DOC,"deleted"),r();var n=merge.winningRev(a),i=a.id+"::"+(t.rev?t.rev:n),s=d.objectStore(c).index("_doc_id_rev");s.get(i).onsuccess=function(e){return o=e.target.result,o&&o._doc_id_rev&&delete o._doc_id_rev,o?void r():(u=errors.MISSING_DOC,r())}}},g._getAttachment=function(e,t,n){var o,a;a=t.ctx?t.ctx:h.transaction([i,c,s],"readonly");var u=e.digest,d=e.content_type;a.objectStore(s).get(u).onsuccess=function(e){var a=e.target.result.body;if(t.encode)if(v){var i=new FileReader;i.onloadend=function(){o=btoa(this.result),utils.call(n,null,o)},i.readAsBinaryString(a)}else o=a,utils.call(n,null,o);else v?o=a:(a=r(atob(a)),o=utils.createBlob([a],{type:d})),utils.call(n,null,o)}},g._allDocs=function(e,t){var n="startkey"in e?e.startkey:!1,r="endkey"in e?e.endkey:!1,o="descending"in e?e.descending:!1;o=o?"prev":null;var a=n&&r?window.IDBKeyRange.bound(n,r):n?window.IDBKeyRange.lowerBound(n):r?window.IDBKeyRange.upperBound(r):null,s=h.transaction([i,c],"readonly");s.oncomplete=function(){"keys"in e&&(e.keys.forEach(function(e){l.push(e in f?f[e]:{key:e,error:"not_found"})}),e.descending&&l.reverse()),utils.call(t,null,{total_rows:l.length,offset:e.skip,rows:"limit"in e?l.slice(e.skip,e.limit+e.skip):e.skip>0?l.slice(e.skip):l})};var u=s.objectStore(i),d=o?u.openCursor(a,o):u.openCursor(a),l=[],f={};d.onsuccess=function(t){function n(t,n){if(utils.isLocalId(t.id))return r["continue"]();var o={id:t.id,key:t.id,value:{rev:merge.winningRev(t)}};if(e.include_docs){o.doc=n,o.doc._rev=merge.winningRev(t),o.doc._doc_id_rev&&delete o.doc._doc_id_rev,e.conflicts&&(o.doc._conflicts=merge.collectConflicts(t));for(var a in o.doc._attachments)o.doc._attachments[a].stub=!0}"keys"in e?e.keys.indexOf(t.id)>-1&&(utils.isDeleted(t)&&(o.value.deleted=!0,o.doc=null),f[o.id]=o):utils.isDeleted(t)||l.push(o),r["continue"]()}if(t.target.result){var r=t.target.result,o=r.value;if(e.include_docs){var a=s.objectStore(c).index("_doc_id_rev"),i=merge.winningRev(o),u=o.id+"::"+i;a.get(u).onsuccess=function(e){n(r.value,e.target.result)}}else n(o)}}},g._info=function(e){function t(e){o=e.target.result&&e.target.result.updateSeq||0}function n(e){var n=e.target.result;return n?(n.value.deleted!==!0&&r++,void n["continue"]()):void(a.objectStore(u).get(u).onsuccess=t)}var r=0,o=0,a=h.transaction([i,u],"readonly");a.oncomplete=function(){e(null,{db_name:l,doc_count:r,update_seq:o})},a.objectStore(i).openCursor().onsuccess=n},g._changes=function(e){function t(){d=h.transaction([i,c]),d.oncomplete=r;var t;t=s?d.objectStore(c).openCursor(window.IDBKeyRange.lowerBound(e.since,!0),s):d.objectStore(c).openCursor(window.IDBKeyRange.lowerBound(e.since,!0)),t.onsuccess=n,t.onerror=o}function n(t){if(!t.target.result){for(var n=0,r=f.length;r>n;n++){var o=f[n];o&&_.push(o)}return!1}var a=t.target.result,s=a.value._id,l=v[s];if(void 0!==l)return f[l].seq=a.key,f.push(f[l]),f[l]=null,v[s]=f.length-1,a["continue"]();var g=d.objectStore(i);g.get(a.value._id).onsuccess=function(t){var n=t.target.result;if(utils.isLocalId(n.id))return a["continue"]();u<n.seq&&(u=n.seq);var r=merge.winningRev(n),o=n.id+"::"+r,i=d.objectStore(c).index("_doc_id_rev");i.get(o).onsuccess=function(t){var o=t.target.result;delete o._doc_id_rev,o._rev=r;var i=e.processChange(o,n,e);i.seq=a.key;var c=i.id,s=v[c];void 0!==s&&(f[s]=null),f.push(i),v[c]=f.length-1,a["continue"]()}}}function r(){utils.processChanges(e,_,u)}function o(){utils.call(e.complete)}if(e.continuous){var a=l+":"+utils.uuid();return e.cancelled=!1,IdbPouch.Changes.addListener(l,a,g,e),IdbPouch.Changes.notify(l),{cancel:function(){e.cancelled=!0,IdbPouch.Changes.removeListener(l,a)}}}var s=e.descending?"prev":null,u=0;e.since=e.since&&!s?e.since:0;var d,f=[],v={},_=[];t()},g._close=function(e){return null===h?utils.call(e,errors.NOT_OPEN):(h.close(),void utils.call(e,null))},g._getRevisionTree=function(e,t){var n=h.transaction([i],"readonly"),r=n.objectStore(i).get(e);r.onsuccess=function(e){var n=e.target.result;n?utils.call(t,null,n.rev_tree):utils.call(t,errors.MISSING_DOC)}},g._doCompaction=function(e,t,n,r){var o=h.transaction([i,c],"readwrite"),a=o.objectStore(i);a.get(e).onsuccess=function(r){var a=r.target.result;a.rev_tree=t;var s=n.length;n.forEach(function(t){var n=o.objectStore(c).index("_doc_id_rev"),r=e+"::"+t;n.getKey(r).onsuccess=function(e){var t=e.target.result;if(t){{o.objectStore(c)["delete"](t)}s--,s||o.objectStore(i).put(a)}}})},o.oncomplete=function(){utils.call(r)}},g}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors");IdbPouch.valid=function(){return"undefined"!=typeof window&&!!window.indexedDB},IdbPouch.destroy=function(e,t,n){"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.Changes.clearListeners(e),IdbPouch.openReqList[e]&&IdbPouch.openReqList[e].result&&IdbPouch.openReqList[e].result.close();var r=window.indexedDB.deleteDatabase(e);r.onsuccess=function(){IdbPouch.openReqList[e]&&(IdbPouch.openReqList[e]=null),utils.call(n,null)},r.onerror=idbError(n)},IdbPouch.Changes=new utils.Changes,module.exports=IdbPouch;
},{"../deps/errors":15,"../merge":20,"../utils":23}],11:[function(require,module,exports){
"use strict";function quote(e){return"'"+e+"'"}function openDB(){return"undefined"!=typeof window?window.navigator&&window.navigator.sqlitePlugin&&window.navigator.sqlitePlugin.openDatabase?navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,arguments):window.sqlitePlugin&&window.sqlitePlugin.openDatabase?window.sqlitePlugin.openDatabase.apply(window.sqlitePlugin,arguments):window.openDatabase.apply(window,arguments):void 0}function unknownError(e){return function(t){utils.call(e,{status:500,error:t.type,reason:t.target})}}function idbError(e){return function(t){utils.call(e,errors.error(errors.WSQ_ERROR,t.target,t.type))}}function webSqlPouch(e,t){function n(){t(null,a)}function i(){s.transaction(function(e){var t="CREATE TABLE IF NOT EXISTS "+META_STORE+" (update_seq, dbid)",n="CREATE TABLE IF NOT EXISTS "+ATTACH_STORE+" (digest, json, body BLOB)",i="CREATE TABLE IF NOT EXISTS "+DOC_STORE+" (id unique, seq, json, winningseq)",a="CREATE TABLE IF NOT EXISTS "+BY_SEQ_STORE+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, doc_id_rev UNIQUE, json)";e.executeSql(n),e.executeSql(i),e.executeSql(a),e.executeSql(t);var o="SELECT update_seq FROM "+META_STORE;e.executeSql(o,[],function(e,t){if(!t.rows.length){var n="INSERT INTO "+META_STORE+" (update_seq) VALUES (?)";return void e.executeSql(n,[0])}});var s="SELECT dbid FROM "+META_STORE+" WHERE dbid IS NOT NULL";e.executeSql(s,[],function(e,t){if(!t.rows.length){var n="UPDATE "+META_STORE+" SET dbid=?";return r=utils.uuid(),void e.executeSql(n,[r])}r=t.rows.item(0).dbid})},unknownError(t),n)}var a={},r=null,o=e.name,s=openDB(o,POUCH_VERSION,o,POUCH_SIZE);return s?(utils.isCordova()&&"undefined"!=typeof window?window.addEventListener(o+"_pouch",function u(){window.removeEventListener(o+"_pouch",u,!1),i()},!1):i(),a.type=function(){return"websql"},a.id=function(){return r},a._info=function(e){s.transaction(function(t){var n="SELECT COUNT(id) AS count FROM "+DOC_STORE;t.executeSql(n,[],function(t,n){var i=n.rows.item(0).count,a="SELECT update_seq FROM "+META_STORE;t.executeSql(a,[],function(t,n){var a=n.rows.item(0).update_seq;e(null,{db_name:o,doc_count:i,update_seq:a})})})})},a._bulkDocs=function(e,t,n){function i(e,t){return e._bulk_seq-t._bulk_seq}function a(){var e=[];w.sort(i),w.forEach(function(t){if(delete t._bulk_seq,t.error)return void e.push(t);var n=t.metadata,i=merge.winningRev(n);e.push({ok:!0,id:n.id,rev:i}),utils.isLocalId(n.id)||(R++,webSqlPouch.Changes.notify(o),webSqlPouch.Changes.notifyLocalWindows(o))});var t="SELECT update_seq FROM "+META_STORE;g.executeSql(t,[],function(t,i){var a=i.rows.item(0).update_seq+R,r="UPDATE "+META_STORE+" SET update_seq=?";t.executeSql(r,[a],function(){utils.call(n,null,e)})})}function r(e,t){if(e.stub)return t();if("string"==typeof e.data){try{e.data=atob(e.data)}catch(i){var a=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return utils.call(n,a)}return e.digest="md5-"+utils.Crypto.MD5(e.data),t()}var r=new FileReader;r.onloadend=function(){e.data=this.result,e.digest="md5-"+utils.Crypto.MD5(this.result),t()},r.readAsBinaryString(e.data)}function u(e){function t(){n++,v.length===n&&e()}if(!v.length)return e();var n=0,i=0;v.forEach(function(e){function n(){i++,i===a.length&&t()}var a=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!a.length)return t();for(var o in e.data._attachments)r(e.data._attachments[o],n)})}function l(e,t,n){function i(){var t=e.data,n="INSERT INTO "+BY_SEQ_STORE+" (doc_id_rev, json) VALUES (?, ?);";g.executeSql(n,[t._id+"::"+t._rev,JSON.stringify(t)],o)}function a(e){s||(e?(s=e,utils.call(t,s)):u===l.length&&i())}function r(e){u++,a(e)}function o(i,a){var r=e.metadata.seq=a.insertId;delete e.metadata.rev;var o=merge.winningRev(e.metadata),s=n?"UPDATE "+DOC_STORE+" SET seq=?, json=?, winningseq=(SELECT seq FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?) WHERE id=?":"INSERT INTO "+DOC_STORE+" (id, seq, winningseq, json) VALUES (?, ?, ?, ?);",u=JSON.stringify(e.metadata),l=e.metadata.id+"::"+o,d=n?[r,u,l,e.metadata.id]:[e.metadata.id,r,r,u];i.executeSql(s,d,function(){w.push(e),utils.call(t,null)})}var s=null,u=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,utils.isDeleted(e.metadata,e.metadata.rev)&&(e.data._deleted=!0);var l=e.data._attachments?Object.keys(e.data._attachments):[];for(var d in e.data._attachments)if(e.data._attachments[d].stub)u++,a();else{var c=e.data._attachments[d].data;delete e.data._attachments[d].data;var E=e.data._attachments[d].digest;_(e,E,c,r)}l.length||i()}function d(e,t){var n=merge.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),i=utils.isDeleted(e)&&utils.isDeleted(t.metadata)||!utils.isDeleted(e)&&T&&"new_leaf"!==n.conflicts;return i?(w.push(S(errors.REV_CONFLICT,t._bulk_seq)),E()):(t.metadata.rev_tree=n.tree,void l(t,E,!0))}function c(e){return"was_delete"in t&&utils.isDeleted(e.metadata)?(w.push(errors.MISSING_DOC),E()):void l(e,E,!1)}function E(){if(!v.length)return a();var e=v.shift(),t=e.metadata.id;t in m?d(m[t],e):(m[t]=e.metadata,c(e))}function S(e,t){return e._bulk_seq=t,e}function _(e,t,n,i){var a=[e.metadata.id,e.metadata.rev].join("@"),r={digest:t},o="SELECT digest, json FROM "+ATTACH_STORE+" WHERE digest=?";g.executeSql(o,[t],function(e,s){s.rows.length?(r.refs=JSON.parse(s.rows.item(0).json).refs,o="UPDATE "+ATTACH_STORE+" SET json=?, body=? WHERE digest=?",e.executeSql(o,[JSON.stringify(r),n,t],function(){utils.call(i,null)})):(r.refs={},r.refs[a]=!0,o="INSERT INTO "+ATTACH_STORE+"(digest, json, body) VALUES (?, ?, ?)",e.executeSql(o,[t,JSON.stringify(r),n],function(){utils.call(i,null)}))})}function O(e,t){for(var n=0;n<t.rows.length;n++){var i=t.rows.item(n);m[i.id]=JSON.parse(i.json)}E()}var T=t.new_edits,f=e.docs,R=0,v=f.map(function(e,t){var n=utils.parseDoc(e,T);return n._bulk_seq=t,n}),q=v.filter(function(e){return e.error});if(q.length)return utils.call(n,q[0]);var g,w=[],m={};u(function(){s.transaction(function(e){g=e;var t="("+v.map(function(e){return quote(e.metadata.id)}).join(",")+")",n="SELECT * FROM "+DOC_STORE+" WHERE id IN "+t;g.executeSql(n,[],O)},unknownError(n))})},a._get=function(e,t,n){function i(){utils.call(n,u,{doc:r,metadata:o,ctx:l})}var r,o,u;if(!t.ctx)return void s.transaction(function(i){t.ctx=i,a._get(e,t,n)});var l=t.ctx,d="SELECT * FROM "+DOC_STORE+" WHERE id=?";l.executeSql(d,[e],function(e,n){if(!n.rows.length)return u=errors.MISSING_DOC,i();if(o=JSON.parse(n.rows.item(0).json),utils.isDeleted(o)&&!t.rev)return u=errors.error(errors.MISSING_DOC,"deleted"),i();var a=merge.winningRev(o),s=t.rev?t.rev:a;s=o.id+"::"+s;var d="SELECT * FROM "+BY_SEQ_STORE+" WHERE doc_id_rev=?";l.executeSql(d,[s],function(e,t){return t.rows.length?(r=JSON.parse(t.rows.item(0).json),void i()):(u=errors.MISSING_DOC,i())})})},a._allDocs=function(e,t){var n=[],i={},a="startkey"in e?e.startkey:!1,r="endkey"in e?e.endkey:!1,o="descending"in e?e.descending:!1,u="SELECT "+DOC_STORE+".id, "+BY_SEQ_STORE+".seq, "+BY_SEQ_STORE+".json AS data, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq",l=[];"keys"in e?(u+=" WHERE "+DOC_STORE+".id IN ("+e.keys.map(function(){return"?"}).join(",")+")",l=l.concat(e.keys)):(a&&(u+=" WHERE "+DOC_STORE+".id >= ?",l.push(a)),r&&(u+=(a?" AND ":" WHERE ")+DOC_STORE+".id <= ?",l.push(r)),u+=" ORDER BY "+DOC_STORE+".id "+(o?"DESC":"ASC")),s.transaction(function(t){t.executeSql(u,l,function(t,a){for(var r=0,o=a.rows.length;o>r;r++){var s=a.rows.item(r),u=JSON.parse(s.metadata),l=JSON.parse(s.data);if(!utils.isLocalId(u.id)){if(s={id:u.id,key:u.id,value:{rev:merge.winningRev(u)}},e.include_docs){s.doc=l,s.doc._rev=merge.winningRev(u),e.conflicts&&(s.doc._conflicts=merge.collectConflicts(u));for(var d in s.doc._attachments)s.doc._attachments[d].stub=!0}"keys"in e?e.keys.indexOf(u.id)>-1&&(utils.isDeleted(u)&&(s.value.deleted=!0,s.doc=null),i[s.id]=s):utils.isDeleted(u)||n.push(s)}}})},unknownError(t),function(){"keys"in e&&(e.keys.forEach(function(e){n.push(e in i?i[e]:{key:e,error:"not_found"})}),e.descending&&n.reverse()),utils.call(t,null,{total_rows:n.length,offset:e.skip,rows:"limit"in e?n.slice(e.skip,e.limit+e.skip):e.skip>0?n.slice(e.skip):n})})},a._changes=function(e){function t(){var t="SELECT "+DOC_STORE+".id, "+BY_SEQ_STORE+".seq, "+BY_SEQ_STORE+".json AS data, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq WHERE "+DOC_STORE+".seq > "+e.since+" ORDER BY "+DOC_STORE+".seq "+(i?"DESC":"ASC");s.transaction(function(n){n.executeSql(t,[],function(t,n){for(var i=0,a=0,o=n.rows.length;o>a;a++){var s=n.rows.item(a),u=JSON.parse(s.metadata);if(!utils.isLocalId(u.id)){i<s.seq&&(i=s.seq);var l=JSON.parse(s.data),d=e.processChange(l,u,e);d.seq=s.seq,r.push(d)}}utils.processChanges(e,r,i)})})}if(e.continuous){var n=o+":"+utils.uuid();return e.cancelled=!1,webSqlPouch.Changes.addListener(o,n,a,e),webSqlPouch.Changes.notify(o),{cancel:function(){e.cancelled=!0,webSqlPouch.Changes.removeListener(o,n)}}}var i=e.descending;e.since=e.since&&!i?e.since:0;var r=[];t()},a._close=function(e){utils.call(e,null)},a._getAttachment=function(e,t,n){var i,a=t.ctx,r=e.digest,o=e.content_type,s="SELECT body FROM "+ATTACH_STORE+" WHERE digest=?";a.executeSql(s,[r],function(e,a){var r=a.rows.item(0).body;i=t.encode?btoa(r):utils.createBlob([r],{type:o}),utils.call(n,null,i)})},a._getRevisionTree=function(e,t){s.transaction(function(n){var i="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";n.executeSql(i,[e],function(e,n){if(n.rows.length){var i=JSON.parse(n.rows.item(0).metadata);utils.call(t,null,i.rev_tree)}else utils.call(t,errors.MISSING_DOC)})})},a._doCompaction=function(e,t,n,i){s.transaction(function(a){var r="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";a.executeSql(r,[e],function(a,r){if(!r.rows.length)return utils.call(i);var o=JSON.parse(r.rows.item(0).metadata);o.rev_tree=t;var s="DELETE FROM "+BY_SEQ_STORE+" WHERE doc_id_rev IN ("+n.map(function(t){return quote(e+"::"+t)}).join(",")+")";a.executeSql(s,[],function(t){var n="UPDATE "+DOC_STORE+" SET json = ? WHERE id = ?";t.executeSql(n,[JSON.stringify(o),e],function(){i()})})})})},a):utils.call(t,errors.UNKNOWN_ERROR)}var utils=require("../utils"),merge=require("../merge"),errors=require("../deps/errors"),POUCH_VERSION=1,POUCH_SIZE=5242880,DOC_STORE=quote("document-store"),BY_SEQ_STORE=quote("by-sequence"),ATTACH_STORE=quote("attach-store"),META_STORE=quote("metadata-store");webSqlPouch.valid=function(){if("undefined"!=typeof window){if(window.navigator&&window.navigator.sqlitePlugin&&window.navigator.sqlitePlugin.openDatabase)return!0;if(window.sqlitePlugin&&window.sqlitePlugin.openDatabase)return!0;if(window.openDatabase)return!0}return!1},webSqlPouch.destroy=function(e,t,n){var i=openDB(e,POUCH_VERSION,e,POUCH_SIZE);i.transaction(function(e){e.executeSql("DROP TABLE IF EXISTS "+DOC_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+BY_SEQ_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+ATTACH_STORE,[]),e.executeSql("DROP TABLE IF EXISTS "+META_STORE,[])},unknownError(n),function(){utils.call(n,null)})},webSqlPouch.Changes=new utils.Changes,module.exports=webSqlPouch;
},{"../deps/errors":15,"../merge":20,"../utils":23}],12:[function(require,module,exports){
"use strict";function PouchDB(e,a,r){if(!(this instanceof PouchDB))return new PouchDB(e,a,r);("function"==typeof a||"undefined"==typeof a)&&(r=a,a={}),"object"==typeof e&&(a=e,e=void 0),"undefined"==typeof r&&(r=function(){});var i=a.name||e,t=PouchDB.parseAdapter(i);if(a.originalName=i,a.name=t.name,a.adapter=a.adapter||t.adapter,!PouchDB.adapters[a.adapter])throw"Adapter is missing";if(!PouchDB.adapters[a.adapter].valid())throw"Invalid Adapter";var n=new Adapter(a,function(e,a){if(e)return void(r&&r(e));for(var i in PouchDB.plugins){var t=PouchDB.plugins[i](a);for(var n in t)n in a||(a[n]=t[n])}a.taskqueue.ready(!0),a.taskqueue.execute(a),r(null,a)});for(var o in n)this[o]=n[o];for(var u in PouchDB.plugins){var d=PouchDB.plugins[u](this);for(var p in d)p in this||(this[p]=d[p])}}var Adapter=require("./adapter")(PouchDB);module.exports=PouchDB;
},{"./adapter":8}],13:[function(require,module,exports){
(function (process){
"use strict";function ajax(e,r){function t(e){var r=Array.prototype.slice.call(arguments,1);typeof e==typeof Function&&e.apply(this,r)}function o(r,o,s){if(e.binary||e.json||!e.processData||"string"==typeof r){if(!e.binary&&e.json&&"string"==typeof r)try{r=JSON.parse(r)}catch(n){return void t(s,n)}}else r=JSON.stringify(r);Array.isArray(r)&&(r=r.map(function(e){var r;return e.ok?e:e.error&&"conflict"===e.error?(r=errors.REV_CONFLICT,r.id=e.id,r):e.missing?(r=errors.MISSING_DOC,r.missing=e.missing,r):void 0})),t(s,null,r,o)}function s(e,r){var o,s,n,a;try{o=JSON.parse(e.responseText);for(a in errors)if(errors[a].name===o.error){n=errors[a];break}n=n||errors.UNKNOWN_ERROR,s=errors.error(n,o.reason)}catch(i){s=errors.error(errors.UNKNOWN_ERROR)}t(r,s)}"function"==typeof e&&(r=e,e={});var n={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4};if(e=extend(!0,n,e),process.browser&&"undefined"!=typeof XMLHttpRequest){var a,i=!1,p=new XMLHttpRequest;p.open(e.method,e.url),p.withCredentials=!0,e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(p.responseType="arraybuffer");var u=function(e,r,t){var o="";if(t){var s=new Date;s.setTime(s.getTime()+24*t*60*60*1e3),o="; expires="+s.toGMTString()}document.cookie=e+"="+r+o+"; path=/"};for(var c in e.headers)if("Cookie"===c){var d=e.headers[c].split("=");u(d[0],d[1],10)}else p.setRequestHeader(c,e.headers[c]);"body"in e||(e.body=null);var y=function(){i=!0,p.abort(),t(s,p,r)};return p.onreadystatechange=function(){if(4===p.readyState&&!i)if(clearTimeout(a),p.status>=200&&p.status<300){var n;n=e.binary?createBlob([p.response||""],{type:p.getResponseHeader("Content-Type")}):p.responseText,t(o,n,p,r)}else t(s,p,r)},e.timeout>0&&(a=setTimeout(y,e.timeout),p.upload.onprogress=p.onprogress=function(){clearTimeout(a),a=setTimeout(y,e.timeout)}),p.send(e.body),{abort:y}}return e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),request(e,function(n,a,i){if(n)return n.status=a?a.statusCode:400,t(s,n,r);var p,u=a.headers["content-type"],c=i||"";e.binary||!e.json&&e.processData||"object"==typeof c||!(/json/.test(u)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c))||(c=JSON.parse(c)),a.statusCode>=200&&a.statusCode<300?t(o,c,a,r):(e.binary&&(c=JSON.parse(c.toString())),p="missing"===c.reason?errors.MISSING_DOC:"no_db_file"===c.reason?errors.error(errors.DB_MISSING,c.reason):"conflict"===c.error?errors.REV_CONFLICT:errors.error(errors.UNKNOWN_ERROR,c.reason,c.error),p.status=a.statusCode,t(r,p))})}var request=require("request"),extend=require("./extend.js"),createBlob=require("./blob.js"),errors=require("./errors");module.exports=ajax;
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./blob.js":14,"./errors":15,"./extend.js":16,"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2,"request":1}],14:[function(require,module,exports){
"use strict";function createBlob(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(r){if("TypeError"!==r.name)throw r;for(var t=window.BlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder,l=new t,n=0;n<e.length;n+=1)l.append(e[n]);return l.getBlob(o.type)}}module.exports=createBlob;
},{}],15:[function(require,module,exports){
"use strict";function PouchError(r){this.status=r.status,this.name=r.error,this.message=r.reason,this.error=!0}PouchError.prototype=new Error,exports.MISSING_BULK_DOCS=new PouchError({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),exports.MISSING_DOC=new PouchError({status:404,error:"not_found",reason:"missing"}),exports.REV_CONFLICT=new PouchError({status:409,error:"conflict",reason:"Document update conflict"}),exports.INVALID_ID=new PouchError({status:400,error:"invalid_id",reason:"_id field must contain a string"}),exports.MISSING_ID=new PouchError({status:412,error:"missing_id",reason:"_id is required for puts"}),exports.RESERVED_ID=new PouchError({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),exports.NOT_OPEN=new PouchError({status:412,error:"precondition_failed",reason:"Database not open so cannot close"}),exports.UNKNOWN_ERROR=new PouchError({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),exports.BAD_ARG=new PouchError({status:500,error:"badarg",reason:"Some query argument is invalid"}),exports.INVALID_REQUEST=new PouchError({status:400,error:"invalid_request",reason:"Request was invalid"}),exports.QUERY_PARSE_ERROR=new PouchError({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),exports.DOC_VALIDATION=new PouchError({status:500,error:"doc_validation",reason:"Bad special document member"}),exports.BAD_REQUEST=new PouchError({status:400,error:"bad_request",reason:"Something wrong with the request"}),exports.NOT_AN_OBJECT=new PouchError({status:400,error:"bad_request",reason:"Document must be a JSON object"}),exports.DB_MISSING=new PouchError({status:404,error:"not_found",reason:"Database not found"}),exports.IDB_ERROR=new PouchError({status:500,error:"indexed_db_went_bad",reason:"unknown"}),exports.WSQ_ERROR=new PouchError({status:500,error:"web_sql_went_bad",reason:"unknown"}),exports.LDB_ERROR=new PouchError({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),exports.error=function(r,e,o){function s(){this.message=e,o&&(this.name=o)}return s.prototype=r,new s(e)};
},{}],16:[function(require,module,exports){
"use strict";function type(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?class2type[core_toString.call(t)]||"object":typeof t}function isWindow(t){return null!==t&&t===t.window}function isPlainObject(t){if(!t||"object"!==type(t)||t.nodeType||isWindow(t))return!1;try{if(t.constructor&&!core_hasOwn.call(t,"constructor")&&!core_hasOwn.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var e;for(e in t);return void 0===e||core_hasOwn.call(t,e)}function isFunction(t){return"function"===type(t)}function extend(){var t,r,e,n,o,i,c=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[1]||{},s=2),"object"==typeof c||isFunction(c)||(c={}),a===s&&(c=this,--s);a>s;s++)if(null!=(t=arguments[s]))for(r in t)e=c[r],n=t[r],c!==n&&(u&&n&&(isPlainObject(n)||(o=isArray(n)))?(o?(o=!1,i=e&&isArray(e)?e:[]):i=e&&isPlainObject(e)?e:{},c[r]=extend(u,i,n)):void 0!==n&&(isArray(t)&&isFunction(n)||(c[r]=n)));return c}for(var class2type={},types=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],i=0;i<types.length;i++){var typename=types[i];class2type["[object "+typename+"]"]=typename.toLowerCase()}var core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,isArray=Array.isArray||function(t){return"array"===type(t)};module.exports=extend;
},{}],17:[function(require,module,exports){
(function (process){
"use strict";var crypto=require("crypto");exports.MD5=function(r){function n(r,n){return r<<n|r>>>32-n}function t(r,n){var t,e,u,o,c;return u=2147483648&r,o=2147483648&n,t=1073741824&r,e=1073741824&n,c=(1073741823&r)+(1073741823&n),t&e?2147483648^c^u^o:t|e?1073741824&c?3221225472^c^u^o:1073741824^c^u^o:c^u^o}function e(r,n,t){return r&n|~r&t}function u(r,n,t){return r&t|n&~t}function o(r,n,t){return r^n^t}function c(r,n,t){return n^(r|~t)}function i(r,u,o,c,i,f,a){return r=t(r,t(t(e(u,o,c),i),a)),t(n(r,f),u)}function f(r,e,o,c,i,f,a){return r=t(r,t(t(u(e,o,c),i),a)),t(n(r,f),e)}function a(r,e,u,c,i,f,a){return r=t(r,t(t(o(e,u,c),i),a)),t(n(r,f),e)}function s(r,e,u,o,i,f,a){return r=t(r,t(t(c(e,u,o),i),a)),t(n(r,f),e)}function h(r){for(var n,t=r.length,e=t+8,u=(e-e%64)/64,o=16*(u+1),c=new Array(o-1),i=0,f=0;t>f;)n=(f-f%4)/4,i=f%4*8,c[n]=c[n]|r.charCodeAt(f)<<i,f++;return n=(f-f%4)/4,i=f%4*8,c[n]=c[n]|128<<i,c[o-2]=t<<3,c[o-1]=t>>>29,c}function p(r){var n,t,e="",u="";for(t=0;3>=t;t++)n=r>>>8*t&255,u="0"+n.toString(16),e+=u.substr(u.length-2,2);return e}if(!process.browser)return crypto.createHash("md5").update(r).digest("hex");var v,g,d,y,l,w,b,x,A,C=[],m=7,q=12,D=17,H=22,L=5,M=9,S=14,j=20,k=4,z=11,B=16,E=23,F=6,G=10,I=15,J=21;for(C=h(r),w=1732584193,b=4023233417,x=2562383102,A=271733878,v=0;v<C.length;v+=16)g=w,d=b,y=x,l=A,w=i(w,b,x,A,C[v+0],m,3614090360),A=i(A,w,b,x,C[v+1],q,3905402710),x=i(x,A,w,b,C[v+2],D,606105819),b=i(b,x,A,w,C[v+3],H,3250441966),w=i(w,b,x,A,C[v+4],m,4118548399),A=i(A,w,b,x,C[v+5],q,1200080426),x=i(x,A,w,b,C[v+6],D,2821735955),b=i(b,x,A,w,C[v+7],H,4249261313),w=i(w,b,x,A,C[v+8],m,1770035416),A=i(A,w,b,x,C[v+9],q,2336552879),x=i(x,A,w,b,C[v+10],D,4294925233),b=i(b,x,A,w,C[v+11],H,2304563134),w=i(w,b,x,A,C[v+12],m,1804603682),A=i(A,w,b,x,C[v+13],q,4254626195),x=i(x,A,w,b,C[v+14],D,2792965006),b=i(b,x,A,w,C[v+15],H,1236535329),w=f(w,b,x,A,C[v+1],L,4129170786),A=f(A,w,b,x,C[v+6],M,3225465664),x=f(x,A,w,b,C[v+11],S,643717713),b=f(b,x,A,w,C[v+0],j,3921069994),w=f(w,b,x,A,C[v+5],L,3593408605),A=f(A,w,b,x,C[v+10],M,38016083),x=f(x,A,w,b,C[v+15],S,3634488961),b=f(b,x,A,w,C[v+4],j,3889429448),w=f(w,b,x,A,C[v+9],L,568446438),A=f(A,w,b,x,C[v+14],M,3275163606),x=f(x,A,w,b,C[v+3],S,4107603335),b=f(b,x,A,w,C[v+8],j,1163531501),w=f(w,b,x,A,C[v+13],L,2850285829),A=f(A,w,b,x,C[v+2],M,4243563512),x=f(x,A,w,b,C[v+7],S,1735328473),b=f(b,x,A,w,C[v+12],j,2368359562),w=a(w,b,x,A,C[v+5],k,4294588738),A=a(A,w,b,x,C[v+8],z,2272392833),x=a(x,A,w,b,C[v+11],B,1839030562),b=a(b,x,A,w,C[v+14],E,4259657740),w=a(w,b,x,A,C[v+1],k,2763975236),A=a(A,w,b,x,C[v+4],z,1272893353),x=a(x,A,w,b,C[v+7],B,4139469664),b=a(b,x,A,w,C[v+10],E,3200236656),w=a(w,b,x,A,C[v+13],k,681279174),A=a(A,w,b,x,C[v+0],z,3936430074),x=a(x,A,w,b,C[v+3],B,3572445317),b=a(b,x,A,w,C[v+6],E,76029189),w=a(w,b,x,A,C[v+9],k,3654602809),A=a(A,w,b,x,C[v+12],z,3873151461),x=a(x,A,w,b,C[v+15],B,530742520),b=a(b,x,A,w,C[v+2],E,3299628645),w=s(w,b,x,A,C[v+0],F,4096336452),A=s(A,w,b,x,C[v+7],G,1126891415),x=s(x,A,w,b,C[v+14],I,2878612391),b=s(b,x,A,w,C[v+5],J,4237533241),w=s(w,b,x,A,C[v+12],F,1700485571),A=s(A,w,b,x,C[v+3],G,2399980690),x=s(x,A,w,b,C[v+10],I,4293915773),b=s(b,x,A,w,C[v+1],J,2240044497),w=s(w,b,x,A,C[v+8],F,1873313359),A=s(A,w,b,x,C[v+15],G,4264355552),x=s(x,A,w,b,C[v+6],I,2734768916),b=s(b,x,A,w,C[v+13],J,1309151649),w=s(w,b,x,A,C[v+4],F,4149444226),A=s(A,w,b,x,C[v+11],G,3174756917),x=s(x,A,w,b,C[v+2],I,718787259),b=s(b,x,A,w,C[v+9],J,3951481745),w=t(w,g),b=t(b,d),x=t(x,y),A=t(A,l);var K=p(w)+p(b)+p(x)+p(A);return K.toLowerCase()};
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2,"crypto":1}],18:[function(require,module,exports){
"use strict";function uuid(u,r){var i,t=uuid.CHARS,o=[];if(r=r||t.length,u)for(i=0;u>i;i++)o[i]=t[0|Math.random()*r];else{var d;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",i=0;36>i;i++)o[i]||(d=0|16*Math.random(),o[i]=t[19===i?3&d|8:d])}return o.join("")}uuid.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),module.exports=uuid;
},{}],19:[function(require,module,exports){
(function (process){
"use strict";var PouchDB=require("./setup");module.exports=PouchDB,PouchDB.ajax=require("./deps/ajax"),PouchDB.extend=require("./deps/extend"),PouchDB.utils=require("./utils"),PouchDB.Errors=require("./deps/errors"),PouchDB.replicate=require("./replicate").replicate,PouchDB.version=require("./version");var httpAdapter=require("./adapters/http");if(PouchDB.adapter("http",httpAdapter),PouchDB.adapter("https",httpAdapter),PouchDB.adapter("idb",require("./adapters/idb")),PouchDB.adapter("websql",require("./adapters/websql")),PouchDB.plugin("mapreduce",require("pouchdb-mapreduce")),!process.browser){var ldbAdapter=require("./adapters/leveldb");PouchDB.adapter("ldb",ldbAdapter),PouchDB.adapter("leveldb",ldbAdapter)}
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./adapters/http":9,"./adapters/idb":10,"./adapters/leveldb":1,"./adapters/websql":11,"./deps/ajax":13,"./deps/errors":15,"./deps/extend":16,"./replicate":21,"./setup":22,"./utils":23,"./version":24,"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2,"pouchdb-mapreduce":25}],20:[function(require,module,exports){
"use strict";function pathToTree(e){for(var r,t=e.shift(),s=[t.id,t.opts,[]],o=s;e.length;)t=e.shift(),r=[t.id,t.opts,[]],o[2].push(r),o=r;return s}function mergeTree(e,r){for(var t=[{tree1:e,tree2:r}],s=!1;t.length>0;){var o=t.pop(),n=o.tree1,i=o.tree2;(n[1].status||i[1].status)&&(n[1].status="available"===n[1].status||"available"===i[1].status?"available":"missing");for(var u=0;u<i[2].length;u++)if(n[2][0]){for(var c=!1,p=0;p<n[2].length;p++)n[2][p][0]===i[2][u][0]&&(t.push({tree1:n[2][p],tree2:i[2][u]}),c=!0);c||(s="new_branch",n[2].push(i[2][u]),n[2].sort())}else s="new_leaf",n[2][0]=i[2][u]}return{conflicts:s,tree:e}}function doMerge(e,r,t){var s,o=[],n=!1,i=!1;return e.length?(e.forEach(function(e){if(e.pos===r.pos&&e.ids[0]===r.ids[0])s=mergeTree(e.ids,r.ids),o.push({pos:e.pos,ids:s.tree}),n=n||s.conflicts,i=!0;else if(t!==!0){var u=e.pos<r.pos?e:r,c=e.pos<r.pos?r:e,p=c.pos-u.pos,d=[],f=[];for(f.push({ids:u.ids,diff:p,parent:null,parentIdx:null});f.length>0;){var a=f.pop();0!==a.diff?a.ids&&a.ids[2].forEach(function(e,r){f.push({ids:e,diff:a.diff-1,parent:a.ids,parentIdx:r})}):a.ids[0]===c.ids[0]&&d.push(a)}var h=d[0];h?(s=mergeTree(h.ids,c.ids),h.parent[2][h.parentIdx]=s.tree,o.push({pos:u.pos,ids:u.ids}),n=n||s.conflicts,i=!0):o.push(e)}else o.push(e)}),i||o.push(r),o.sort(function(e,r){return e.pos-r.pos}),{tree:o,conflicts:n||"internal_node"}):{tree:[r],conflicts:"new_leaf"}}function stem(e,r){var t=PouchMerge.rootToLeaf(e).map(function(e){var t=e.ids.slice(-r);return{pos:e.pos+(e.ids.length-t.length),ids:pathToTree(t)}});return t.reduce(function(e,r){return doMerge(e,r,!0).tree},[t.shift()])}var extend=require("./deps/extend"),PouchMerge={};PouchMerge.merge=function(e,r,t){e=extend(!0,[],e),r=extend(!0,{},r);var s=doMerge(e,r);return{tree:stem(s.tree,t),conflicts:s.conflicts}},PouchMerge.winningRev=function(e){var r=[];return PouchMerge.traverseRevTree(e.rev_tree,function(e,t,s,o,n){e&&r.push({pos:t,id:s,deleted:!!n.deleted})}),r.sort(function(e,r){return e.deleted!==r.deleted?e.deleted>r.deleted?1:-1:e.pos!==r.pos?r.pos-e.pos:e.id<r.id?1:-1}),r[0].pos+"-"+r[0].id},PouchMerge.traverseRevTree=function(e,r){var t=[];for(e.forEach(function(e){t.push({pos:e.pos,ids:e.ids})});t.length>0;){var s=t.pop(),o=s.pos,n=s.ids,i=r(0===n[2].length,o,n[0],s.ctx,n[1]);n[2].forEach(function(e){t.push({pos:o+1,ids:e,ctx:i})})}},PouchMerge.collectLeaves=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){e&&r.unshift({rev:t+"-"+s,pos:t,opts:n})}),r.sort(function(e,r){return r.pos-e.pos}),r.map(function(e){delete e.pos}),r},PouchMerge.collectConflicts=function(e){var r=PouchMerge.winningRev(e),t=PouchMerge.collectLeaves(e.rev_tree),s=[];return t.forEach(function(e){e.rev===r||e.opts.deleted||s.push(e.rev)}),s},PouchMerge.rootToLeaf=function(e){var r=[];return PouchMerge.traverseRevTree(e,function(e,t,s,o,n){if(o=o?o.slice(0):[],o.push({id:s,opts:n}),e){var i=t+1-o.length;r.unshift({pos:i,ids:o})}return o}),r},module.exports=PouchMerge;
},{"./deps/extend":16}],21:[function(require,module,exports){
(function (process){
"use strict";function Promise(){var e=this;this.cancelled=!1,this.cancel=function(){e.cancelled=!0}}function RequestManager(e){var n=[],t={},i=!1;return t.enqueue=function(e,o){n.push({fun:e,args:o}),i||t.process()},t.process=function(){if(!i&&n.length&&!e.cancelled){i=!0;var t=n.shift();process.nextTick(function(){t.fun.apply(null,t.args)})}},t.notifyRequestComplete=function(){i=!1,t.process()},t}function genReplicationId(e,n,t){var i=t.filter?t.filter.toString():"";return"_local/"+PouchUtils.Crypto.MD5(e.id()+n.id()+i)}function fetchCheckpoint(e,n,t,i){n.get(t,function(n,o){n&&404===n.status?i(null,0):n?i(n):e.get(t,function(e,n){e&&404===e.status||!e&&o.last_seq!==n.last_seq?i(null,0):e?i(e):i(null,n.last_seq)})})}function writeCheckpoint(e,n,t,i,o){function c(e,n){e.get(t,function(o,c){o&&404===o.status&&(c={_id:t}),c.last_seq=i,e.put(c,n)})}c(n,function(){c(e,function(){o()})})}function replicate(e,n,t,i){function o(i,o,c){if(t.onChange)for(var r=0;c>r;r++)t.onChange.apply(this,[P]);m-=c,P.docs_written+=c,writeCheckpoint(e,n,d,q,function(){p.notifyRequestComplete(),f()})}function c(){if(!h.length)return p.notifyRequestComplete();var e=h.length;n.bulkDocs({docs:h},{new_edits:!1},function(n,t){o(n,t,e)}),h=[]}function r(n,t){e.get(n,{revs:!0,rev:t,attachments:!0},function(e,n){P.docs_read++,p.notifyRequestComplete(),h.push(n),p.enqueue(c)})}function u(e){return function(n,o){if(p.notifyRequestComplete(),n)return y&&i.cancel(),void PouchUtils.call(t.complete,n,null);if(0===Object.keys(o).length){for(var c in e)m-=e[c];return void f()}var u=function(e){p.enqueue(r,[l,e])};for(var l in o){var s=e[l]-o[l].missing.length;m-=s,o[l].missing.forEach(u)}}}function l(e,t){n.revsDiff(e,u(t))}function s(e){q=e.seq,v.push(e);var n={};n[e.id]=e.changes.map(function(e){return e.rev});var t={};t[e.id]=e.changes.length,m+=e.changes.length,p.enqueue(l,[n,t])}function a(){g=!0,f()}function f(){g&&0===m&&(P.end_time=new Date,PouchUtils.call(t.complete,null,P))}var p=new RequestManager(i),h=[],d=genReplicationId(e,n,t),v=[],g=!1,m=0,q=0,y=t.continuous||!1,_=t.doc_ids,P={ok:!0,start_time:new Date,docs_read:0,docs_written:0};fetchCheckpoint(e,n,d,function(n,o){if(n)return PouchUtils.call(t.complete,n);if(q=o,!i.cancelled){var c={continuous:y,since:q,style:"all_docs",onChange:s,complete:a,doc_ids:_};t.filter&&(c.filter=t.filter),t.query_params&&(c.query_params=t.query_params);var r=e.changes(c);if(t.continuous){var u=i.cancel;i.cancel=function(){u(),r.cancel()}}}})}function toPouch(e,n){return"string"==typeof e?new Pouch(e,n):void n(null,e)}var PouchUtils=require("./utils"),Pouch=require("./index");exports.replicate=function(e,n,t,i){t instanceof Function&&(i=t,t={}),void 0===t&&(t={}),t.complete||(t.complete=i);var o=new Promise;return toPouch(e,function(e,c){return e?PouchUtils.call(i,e):void toPouch(n,function(e,n){if(e)return PouchUtils.call(i,e);if(t.server){if("function"!=typeof c.replicateOnServer)return PouchUtils.call(i,{error:"Server replication not supported for "+c.type()+" adapter"});if(c.type()!==n.type())return PouchUtils.call(i,{error:"Server replication for different adapter types ("+c.type()+" and "+n.type()+") is not supported"});c.replicateOnServer(n,t,o)}else replicate(c,n,t,o)})}),o};
}).call(this,require("/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))
},{"./index":19,"./utils":23,"/Users/indolering/Speech.js/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2}],22:[function(require,module,exports){
"use strict";var PouchDB=require("./constructor");PouchDB.adapters={},PouchDB.plugins={},PouchDB.prefix="_pouch_",PouchDB.parseAdapter=function(o){var e,n=o.match(/([a-z\-]*):\/\/(.*)/);if(n){if(o=/http(s?)/.test(n[1])?n[1]+"://"+n[2]:n[2],e=n[1],!PouchDB.adapters[e].valid())throw"Invalid adapter";return{name:o,adapter:n[1]}}for(var u=["idb","leveldb","websql"],t=0;t<u.length;++t)if(u[t]in PouchDB.adapters){e=PouchDB.adapters[u[t]];var r="use_prefix"in e?e.use_prefix:!0;return{name:r?PouchDB.prefix+o:o,adapter:u[t]}}throw"No valid adapter found"},PouchDB.destroy=function(o,e,n){("function"==typeof e||"undefined"==typeof e)&&(n=e,e={}),"object"==typeof o&&(e=o,o=void 0),"undefined"==typeof n&&(n=function(){});var u=PouchDB.parseAdapter(e.name||o),t=u.name,r=function(o){if(o)return void n(o);for(var r in PouchDB.plugins)PouchDB.plugins[r]._delete(t);PouchDB.adapters[u.adapter].destroy(t,e,n)};PouchDB.removeFromAllDbs(u,r)},PouchDB.removeFromAllDbs=function(o,e){if(!PouchDB.enableAllDbs)return void e();var n=o.adapter;return"http"===n||"https"===n?void e():void new PouchDB(PouchDB.allDBName(o.adapter),function(n,u){if(n)return void e();var t=PouchDB.dbName(o.adapter,o.name);u.get(t,function(o,n){o?e():u.remove(n,function(o){e()})})})},PouchDB.adapter=function(o,e){e.valid()&&(PouchDB.adapters[o]=e)},PouchDB.plugin=function(o,e){PouchDB.plugins[o]=e},PouchDB.enableAllDbs=!1,PouchDB.ALL_DBS="_allDbs",PouchDB.dbName=function(o,e){return[o,"-",e].join("")},PouchDB.realDBName=function(o,e){return[o,"://",e].join("")},PouchDB.allDBName=function(o){return[o,"://",PouchDB.prefix+PouchDB.ALL_DBS].join("")},PouchDB.open=function(o,e){if(!PouchDB.enableAllDbs)return void e();var n=o.adapter;return"http"===n||"https"===n?void e():void new PouchDB(PouchDB.allDBName(n),function(u,t){if(u)return void e();var r=PouchDB.dbName(n,o.name);t.get(r,function(n){n&&404===n.status?t.put({_id:r,dbname:o.originalName},function(o){e()}):e()})})},PouchDB.allDbs=function(o){var e=function(n,u){if(0===n.length){var t=[];return u.forEach(function(o){var e=t.some(function(e){return e.id===o.id});e||t.push(o)}),void o(null,t.map(function(o){return o.doc.dbname}))}var r=n.shift();return"http"===r||"https"===r?void e(n,u):void new PouchDB(PouchDB.allDBName(r),function(t,r){return t?void o(t):void r.allDocs({include_docs:!0},function(t,r){return t?void o(t):(u.unshift.apply(u,r.rows),void e(n,u))})})},n=Object.keys(PouchDB.adapters);e(n,[])},module.exports=PouchDB;
},{"./constructor":12}],23:[function(require,module,exports){
function isChromeApp(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}var merge=require("./merge");exports.extend=require("./deps/extend"),exports.ajax=require("./deps/ajax"),exports.createBlob=require("./deps/blob");var uuid=require("./deps/uuid");exports.Crypto=require("./deps/md5.js");var buffer=require("./deps/buffer"),errors=require("./deps/errors"),reservedWords=["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree"];exports.uuids=function(e,r){"object"!=typeof r&&(r={});for(var t=r.length,n=r.radix,o=[];o.push(uuid(t,n))<e;);return o},exports.uuid=function(e){return exports.uuids(1,e)[0]},exports.isValidId=function(e){return e&&"string"==typeof e?/^_/.test(e)?/^_(design|local)/.test(e):!0:!1},exports.call=function(e){if(typeof e==typeof Function){var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}},exports.isLocalId=function(e){return/^_local/.test(e)},exports.isDeleted=function(e,r){r||(r=merge.winningRev(e)),r.indexOf("-")>=0&&(r=r.split("-")[1]);var t=!1;return merge.traverseRevTree(e.rev_tree,function(e,n,o,i,s){o===r&&(t=!!s.deleted)}),t},exports.filterChange=function(e){return function(r){var t={},n=e.filter&&"function"==typeof e.filter;if(t.query=e.query_params,e.filter&&n&&!e.filter.call(this,r.doc,t))return!1;if(e.doc_ids&&-1===e.doc_ids.indexOf(r.id))return!1;if(e.include_docs)for(var o in r.doc._attachments)r.doc._attachments[o].stub=!0;else delete r.doc;return!0}},exports.processChanges=function(e,r,t){r=r.filter(exports.filterChange(e)),e.limit&&e.limit<r.length&&(r.length=e.limit),r.forEach(function(r){exports.call(e.onChange,r)}),exports.call(e.complete,null,{results:r,last_seq:t})},exports.parseDoc=function(e,r){var t,n,o,i=null,s={status:"available"};if(e._deleted&&(s.deleted=!0),r)if(e._id||(e._id=exports.uuid()),n=exports.uuid({length:32,radix:16}).toLowerCase(),e._rev){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)throw"invalid value for property '_rev'";e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],{status:"missing"},[[n,s,[]]]]}],t=parseInt(o[1],10)+1}else e._rev_tree=[{pos:1,ids:[n,s,[]]}],t=1;else if(e._revisions&&(e._rev_tree=[{pos:e._revisions.start-e._revisions.ids.length+1,ids:e._revisions.ids.reduce(function(e,r){return null===e?[r,s,[]]:[r,{status:"missing"},[e]]},null)}],t=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)return errors.BAD_ARG;t=parseInt(o[1],10),n=o[2],e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],s,[]]}]}"string"!=typeof e._id?i=errors.INVALID_ID:exports.isValidId(e._id)||(i=errors.RESERVED_ID);for(var d in e)e.hasOwnProperty(d)&&"_"===d[0]&&-1===reservedWords.indexOf(d)&&(i=exports.extend({},errors.DOC_VALIDATION),i.reason+=": "+d);return e._id=decodeURIComponent(e._id),e._rev=[t,n].join("-"),i?i:Object.keys(e).reduce(function(r,t){return/^_/.test(t)&&"_attachments"!==t?r.metadata[t.slice(1)]=e[t]:r.data[t]=e[t],r},{metadata:{},data:{}})},exports.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},exports.Changes=function(){var e={},r={};return isChromeApp()?chrome.storage.onChanged.addListener(function(r){null!=r.db_name&&e.notify(r.db_name.newValue)}):"undefined"!=typeof window&&window.addEventListener("storage",function(r){e.notify(r.key)}),e.addListener=function(e,t,n,o){r[e]||(r[e]={}),r[e][t]={db:n,opts:o}},e.removeListener=function(e,t){r[e]&&delete r[e][t]},e.clearListeners=function(e){delete r[e]},e.notifyLocalWindows=function(e){isChromeApp()?chrome.storage.local.set({db_name:e}):localStorage[e]="a"===localStorage[e]?"b":"a"},e.notify=function(e){r[e]&&Object.keys(r[e]).forEach(function(t){var n=r[e][t].opts;r[e][t].db.changes({include_docs:n.include_docs,conflicts:n.conflicts,continuous:!1,descending:!1,filter:n.filter,view:n.view,since:n.since,query_params:n.query_params,onChange:function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,exports.call(n.onChange,e))}})})},e},exports.atob="undefined"!=typeof window&&"atob"in window?function(e){return atob(e)}:function(e){var r=new buffer(e,"base64");if(r.toString("base64")!==e)throw"Cannot base64 encode full string";return r.toString("binary")},exports.btoa="undefined"!=typeof window&&"btoa"in window?function(e){return btoa(e)}:function(e){return new buffer(e,"binary").toString("base64")},module.exports=exports;
},{"./deps/ajax":13,"./deps/blob":14,"./deps/buffer":1,"./deps/errors":15,"./deps/extend":16,"./deps/md5.js":17,"./deps/uuid":18,"./merge":20}],24:[function(require,module,exports){
module.exports="1.1.0";
},{}],25:[function(require,module,exports){
/*global Pouch: true, pouchCollate: true */

"use strict";

var pouchCollate = require('pouchdb-collate');

// This is the first implementation of a basic plugin, we register the
// plugin object with pouch and it is mixin'd to each database created
// (regardless of adapter), adapters can override plugins by providing
// their own implementation. functions on the plugin object that start
// with _ are reserved function that are called by pouchdb for special
// notifications.

// If we wanted to store incremental views we can do it here by listening
// to the changes feed (keeping track of our last update_seq between page loads)
// and storing the result of the map function (possibly using the upcoming
// extracted adapter functions)



function MapReduce(db) {
  if(!(this instanceof MapReduce)){
    return new MapReduce(db);
  }
  function viewQuery(fun, options) {
    if (!options.complete) {
      return;
    }

    if (!options.skip) {
      options.skip = 0;
    }

    if (!fun.reduce) {
      options.reduce = false;
    }

    function sum(values) {
      return values.reduce(function (a, b) { return a + b; }, 0);
    }

    var builtInReduce = {
      "_sum": function (keys, values){
        return sum(values);
      },

      "_count": function (keys, values, rereduce){
        if (rereduce){
          return sum(values);
        } else {
          return values.length;
        }
      },

      "_stats": function (keys, values, rereduce) {
        return {
          'sum': sum(values),
          'min': Math.min.apply(null, values),
          'max': Math.max.apply(null, values),
          'count': values.length,
          'sumsqr': (function () {
            var _sumsqr = 0;
            for(var idx in values) {
              if (typeof values[idx] === 'number') {
              _sumsqr += values[idx] * values[idx];
              }
            }
            return _sumsqr;
          })()
        };
      }
    };

    var results = [];
    var current = null;
    var num_started= 0;
    var completed= false;

    function emit(key, val) {
      var viewRow = {
        id: current.doc._id,
        key: key,
        value: val
      };

      if (options.startkey && pouchCollate(key, options.startkey) < 0) return;
      if (options.endkey && pouchCollate(key, options.endkey) > 0) return;
      if (typeof options.key !== 'undefined' && pouchCollate(key, options.key) !== 0) return;

      num_started++;
      if (options.include_docs) {
        //in this special case, join on _id (issue #106)
        if (val && typeof val === 'object' && val._id){
          db.get(val._id,
              function (_, joined_doc){
                if (joined_doc) {
                  viewRow.doc = joined_doc;
                }
                results.push(viewRow);
                checkComplete();
              });
          return;
        } else {
          viewRow.doc = current.doc;
        }
      }
      results.push(viewRow);
    };

    // ugly way to make sure references to 'emit' in map/reduce bind to the
    // above emit
    eval('fun.map = ' + fun.map.toString() + ';');
    if (fun.reduce) {
      if (builtInReduce[fun.reduce]) {
        fun.reduce = builtInReduce[fun.reduce];
      }

      eval('fun.reduce = ' + fun.reduce.toString() + ';');
    }

    //only proceed once all documents are mapped and joined
    function checkComplete() {
      if (completed && results.length == num_started){
        results.sort(function (a, b) {
          return pouchCollate(a.key, b.key);
        });
        if (options.descending) {
          results.reverse();
        }
        if (options.reduce === false) {
          return options.complete(null, {
            total_rows: results.length,
            offset: options.skip,
            rows: ('limit' in options) ? results.slice(options.skip, options.limit + options.skip) :
              (options.skip > 0) ? results.slice(options.skip) : results
          });
        }

        var groups = [];
        results.forEach(function (e) {
          var last = groups[groups.length-1] || null;
          if (last && pouchCollate(last.key[0][0], e.key) === 0) {
            last.key.push([e.key, e.id]);
            last.value.push(e.value);
            return;
          }
          groups.push({key: [[e.key, e.id]], value: [e.value]});
        });
        groups.forEach(function (e) {
          e.value = fun.reduce(e.key, e.value);
          e.value = (typeof e.value === 'undefined') ? null : e.value;
          e.key = e.key[0][0];
        });

        options.complete(null, {
          total_rows: groups.length,
          offset: options.skip,
          rows: ('limit' in options) ? groups.slice(options.skip, options.limit + options.skip) :
            (options.skip > 0) ? groups.slice(options.skip) : groups
        });
      }
    };

    db.changes({
      conflicts: true,
      include_docs: true,
      onChange: function (doc) {
        if (!('deleted' in doc)) {
          current = {doc: doc.doc};
          fun.map.call(this, doc.doc);
        }
      },
      complete: function () {
        completed= true;
        checkComplete();
      }
    });
  }

  function httpQuery(fun, opts, callback) {

    // List of parameters to add to the PUT request
    var params = [];
    var body = undefined;
    var method = 'GET';

    // If opts.reduce exists and is defined, then add it to the list
    // of parameters.
    // If reduce=false then the results are that of only the map function
    // not the final result of map and reduce.
    if (typeof opts.reduce !== 'undefined') {
      params.push('reduce=' + opts.reduce);
    }
    if (typeof opts.include_docs !== 'undefined') {
      params.push('include_docs=' + opts.include_docs);
    }
    if (typeof opts.limit !== 'undefined') {
      params.push('limit=' + opts.limit);
    }
    if (typeof opts.descending !== 'undefined') {
      params.push('descending=' + opts.descending);
    }
    if (typeof opts.startkey !== 'undefined') {
      params.push('startkey=' + encodeURIComponent(JSON.stringify(opts.startkey)));
    }
    if (typeof opts.endkey !== 'undefined') {
      params.push('endkey=' + encodeURIComponent(JSON.stringify(opts.endkey)));
    }
    if (typeof opts.key !== 'undefined') {
      params.push('key=' + encodeURIComponent(JSON.stringify(opts.key)));
    }
    if (typeof opts.group !== 'undefined') {
      params.push('group=' + opts.group);
    }
    if (typeof opts.group_level !== 'undefined') {
      params.push('group_level=' + opts.group_level);
    }
    if (typeof opts.skip !== 'undefined') {
      params.push('skip=' + opts.skip);
    }

    // If keys are supplied, issue a POST request to circumvent GET query string limits
    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options
    if (typeof opts.keys !== 'undefined') {
      method = 'POST';
      body = JSON.stringify({keys:opts.keys});
    }

    // Format the list of parameters into a valid URI query string
    params = params.join('&');
    params = params === '' ? '' : '?' + params;

    // We are referencing a query defined in the design doc
    if (typeof fun === 'string') {
      var parts = fun.split('/');
      db.request({
        method: method,
        url: '_design/' + parts[0] + '/_view/' + parts[1] + params,
        body: body
      }, callback);
      return;
    }

    // We are using a temporary view, terrible for performance but good for testing
    var queryObject = JSON.parse(JSON.stringify(fun, function (key, val) {
      if (typeof val === 'function') {
        return val + ''; // implicitly `toString` it
      }
      return val;
    }));

    db.request({
      method:'POST',
      url: '_temp_view' + params,
      body: queryObject
    }, callback);
  }

  this.query = function(fun, opts, callback) {
    if (typeof opts === 'function') {
      callback = opts;
      opts = {};
    }

    if (callback) {
      opts.complete = callback;
    }

    if (db.type() === 'http') {
    if (typeof fun === 'function'){
      return httpQuery({map: fun}, opts, callback);
    }
    return httpQuery(fun, opts, callback);
    }

    if (typeof fun === 'object') {
      return viewQuery(fun, opts);
    }

    if (typeof fun === 'function') {
      return viewQuery({map: fun}, opts);
    }

    var parts = fun.split('/');
    db.get('_design/' + parts[0], function (err, doc) {
      if (err) {
        if (callback) callback(err);
        return;
      }

      if (!doc.views[parts[1]]) {
        if (callback) callback({ error: 'not_found', reason: 'missing_named_view' });
        return;
      }

      viewQuery({
        map: doc.views[parts[1]].map,
        reduce: doc.views[parts[1]].reduce
      }, opts);
    });
  }

};

// Deletion is a noop since we dont store the results of the view
MapReduce._delete = function () { };
module.exports = MapReduce;

},{"pouchdb-collate":26}],26:[function(require,module,exports){
'use strict';

function arrayCollate(a, b) {
  var len = Math.min(a.length, b.length);
  for (var i = 0; i < len; i++) {
    var sort = pouchCollate(a[i], b[i]);
    if (sort !== 0) {
      return sort;
    }
  }
  return (a.length === b.length) ? 0 :
    (a.length > b.length) ? 1 : -1;
}
function stringCollate(a, b) {
  // See: https://github.com/daleharvey/pouchdb/issues/40
  // This is incompatible with the CouchDB implementation, but its the
  // best we can do for now
  return (a === b) ? 0 : ((a > b) ? 1 : -1);
}
function objectCollate(a, b) {
  var ak = Object.keys(a), bk = Object.keys(b);
  var len = Math.min(ak.length, bk.length);
  for (var i = 0; i < len; i++) {
    // First sort the keys
    var sort = pouchCollate(ak[i], bk[i]);
    if (sort !== 0) {
      return sort;
    }
    // if the keys are equal sort the values
    sort = pouchCollate(a[ak[i]], b[bk[i]]);
    if (sort !== 0) {
      return sort;
    }

  }
  return (ak.length === bk.length) ? 0 :
    (ak.length > bk.length) ? 1 : -1;
}
// The collation is defined by erlangs ordered terms
// the atoms null, true, false come first, then numbers, strings,
// arrays, then objects
function collationIndex(x) {
  var id = ['boolean', 'number', 'string', 'object'];
  if (id.indexOf(typeof x) !== -1) {
    if (x === null) {
      return 1;
    }
    return id.indexOf(typeof x) + 2;
  }
  if (Array.isArray(x)) {
    return 4.5;
  }
  if (typeof x === 'undefined') {
    // CouchDB indexes both null/undefined as null
    return 1;
  }
}
module.exports = pouchCollate;
function pouchCollate(a, b) {
  var ai = collationIndex(a);
  var bi = collationIndex(b);
  if ((ai - bi) !== 0) {
    return ai - bi;
  }
  if (a === null || typeof a === 'undefined') {
    return 0;
  }
  if (typeof a === 'number') {
    return a - b;
  }
  if (typeof a === 'boolean') {
    return a === b ? 0 : (a < b ? -1 : 1);
  }
  if (typeof a === 'string') {
    return stringCollate(a, b);
  }
  if (Array.isArray(a)) {
    return arrayCollate(a, b);
  }
  if (typeof a === 'object') {
    return objectCollate(a, b);
  }
};;
},{}],27:[function(require,module,exports){
!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),n=e.split(":"),i=n.length,r=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[i-1]&&""===n[i-2]&&n.pop(),i=n.length,-1!==n[i-1].indexOf(".")&&(r=7);var o;for(o=0;i>o&&""!==n[o];o++);if(r>o){for(n.splice(o,1,"0000");n.length<r;)n.splice(o,0,"0000");i=n.length}for(var f,s=0;r>s;s++){f=n[s].split("");for(var l=0;3>l&&("0"===f[0]&&f.length>1);l++)f.splice(0,1);n[s]=f.join("")}var c=-1,h=0,p=0,v=-1,u=!1;for(s=0;r>s;s++)u?"0"===n[s]?p+=1:(u=!1,p>h&&(c=v,h=p)):"0"==n[s]&&(u=!0,v=s,p=1);p>h&&(c=v,h=p),h>1&&n.splice(c,h,""),i=n.length;var a="";for(""===n[0]&&(beststr=":"),s=0;i>s&&(a+=n[s],s!==i-1);s++)a+=":";return""===n[i-1]&&(a+=":"),a}function n(){return t.IPv6===this&&(t.IPv6=i),this}var i=t&&t.IPv6;return{best:e,noConflict:n}});
},{}],28:[function(require,module,exports){
!function(o,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):o.SecondLevelDomains=e(o)}(this,function(o){"use strict";var e=o&&o.SecondLevelDomains,n=Object.prototype.hasOwnProperty,r={list:{ac:"com|gov|mil|net|org",ae:"ac|co|gov|mil|name|net|org|pro|sch",af:"com|edu|gov|net|org",al:"com|edu|gov|mil|net|org",ao:"co|ed|gv|it|og|pb",ar:"com|edu|gob|gov|int|mil|net|org|tur",at:"ac|co|gv|or",au:"asn|com|csiro|edu|gov|id|net|org",ba:"co|com|edu|gov|mil|net|org|rs|unbi|unmo|unsa|untz|unze",bb:"biz|co|com|edu|gov|info|net|org|store|tv",bh:"biz|cc|com|edu|gov|info|net|org",bn:"com|edu|gov|net|org",bo:"com|edu|gob|gov|int|mil|net|org|tv",br:"adm|adv|agr|am|arq|art|ato|b|bio|blog|bmd|cim|cng|cnt|com|coop|ecn|edu|eng|esp|etc|eti|far|flog|fm|fnd|fot|fst|g12|ggf|gov|imb|ind|inf|jor|jus|lel|mat|med|mil|mus|net|nom|not|ntr|odo|org|ppg|pro|psc|psi|qsl|rec|slg|srv|tmp|trd|tur|tv|vet|vlog|wiki|zlg",bs:"com|edu|gov|net|org",bz:"du|et|om|ov|rg",ca:"ab|bc|mb|nb|nf|nl|ns|nt|nu|on|pe|qc|sk|yk",ck:"biz|co|edu|gen|gov|info|net|org",cn:"ac|ah|bj|com|cq|edu|fj|gd|gov|gs|gx|gz|ha|hb|he|hi|hl|hn|jl|js|jx|ln|mil|net|nm|nx|org|qh|sc|sd|sh|sn|sx|tj|tw|xj|xz|yn|zj",co:"com|edu|gov|mil|net|nom|org",cr:"ac|c|co|ed|fi|go|or|sa",cy:"ac|biz|com|ekloges|gov|ltd|name|net|org|parliament|press|pro|tm","do":"art|com|edu|gob|gov|mil|net|org|sld|web",dz:"art|asso|com|edu|gov|net|org|pol",ec:"com|edu|fin|gov|info|med|mil|net|org|pro",eg:"com|edu|eun|gov|mil|name|net|org|sci",er:"com|edu|gov|ind|mil|net|org|rochest|w",es:"com|edu|gob|nom|org",et:"biz|com|edu|gov|info|name|net|org",fj:"ac|biz|com|info|mil|name|net|org|pro",fk:"ac|co|gov|net|nom|org",fr:"asso|com|f|gouv|nom|prd|presse|tm",gg:"co|net|org",gh:"com|edu|gov|mil|org",gn:"ac|com|gov|net|org",gr:"com|edu|gov|mil|net|org",gt:"com|edu|gob|ind|mil|net|org",gu:"com|edu|gov|net|org",hk:"com|edu|gov|idv|net|org",id:"ac|co|go|mil|net|or|sch|web",il:"ac|co|gov|idf|k12|muni|net|org","in":"ac|co|edu|ernet|firm|gen|gov|i|ind|mil|net|nic|org|res",iq:"com|edu|gov|i|mil|net|org",ir:"ac|co|dnssec|gov|i|id|net|org|sch",it:"edu|gov",je:"co|net|org",jo:"com|edu|gov|mil|name|net|org|sch",jp:"ac|ad|co|ed|go|gr|lg|ne|or",ke:"ac|co|go|info|me|mobi|ne|or|sc",kh:"com|edu|gov|mil|net|org|per",ki:"biz|com|de|edu|gov|info|mob|net|org|tel",km:"asso|com|coop|edu|gouv|k|medecin|mil|nom|notaires|pharmaciens|presse|tm|veterinaire",kn:"edu|gov|net|org",kr:"ac|busan|chungbuk|chungnam|co|daegu|daejeon|es|gangwon|go|gwangju|gyeongbuk|gyeonggi|gyeongnam|hs|incheon|jeju|jeonbuk|jeonnam|k|kg|mil|ms|ne|or|pe|re|sc|seoul|ulsan",kw:"com|edu|gov|net|org",ky:"com|edu|gov|net|org",kz:"com|edu|gov|mil|net|org",lb:"com|edu|gov|net|org",lk:"assn|com|edu|gov|grp|hotel|int|ltd|net|ngo|org|sch|soc|web",lr:"com|edu|gov|net|org",lv:"asn|com|conf|edu|gov|id|mil|net|org",ly:"com|edu|gov|id|med|net|org|plc|sch",ma:"ac|co|gov|m|net|org|press",mc:"asso|tm",me:"ac|co|edu|gov|its|net|org|priv",mg:"com|edu|gov|mil|nom|org|prd|tm",mk:"com|edu|gov|inf|name|net|org|pro",ml:"com|edu|gov|net|org|presse",mn:"edu|gov|org",mo:"com|edu|gov|net|org",mt:"com|edu|gov|net|org",mv:"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro",mw:"ac|co|com|coop|edu|gov|int|museum|net|org",mx:"com|edu|gob|net|org",my:"com|edu|gov|mil|name|net|org|sch",nf:"arts|com|firm|info|net|other|per|rec|store|web",ng:"biz|com|edu|gov|mil|mobi|name|net|org|sch",ni:"ac|co|com|edu|gob|mil|net|nom|org",np:"com|edu|gov|mil|net|org",nr:"biz|com|edu|gov|info|net|org",om:"ac|biz|co|com|edu|gov|med|mil|museum|net|org|pro|sch",pe:"com|edu|gob|mil|net|nom|org|sld",ph:"com|edu|gov|i|mil|net|ngo|org",pk:"biz|com|edu|fam|gob|gok|gon|gop|gos|gov|net|org|web",pl:"art|bialystok|biz|com|edu|gda|gdansk|gorzow|gov|info|katowice|krakow|lodz|lublin|mil|net|ngo|olsztyn|org|poznan|pwr|radom|slupsk|szczecin|torun|warszawa|waw|wroc|wroclaw|zgora",pr:"ac|biz|com|edu|est|gov|info|isla|name|net|org|pro|prof",ps:"com|edu|gov|net|org|plo|sec",pw:"belau|co|ed|go|ne|or",ro:"arts|com|firm|info|nom|nt|org|rec|store|tm|www",rs:"ac|co|edu|gov|in|org",sb:"com|edu|gov|net|org",sc:"com|edu|gov|net|org",sh:"co|com|edu|gov|net|nom|org",sl:"com|edu|gov|net|org",st:"co|com|consulado|edu|embaixada|gov|mil|net|org|principe|saotome|store",sv:"com|edu|gob|org|red",sz:"ac|co|org",tr:"av|bbs|bel|biz|com|dr|edu|gen|gov|info|k12|name|net|org|pol|tel|tsk|tv|web",tt:"aero|biz|cat|co|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel",tw:"club|com|ebiz|edu|game|gov|idv|mil|net|org",mu:"ac|co|com|gov|net|or|org",mz:"ac|co|edu|gov|org",na:"co|com",nz:"ac|co|cri|geek|gen|govt|health|iwi|maori|mil|net|org|parliament|school",pa:"abo|ac|com|edu|gob|ing|med|net|nom|org|sld",pt:"com|edu|gov|int|net|nome|org|publ",py:"com|edu|gov|mil|net|org",qa:"com|edu|gov|mil|net|org",re:"asso|com|nom",ru:"ac|adygeya|altai|amur|arkhangelsk|astrakhan|bashkiria|belgorod|bir|bryansk|buryatia|cbg|chel|chelyabinsk|chita|chukotka|chuvashia|com|dagestan|e-burg|edu|gov|grozny|int|irkutsk|ivanovo|izhevsk|jar|joshkar-ola|kalmykia|kaluga|kamchatka|karelia|kazan|kchr|kemerovo|khabarovsk|khakassia|khv|kirov|koenig|komi|kostroma|kranoyarsk|kuban|kurgan|kursk|lipetsk|magadan|mari|mari-el|marine|mil|mordovia|mosreg|msk|murmansk|nalchik|net|nnov|nov|novosibirsk|nsk|omsk|orenburg|org|oryol|penza|perm|pp|pskov|ptz|rnd|ryazan|sakhalin|samara|saratov|simbirsk|smolensk|spb|stavropol|stv|surgut|tambov|tatarstan|tom|tomsk|tsaritsyn|tsk|tula|tuva|tver|tyumen|udm|udmurtia|ulan-ude|vladikavkaz|vladimir|vladivostok|volgograd|vologda|voronezh|vrn|vyatka|yakutia|yamal|yekaterinburg|yuzhno-sakhalinsk",rw:"ac|co|com|edu|gouv|gov|int|mil|net",sa:"com|edu|gov|med|net|org|pub|sch",sd:"com|edu|gov|info|med|net|org|tv",se:"a|ac|b|bd|c|d|e|f|g|h|i|k|l|m|n|o|org|p|parti|pp|press|r|s|t|tm|u|w|x|y|z",sg:"com|edu|gov|idn|net|org|per",sn:"art|com|edu|gouv|org|perso|univ",sy:"com|edu|gov|mil|net|news|org",th:"ac|co|go|in|mi|net|or",tj:"ac|biz|co|com|edu|go|gov|info|int|mil|name|net|nic|org|test|web",tn:"agrinet|com|defense|edunet|ens|fin|gov|ind|info|intl|mincom|nat|net|org|perso|rnrt|rns|rnu|tourism",tz:"ac|co|go|ne|or",ua:"biz|cherkassy|chernigov|chernovtsy|ck|cn|co|com|crimea|cv|dn|dnepropetrovsk|donetsk|dp|edu|gov|if|in|ivano-frankivsk|kh|kharkov|kherson|khmelnitskiy|kiev|kirovograd|km|kr|ks|kv|lg|lugansk|lutsk|lviv|me|mk|net|nikolaev|od|odessa|org|pl|poltava|pp|rovno|rv|sebastopol|sumy|te|ternopil|uzhgorod|vinnica|vn|zaporizhzhe|zhitomir|zp|zt",ug:"ac|co|go|ne|or|org|sc",uk:"ac|bl|british-library|co|cym|gov|govt|icnet|jet|lea|ltd|me|mil|mod|national-library-scotland|nel|net|nhs|nic|nls|org|orgn|parliament|plc|police|sch|scot|soc",us:"dni|fed|isa|kids|nsn",uy:"com|edu|gub|mil|net|org",ve:"co|com|edu|gob|info|mil|net|org|web",vi:"co|com|k12|net|org",vn:"ac|biz|com|edu|gov|health|info|int|name|net|org|pro",ye:"co|com|gov|ltd|me|net|org|plc",yu:"ac|co|edu|gov|org",za:"ac|agric|alt|bourse|city|co|cybernet|db|edu|gov|grondar|iaccess|imt|inca|landesign|law|mil|net|ngo|nis|nom|olivetti|org|pix|school|tm|web",zm:"ac|co|com|edu|gov|net|org|sch"},has_expression:null,is_expression:null,has:function(o){return!!o.match(r.has_expression)},is:function(o){return!!o.match(r.is_expression)},get:function(o){var e=o.match(r.has_expression);return e&&e[1]||null},noConflict:function(){return o.SecondLevelDomains===this&&(o.SecondLevelDomains=e),this},init:function(){var o="";for(var e in r.list)if(n.call(r.list,e)){var g="("+r.list[e]+")."+e;o+="|("+g+")"}r.has_expression=new RegExp("\\.("+o.substr(1)+")$","i"),r.is_expression=new RegExp("^("+o.substr(1)+")$","i")}};return r.init(),r});
},{}],29:[function(require,module,exports){
!function(t,e){"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,r,s){"use strict";function n(t,e){return this instanceof n?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new n(t,e)}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===a(t)}function h(t,e){var r,s,n={};if(o(e))for(r=0,s=e.length;s>r;r++)n[e[r]]=!0;else n[e]=!0;for(r=0,s=t.length;s>r;r++)void 0!==n[t[r]]&&(t.splice(r,1),s--,r--);return t}function u(t,e){var r,s;if(o(e)){for(r=0,s=e.length;s>r;r++)if(!u(t,e[r]))return!1;return!0}var n=a(e);for(r=0,s=t.length;s>r;r++)if("RegExp"===n){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function p(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,s=t.length;s>r;r++)if(t[r]!==e[r])return!1;return!0}function c(t){return escape(t)}function l(t){return encodeURIComponent(t).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}var d=s&&s.URI;n.version="1.12.0";var f=n.prototype,m=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,n.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},n.getDomAttribute=function(t){if(!t||!t.nodeName)return void 0;var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:n.domAttributes[e]},n.encode=l,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=l,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},n.encodeQuery=function(t,e){var r=n.encode(t+"");return e?r.replace(/%20/g,"+"):r},n.decodeQuery=function(t,e){t+="";try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(r){return t}},n.recodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;s>r;r++)e[r]=n.encodePathSegment(n.decode(e[r]));return e.join("/")},n.decodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;s>r;r++)e[r]=n.decodePathSegment(e[r]);return e.join("/")};var _,g={encode:"encode",decode:"decode"},y=function(t,e){return function(r){return n[e](r+"").replace(n.characters[t][e].expression,function(r){return n.characters[t][e].map[r]})}};for(_ in g)n[_+"PathSegment"]=y("pathname",g[_]);n.encodeReserved=y("reserved","encode"),n.parse=function(t,e){var r;return e||(e={}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.parseAuthority(t,e)):(r=t.indexOf(":"),r>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(n.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(r+3):"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=n.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0))),e.path=t,e},n.parseHost=function(t,e){var r,s,n=t.indexOf("/");return-1===n&&(n=t.length),"["===t.charAt(0)?(r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,n)||null,e.port=null):(s=t.substring(0,n).split(":"),e.hostname=s[0]||null,e.port=s[1]||null),e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.parseAuthority=function(t,e){return t=n.parseUserinfo(t,e),n.parseHost(t,e)},n.parseUserinfo=function(t,e){var r,s=t.indexOf("/"),i=s>-1?t.lastIndexOf("@",s):t.indexOf("@");return i>-1&&(-1===s||s>i)?(r=t.substring(0,i).split(":"),e.username=r[0]?n.decode(r[0]):null,r.shift(),e.password=r[0]?n.decode(r.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},n.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var r,s,i,a={},o=t.split("&"),h=o.length,u=0;h>u;u++)r=o[u].split("="),s=n.decodeQuery(r.shift(),e),i=r.length?n.decodeQuery(r.join("="),e):null,a[s]?("string"==typeof a[s]&&(a[s]=[a[s]]),a[s].push(i)):a[s]=i;return a},n.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},n.buildHost=function(t){var e="";return t.hostname?(n.ip6_expression.test(t.hostname)?e+=t.port?"["+t.hostname+"]:"+t.port:t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},n.buildAuthority=function(t){return n.buildUserinfo(t)+n.buildHost(t)},n.buildUserinfo=function(t){var e="";return t.username&&(e+=n.encode(t.username),t.password&&(e+=":"+n.encode(t.password)),e+="@"),e},n.buildQuery=function(t,e,r){var s,i,a,h,u="";for(i in t)if(m.call(t,i)&&i)if(o(t[i]))for(s={},a=0,h=t[i].length;h>a;a++)void 0!==t[i][a]&&void 0===s[t[i][a]+""]&&(u+="&"+n.buildQueryParameter(i,t[i][a],r),e!==!0&&(s[t[i][a]+""]=!0));else void 0!==t[i]&&(u+="&"+n.buildQueryParameter(i,t[i],r));return u.substring(1)},n.buildQueryParameter=function(t,e,r){return n.encodeQuery(t,r)+(null!==e?"="+n.encodeQuery(e,r):"")},n.addQuery=function(t,e,r){if("object"==typeof e)for(var s in e)m.call(e,s)&&n.addQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),o(r)||(r=[r]),t[e]=t[e].concat(r)}},n.removeQuery=function(t,e,r){var s,i,a;if(o(e))for(s=0,i=e.length;i>s;s++)t[e[s]]=void 0;else if("object"==typeof e)for(a in e)m.call(e,a)&&n.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?t[e]===r?t[e]=void 0:o(t[e])&&(t[e]=h(t[e],r)):t[e]=void 0}},n.hasQuery=function(t,e,r,s){if("object"==typeof e){for(var i in e)if(m.call(e,i)&&!n.hasQuery(t,i,e[i]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(r)){case"Undefined":return e in t;case"Boolean":var h=Boolean(o(t[e])?t[e].length:t[e]);return r===h;case"Function":return!!r(t[e],e,t);case"Array":if(!o(t[e]))return!1;var c=s?u:p;return c(t[e],r);case"RegExp":return o(t[e])?s?u(t[e],r):!1:Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return o(t[e])?s?u(t[e],r):!1:t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.commonPath=function(t,e){var r,s=Math.min(t.length,e.length);for(r=0;s>r;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return 1>r?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":(("/"!==t.charAt(r)||"/"!==e.charAt(r))&&(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},n.withinString=function(t,e,r){r||(r={});var s=r.start||n.findUri.start,i=r.end||n.findUri.end,a=r.trim||n.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var h=s.exec(t);if(!h)break;var u=h.index;if(r.ignoreHtml){var p=t.slice(Math.max(u-3,0),u);if(p&&o.test(p))continue}var c=u+t.slice(u).search(i),l=t.slice(u,c).replace(a,"");if(!r.ignore||!r.ignore.test(l)){c=u+l.length;var d=e(l,u,c,t);t=t.slice(0,u)+d+t.slice(c),s.lastIndex=u+d.length}}return s.lastIndex=0,t},n.ensureValidHostname=function(e){if(e.match(n.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(n.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},n.noConflict=function(t){if(t){var r={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(r.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(r.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(r.SecondLevelDomains=SecondLevelDomains.noConflict()),r}return s.URI===this&&(s.URI=d),this},f.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new n(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}};for(_ in g)f[_]=y(g[_]);g={query:"?",fragment:"#"},y=function(t,e){return function(r,s){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!s),this)}};for(_ in g)f[_]=y(_,g[_]);g={search:["?","query"],hash:["#","fragment"]},y=function(t,e){return function(r,s){var n=this[t](r,s);return"string"==typeof n&&n.length?e+n:n}};for(_ in g)f[_]=y(g[_][1],g[_][0]);f.pathname=function(t,e){if(void 0===t||t===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return t?n.decodePath(r):r}return this._parts.path=t?n.recodePath(t):"/",this.build(!e),this},f.path=f.pathname,f.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=n._parts();var s=t instanceof n,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=n.getDomAttribute(t);t=t[a]||"",i=!1}if(!s&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=n.parse(t,this._parts);else{if(!s&&!i)throw new TypeError("invalid input");var o=s?t._parts:t;for(r in o)m.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!e),this},f.is=function(t){var e=!1,s=!1,i=!1,a=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,s=n.ip4_expression.test(this._parts.hostname),i=n.ip6_expression.test(this._parts.hostname),e=s||i,a=!e,o=a&&r&&r.has(this._parts.hostname),h=a&&n.idn_expression.test(this._parts.hostname),u=a&&n.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return a;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return i;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var v=f.protocol,b=f.port,Q=f.hostname;f.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.protocol_expression)))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return v.call(this,t,e)},f.scheme=f.protocol,f.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return b.call(this,t,e)},f.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};n.parseHost(t,r),t=r.hostname}return Q.call(this,t,e)},f.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildHost(this._parts):"":(n.parseHost(t,this._parts),this.build(!e),this)},f.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildAuthority(this._parts):"":(n.parseAuthority(t,this._parts),this.build(!e),this)},f.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=n.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),n.parseUserinfo(t,this._parts),this.build(!e),this},f.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=n.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},f.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var s=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,s),o=new RegExp("^"+i(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},f.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(e).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},f.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return e!==!0&&r&&r.list[n.toLowerCase()]?r.get(this._parts.hostname)||n:n}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},f.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?n.decodePath(s):s}var a=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,a),h=new RegExp("^"+i(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t),this.build(!e),this},f.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(r+1);return t?n.decodePathSegment(s):s}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var o=new RegExp(i(this.filename())+"$");return t=n.recodePath(t),this._parts.path=this._parts.path.replace(o,t),a?this.normalizePath(e):this.build(!e),this},f.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,s,a=this.filename(),o=a.lastIndexOf(".");return-1===o?"":(r=a.substring(o+1),s=/^[a-z0-9%]+$/i.test(r)?r:"",t?n.decodePathSegment(s):s)}"."===t.charAt(0)&&(t=t.substring(1));var h,u=this.suffix();if(u)h=new RegExp(t?i(u)+"$":i("."+u)+"$");else{if(!t)return this;this._parts.path+="."+n.recodePath(t)}return h&&(t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t)),this.build(!e),this},f.segment=function(t,e,r){var s=this._parts.urn?":":"/",n=this.path(),i="/"===n.substring(0,1),a=n.split(s);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error("Bad segment '"+t+"', must be 0-based integer");if(i&&a.shift(),0>t&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(o(e)){a=[];for(var h=0,u=e.length;u>h;h++)(e[h].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(e[h]))}else(e||"string"==typeof e)&&(""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e||"string"==typeof e&&e.length?a[t]=e:a.splice(t,1);return i&&a.unshift(""),this.path(a.join(s),r)},f.segmentCoded=function(t,e,r){var s,i,a;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(s=this.segment(t,e,r),o(s))for(i=0,a=s.length;a>i;i++)s[i]=n.decode(s[i]);else s=void 0!==s?n.decode(s):void 0;return s}if(o(e))for(i=0,a=e.length;a>i;i++)e[i]=n.decode(e[i]);else e="string"==typeof e?n.encode(e):e;return this.segment(t,e,r)};var w=f.query;return f.query=function(t,e){if(t===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=t.call(this,r);return this._parts.query=n.buildQuery(s||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=n.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):w.call(this,t,e)},f.setQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var i in t)m.call(t,i)&&(s[i]=t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");s[t]=void 0!==e?e:null}return this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.addQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(s,t,void 0===e?null:e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.removeQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(s,t,e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},f.hasQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(s,t,e,r)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},f.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},f.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},f.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,r,s,i=this._parts.path,a="";for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=i.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(r=i.indexOf("/.."),-1===r)break;0!==r?(s=i.substring(0,r).lastIndexOf("/"),-1===s&&(s=r),i=i.substring(0,s)+i.substring(r+3)):i=i.substring(3)}return e&&this.is("relative")&&(i=a+i.substring(1)),i=n.recodePath(i),this._parts.path=i,this.build(!t),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},f.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var t=n.encode,e=n.decode;return n.encode=escape,n.decode=decodeURIComponent,this.normalize(),n.encode=t,n.decode=e,this},f.unicode=function(){var t=n.encode,e=n.decode;return n.encode=l,n.decode=unescape,this.normalize(),n.encode=t,n.decode=e,this},f.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var s="",i=0,a=e._parts.query.split("&"),o=a.length;o>i;i++){var h=(a[i]||"").split("=");s+="&"+n.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(s+="="+n.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+s.substring(1)}return r+=n.decodeQuery(e.hash(),!0)},f.absoluteTo=function(t){var e,r,s,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),i._parts.protocol||(i._parts.protocol=t._parts.protocol),this._parts.hostname)return i;for(r=0;s=a[r];r++)i._parts[s]=t._parts[s];return i._parts.path?".."===i._parts.path.substring(-2)&&(i._parts.path+="/"):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),"/"!==i.path().charAt(0)&&(e=t.directory(),i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},f.relativeTo=function(t){var e,r,s,i,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=o._parts,r=t._parts,i=o.path(),a=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,i===a)return e.path="",o.build();if(s=n.commonPath(o.path(),t.path()),!s)return o.build();var h=r.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(s.length),o.build()},f.equals=function(t){var e,r,s,i=this.clone(),a=new n(t),h={},u={},c={};if(i.normalize(),a.normalize(),i.toString()===a.toString())return!0;if(e=i.query(),r=a.query(),i.query(""),a.query(""),i.toString()!==a.toString())return!1;if(e.length!==r.length)return!1;h=n.parseQuery(e,this._parts.escapeQuerySpace),u=n.parseQuery(r,this._parts.escapeQuerySpace);for(s in h)if(m.call(h,s)){if(o(h[s])){if(!p(h[s],u[s]))return!1}else if(h[s]!==u[s])return!1;c[s]=!0}for(s in u)if(m.call(u,s)&&!c[s])return!1;return!0},f.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},f.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},n});
},{"./IPv6":27,"./SecondLevelDomains":28,"./punycode":30}],30:[function(require,module,exports){
(function (global){
!function(o){function e(o){throw RangeError(L[o])}function n(o,e){for(var n=o.length;n--;)o[n]=e(o[n]);return o}function t(o,e){return n(o.split(S),e).join(".")}function r(o){for(var e,n,t=[],r=0,u=o.length;u>r;)e=o.charCodeAt(r++),e>=55296&&56319>=e&&u>r?(n=o.charCodeAt(r++),56320==(64512&n)?t.push(((1023&e)<<10)+(1023&n)+65536):(t.push(e),r--)):t.push(e);return t}function u(o){return n(o,function(o){var e="";return o>65535&&(o-=65536,e+=R(o>>>10&1023|55296),o=56320|1023&o),e+=R(o)}).join("")}function i(o){return 10>o-48?o-22:26>o-65?o-65:26>o-97?o-97:x}function f(o,e){return o+22+75*(26>o)-((0!=e)<<5)}function c(o,e,n){var t=0;for(o=n?P(o/m):o>>1,o+=P(o/e);o>M*y>>1;t+=x)o=P(o/M);return P(t+(M+1)*o/(o+j))}function l(o){var n,t,r,f,l,d,s,a,p,h,v=[],g=o.length,w=0,j=I,m=A;for(t=o.lastIndexOf(F),0>t&&(t=0),r=0;t>r;++r)o.charCodeAt(r)>=128&&e("not-basic"),v.push(o.charCodeAt(r));for(f=t>0?t+1:0;g>f;){for(l=w,d=1,s=x;f>=g&&e("invalid-input"),a=i(o.charCodeAt(f++)),(a>=x||a>P((b-w)/d))&&e("overflow"),w+=a*d,p=m>=s?C:s>=m+y?y:s-m,!(p>a);s+=x)h=x-p,d>P(b/h)&&e("overflow"),d*=h;n=v.length+1,m=c(w-l,n,0==l),P(w/n)>b-j&&e("overflow"),j+=P(w/n),w%=n,v.splice(w++,0,j)}return u(v)}function d(o){var n,t,u,i,l,d,s,a,p,h,v,g,w,j,m,E=[];for(o=r(o),g=o.length,n=I,t=0,l=A,d=0;g>d;++d)v=o[d],128>v&&E.push(R(v));for(u=i=E.length,i&&E.push(F);g>u;){for(s=b,d=0;g>d;++d)v=o[d],v>=n&&s>v&&(s=v);for(w=u+1,s-n>P((b-t)/w)&&e("overflow"),t+=(s-n)*w,n=s,d=0;g>d;++d)if(v=o[d],n>v&&++t>b&&e("overflow"),v==n){for(a=t,p=x;h=l>=p?C:p>=l+y?y:p-l,!(h>a);p+=x)m=a-h,j=x-h,E.push(R(f(h+m%j,0))),a=P(m/j);E.push(R(f(a,0))),l=c(t,w,u==i),t=0,++u}++t,++n}return E.join("")}function s(o){return t(o,function(o){return E.test(o)?l(o.slice(4).toLowerCase()):o})}function a(o){return t(o,function(o){return O.test(o)?"xn--"+d(o):o})}var p="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==p&&module,v="object"==typeof global&&global;(v.global===v||v.window===v)&&(o=v);var g,w,b=2147483647,x=36,C=1,y=26,j=38,m=700,A=72,I=128,F="-",E=/^xn--/,O=/[^ -~]/,S=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=x-C,P=Math.floor,R=String.fromCharCode;if(g={version:"1.2.3",ucs2:{decode:r,encode:u},decode:l,encode:d,toASCII:a,toUnicode:s},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return g});else if(p&&!p.nodeType)if(h)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else o.punycode=g}(this);
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],31:[function(require,module,exports){
"use strict";function logger(n){function o(n){for(var o=[],e=0;e<n.length;e++)o[e]=n[e];return o}var e=this;this.log=function(){var n=o(arguments);e.checker(n,DEBUG,function(n){console.log(n)})},this.error=function(){var n=o(arguments);e.checker(n,ERROR,function(n){console.error(n)})},this.warn=function(){var n=o(arguments);e.checker(n,WARN,function(n){console.warn(n)})},this.info=function(){var n=o(arguments);e.checker(n,INFO,function(n){console.info(n)})},this.printer=function(n,o){"Object"==typeof n&&(window.navigator.userAgent.indexOf("PhantomJS")>-1?n=JSON.stringify(n):o=console.dir),o(n)},this.checker=function(o,r,t){o.length>1&&console.group(),o.forEach(function(o){"undefined"!=typeof n&&null!==n&&r&&e.printer(o,t)}),o.length>1&&console.groupEnd()}}var ERROR=!1,DEBUG=ERROR,WARN=DEBUG,INFO=WARN;module.exports=new logger;
},{}],32:[function(require,module,exports){
"use strict";function Nav(o){this.iframe=o,window.nav=this,this.go=function(o){"string"==typeof o&&(o=URI(o)),this.iframe.src=o.href()},this.load=function(o){o.$jsdns.uris.forEach(function(o){o=new URI(o),console.group(),console.info("connectivity test of "+o.href()),$.ajax({type:"HEAD",url:o.href()}).complete(function(e,r){console.info(o,e,r),"timeout"!==r?(console.info(o.href()+" is reachable."),console.groupEnd(),window.nav.go(o)):(console.warn(o.href()+" is NOT reachable."),console.groupEnd())})})}}var $=require("./libs/jquery/dist/jquery"),URI=require("./libs/uri.js/src/URI"),Record=require("./record");module.exports=Nav;
},{"./libs/jquery/dist/jquery":7,"./libs/uri.js/src/URI":29,"./record":33}],33:[function(require,module,exports){
"use strict";function Record(i,r){this._id=i,this.name=i,this.value=r,this.$jsdns={uris:[]};var s=this.$jsdns.uris;return Object.keys(r).forEach(function(i){if(["ip","translate","http","link"].indexOf(i)>-1){var t=r[i];t instanceof Array||(t=new Array(t)),t.forEach(function(r){("ip"===i||"ip6"===i)&&(r="//"+r),s.push(new URI(r).href())})}}),this}var URI=require("./libs/uri.js/src/URI");module.exports=Record;
},{"./libs/uri.js/src/URI":29}],34:[function(require,module,exports){
function throttleResize(){drawing===!1&&(resizeFired=!0,drawResize())}function drawResize(){resizeFired===!0?(resizeFired=!1,drawing=!0,iframe.height=document.documentElement.clientHeight,iframe.width=document.documentElement.clientWidth,reqFrame(drawResize)):drawing=!1}var ready=require("./libs/domready/ready.min"),resizeFired=!1,drawing=!1,reqFrame=window.requestAnimationFrame,iframe;ready(function(){iframe=document.getElementById("speech"),iframe.height=document.documentElement.clientHeight,iframe.width=document.documentElement.clientWidth,window.addEventListener("resize",throttleResize,!1),console.info("resize.js registered"),iframe||console.error("iframe is "+iframe+" in resize.js")});
},{"./libs/domready/ready.min":6}]},{},[5])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcmVzb2x2ZS9lbXB0eS5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2Rucy5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2ZhaWwuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9pbmRleC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvZG9tcmVhZHkvcmVhZHkubWluLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2FkYXB0ZXIuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2FkYXB0ZXJzL2h0dHAuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2FkYXB0ZXJzL2lkYi5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvYWRhcHRlcnMvd2Vic3FsLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9jb25zdHJ1Y3Rvci5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvZGVwcy9hamF4LmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9kZXBzL2Jsb2IuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2RlcHMvZXJyb3JzLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9kZXBzL2V4dGVuZC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvZGVwcy9tZDUuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL2RlcHMvdXVpZC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvaW5kZXguanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL21lcmdlLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi9yZXBsaWNhdGUuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbGliL3NldHVwLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy9wb3VjaGRiL2xpYi91dGlscy5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9saWIvdmVyc2lvbi5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvcG91Y2hkYi9ub2RlX21vZHVsZXMvcG91Y2hkYi1tYXByZWR1Y2UvaW5kZXguanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3BvdWNoZGIvbm9kZV9tb2R1bGVzL3BvdWNoZGItbWFwcmVkdWNlL25vZGVfbW9kdWxlcy9wb3VjaGRiLWNvbGxhdGUvbGliL2luZGV4LmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy91cmkuanMvc3JjL0lQdjYuanMiLCIvVXNlcnMvaW5kb2xlcmluZy9TcGVlY2guanMvc2NyaXB0cy9saWJzL3VyaS5qcy9zcmMvU2Vjb25kTGV2ZWxEb21haW5zLmpzIiwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL3NjcmlwdHMvbGlicy91cmkuanMvc3JjL1VSSS5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xpYnMvdXJpLmpzL3NyYy9wdW55Y29kZS5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL2xvZ2dlci5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL25hdi5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL3JlY29yZC5qcyIsIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9zY3JpcHRzL3Jlc2l6ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25UQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xGQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7O0FDQUE7O0FDQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsbnVsbCwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxucHJvY2Vzcy5uZXh0VGljayA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhblNldEltbWVkaWF0ZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgd2luZG93LnNldEltbWVkaWF0ZTtcbiAgICB2YXIgY2FuUG9zdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyXG4gICAgO1xuXG4gICAgaWYgKGNhblNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZikgfTtcbiAgICB9XG5cbiAgICBpZiAoY2FuUG9zdCkge1xuICAgICAgICB2YXIgcXVldWUgPSBbXTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBldi5zb3VyY2U7XG4gICAgICAgICAgICBpZiAoKHNvdXJjZSA9PT0gd2luZG93IHx8IHNvdXJjZSA9PT0gbnVsbCkgJiYgZXYuZGF0YSA9PT0gJ3Byb2Nlc3MtdGljaycpIHtcbiAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZuKTtcbiAgICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZSgncHJvY2Vzcy10aWNrJywgJyonKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcbn0pKCk7XG5cbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1cblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gRE5TKCl7dmFyIGU9dGhpczt0aGlzLnB1YnM9e30sdGhpcy5kYj1uZXcgUG91Y2hEQihcInNwZWVjaFwiLHthdXRvX2NvbXBhY3Rpb246ITB9KSx0aGlzLmRiLnJlcGxpY2F0ZS5mcm9tKFwiaHR0cHM6Ly9pbmRvbGVyaW5nLmNsb3VkYW50LmNvbS9iaXQvXCIsXCJzcGVlY2hcIix7Y29udGludW91czohMH0pLHRoaXMucHVicy5zcGVlY2g9bmV3IFBvdWNoREIoXCJodHRwczovL2luZG9sZXJpbmcuY2xvdWRhbnQuY29tL2JpdC9cIiksdGhpcy5sb29rdXA9ZnVuY3Rpb24obixpKXtlLmRiLmdldChuLGZ1bmN0aW9uKGUsdCl7ZT90aGlzLmZldGNoKG4saSk6aSh0KX0pfSx0aGlzLmZldGNoPWZ1bmN0aW9uKG4saSl7ZS5wdWJzLnNwZWVjaC5nZXQobixmdW5jdGlvbihuLHQpe2lmKG4pdGhyb3cgbmV3IEZhaWwoe25hbWU6XCJuYW1lXCJ9KS5vdmVyKCk7ZS5zYXZlKHQpLGUuZGIuZ2V0KHIubmFtZSxmdW5jdGlvbihlLG4pe2koZT9lOm4pfSl9KX0sdGhpcy5zYXZlPWZ1bmN0aW9uKG4saSl7aT1pfHxmdW5jdGlvbihlKXtsb2cubG9nKGUpfSwoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4uJGpzZG5zfHxudWxsPT09bi4kanNkbnMpJiYobj1uZXcgUmVjb3JkKG4ubmFtZSxuLnZhbHVlKSksZS5kYi5nZXQobi5uYW1lLGZ1bmN0aW9uKHQsbyl7dD9lLmRiLnB1dChuLnZhbHVlLG4ubmFtZSk6ZS5kYi5wdXQobi52YWx1ZSxuLm5hbWUsby5fcmV2KSxlLmRiLmdldChuLm5hbWUsZnVuY3Rpb24oZSxuKXtpKGU/ZTpuKX0pfSl9LHRoaXMuZGVsZXRlPWZ1bmN0aW9uKG4pe2UuZGIuZ2V0KG4sZnVuY3Rpb24oaSx0KXtpP2xvZy5pbmZvKFwiZXJyb3Igd2hpbGUgZmV0Y2hpbmcgcmV2IG9mIFwiK24rXCIgZm9yIGRlbHRpb24uXCIsaSk6ZS5kYi5yZW1vdmUodCxmdW5jdGlvbihlLGkpe2UmJmxvZy53YXJuKFwiVW5hYmxlIHRvIGRlbGV0ZSBcIituK1wiIFwiLGUpLGkmJmxvZy5sb2coaSl9KX0pfSx0aGlzLmdldFJlY29yZHM9ZnVuY3Rpb24obixpKXtpPWl8fG4sQXJyYXkuaXNBcnJheShuKT9lLmRiLmFsbERvY3Moe2tleXM6bixpbmNsdWRlX2RvY3M6ITB9LGkpOmUuZGIuYWxsRG9jcyh7aW5jbHVkZV9kb2NzOiEwfSxpKX0sdGhpcy5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBETlN9fXZhciAkPXJlcXVpcmUoXCIuL2xpYnMvanF1ZXJ5L2Rpc3QvanF1ZXJ5XCIpLFVSST1yZXF1aXJlKFwiLi9saWJzL3VyaS5qcy9zcmMvVVJJXCIpLFBvdWNoREI9cmVxdWlyZShcIi4vbGlicy9wb3VjaGRiL2xpYi9pbmRleC5qc1wiKSxSZWNvcmQ9cmVxdWlyZShcIi4vcmVjb3JkXCIpLEZhaWw9cmVxdWlyZShcIi4vZmFpbFwiKSxsb2c9cmVxdWlyZShcIi4vbG9nZ2VyXCIpO21vZHVsZS5leHBvcnRzPW5ldyBETlM7IiwiZnVuY3Rpb24gRmFpbChlKXt0aGlzLm5hbWU9ZS5uYW1lfHxcIkZhaWxcIix0aGlzLm1lc3NhZ2U9ZX12YXIgVVJJPXJlcXVpcmUoXCIuL2xpYnMvdXJpLmpzL3NyYy9VUklcIik7RmFpbC5wcm90b3R5cGU9bmV3IEVycm9yLEZhaWwucHJvdG90eXBlLm92ZXI9ZnVuY3Rpb24oKXt1cmw9bmV3IFVSSTt2YXIgZT17dXJsOnVybC5ocmVmKCksdXJuOihuZXcgVVJJKS5zdWJkb21haW4oKS5zcGxpdChcIi5cIikuc2xpY2UoLTEpLnBvcCgpLHZhbHVlOnRoaXMubWVzc2FnZS52YWx1ZSxuYW1lOnRoaXMubWVzc2FnZS5uYW1lLG1lc3NhZ2U6dGhpcy5tZXNzYWdlLm1lc3NhZ2V9O1wiXCI9PT1lLnVybiYmKGUudXJuPXVybC5oYXNoKCkmJlwiIVwiIT09dXJsLmhhc2hbMF0/dXJsLmhhc2goKS5zbGljZSgxLHVybC5oYXNoKCkubGVuZ3RoKTpcImxvY2FsaG9zdFwiPT11cmwuaG9zdG5hbWUoKXx8XCIxMjcuMC4wLjFcIj09dXJsLmhvc3RuYW1lKCk/XCJsb2NhbGhvc3RcIjpcInd3d1wiKTt2YXIgdD0obmV3IFVSSSkucGF0aChcImVycm9yLmh0bWxcIikuc3ViZG9tYWluKFwiXCIpO3N3aXRjaChlLm5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiZm9ybWF0XCI6ZS50ZXh0PVwiVGhlIG5hbWUgc2VydmVyIHdhcyB1bmFibGUgdG8gaW50ZXJwcmV0IHRoZSBxdWVyeS5cIixlLmNvZGU9MTticmVhaztjYXNlXCJzZXJ2ZXJcIjplLnRleHQ9XCJUaGUgbmFtZSBzZXJ2ZXIgd2FzIHVuYWJsZSB0byBwcm9jZXNzIHRoaXMgcXVlcnkgZHVlIHRvIGEgcHJvYmxlbSB3aXRoIHRoZSBuYW1lIHNlcnZlci5cIixlLmNvZGU9MjticmVhaztjYXNlXCJuYW1lXCI6ZS50ZXh0PVwiRG9tYWluIG5hbWUgcmVmZXJlbmNlZCBpbiB0aGUgcXVlcnkgZG9lcyBub3QgZXhpc3QuXCIsZS5jb2RlPTMsZS5tZXNzYWdlPVwiVGhlIGRvbWFpbiBuYW1lIFwiK2UudXJuK1wiIGNvdWxkIG5vdCBiZSBmb3VuZFwiO2JyZWFrO2Nhc2VcInVuaW1wbGVtZW50ZWRcIjplLnRleHQ9XCJUaGUgbmFtZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgcmVxdWVzdGVkIGtpbmQgb2YgcXVlcnkuXCIsZS5jb2RlPTQsdC5wYXRoKFwiY29ubmVjdC5odG1sXCIpO2JyZWFrO2Nhc2VcInVuYXV0aG9yaXplZFwiOmUudGV4dD1cIkF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCBoYXMgZmFpbGVkIG9yIGhhcyBub3QgeWV0IGJlZW4gcHJvdmlkZWQuXCIsZS5jb2RlPTQwMTticmVhaztjYXNlXCJmb3JiaWRkZW5cIjplLnRleHQ9XCJTdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uIGJ1dCBjcmVkZW50aWFscyBkbyBub3QgZ3JhbnQgdGhlIGNsaWVudCBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGUgcmVzb3VyY2UuXCIsZS5jb2RlPTQwMzticmVhaztjYXNlXCJ0aW1lb3V0XCI6ZS50ZXh0PVwiVGhlIHNlcnZlciB0aW1lZCBvdXQgd2FpdGluZyBmb3IgdGhlIHJlcXVlc3QuXCIsZS5jb2RlPTQwOCx0LnBhdGgoXCJjb25uZWN0Lmh0bWxcIik7YnJlYWs7Y2FzZVwibGVuZ3RoXCI6ZS50ZXh0PVwiVVJJIHRvbyBsb25nLlwiLGUuY29kZT00MTQ7YnJlYWs7Y2FzZVwiY2FsbVwiOmUudGV4dD1cIlRoZSB1c2VyIGhhcyBzZW50IHRvbyBtYW55IHJlcXVlc3RzIGluIGEgZ2l2ZW4gYW1vdW50IG9mIHRpbWUuIEludGVuZGVkIGZvciB1c2Ugd2l0aCByYXRlIGxpbWl0aW5nIHNjaGVtZXMuXCIsZS5jb2RlPTQyMDticmVhaztjYXNlXCJyYXRlXCI6Y2FzZVwiZmxvb2RcIjplLnRleHQ9XCJUaGUgdXNlciBoYXMgc2VudCB0b28gbWFueSByZXF1ZXN0cyBpbiBhIGdpdmVuIGFtb3VudCBvZiB0aW1lLiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggcmF0ZSBsaW1pdGluZyBzY2hlbWVzLlwiLGUuY29kZT00Mjk7YnJlYWs7Y2FzZVwiY2Vuc29yZWRcIjplLnRleHQ9XCJVbmF2YWlsYWJsZSBGb3IgTGVnYWwgUmVhc29uc1wiLGUuY29kZT00NTE7YnJlYWs7ZGVmYXVsdDplLmNvZGV8fChlLmNvZGU9LTEpLGUubmFtZXx8KGUubmFtZT1cInVua25vd25cIiksZS5tZXNzYWdlfHwoZS5tZXNzYWdlPVwiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb29raW5nIHVwIHlvdXIgcmVxdWVzdC5cIil9Y29uc29sZS5sb2coZS5uYW1lLGUpLGxvY2F0aW9uLmhyZWY9KG5ldyBVUkkpLnBhdGgoXCJlcnJvci5odG1sXCIpLnN1YmRvbWFpbihcIlwiKS5hZGRRdWVyeShlKS5ocmVmKCl9LG1vZHVsZS5leHBvcnRzPUZhaWw7IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdXBkYXRlcihlKXt2YXIgdD1lLnR5cGU7aWYoY29uc29sZS5kaXIoZSksXCJsb2NhdGlvblwiPT09dCl7dmFyIGE9bmV3IFVSTChlLnZhbHVlKSxyPWEucGF0aG5hbWU7YS5zZWFyY2gmJihyPVwiP1wiK2Euc2VhcmNoKSxhLmhhc2gmJihyPVwiI1wiK2EuaGFzaCksaGlzdG9yeS5yZXBsYWNlU3RhdGUocil9ZWxzZSBpZihcInRpdGxlXCI9PT10KWRvY3VtZW50LnRpdGxlPWUudmFsdWU7ZWxzZSBpZihcImZhdmljb25cIj09PXQpe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmF2aWNvblwiKSYmZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZhdmljb25cIikpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO2kuaWQ9XCJmYXZpY29uXCIsaS50eXBlPVwiaW1hZ2UveC1pY29uXCIsaS5yZWw9XCJzaG9ydGN1dCBpY29uXCIsaS5ocmVmPWUudmFsdWUsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpKX19ZnVuY3Rpb24gZG5zKCl7cmV0dXJuIEROU312YXIgJD1yZXF1aXJlKFwiLi9saWJzL2pxdWVyeS9kaXN0L2pxdWVyeVwiKSxVUkk9cmVxdWlyZShcIi4vbGlicy91cmkuanMvc3JjL1VSSVwiKSxyZWFkeT1yZXF1aXJlKFwiLi9saWJzL2RvbXJlYWR5L3JlYWR5Lm1pblwiKSxyZXNpemU9cmVxdWlyZShcIi4vcmVzaXplXCIpLEROUz1yZXF1aXJlKFwiLi9kbnNcIiksTmF2PXJlcXVpcmUoXCIuL25hdlwiKSxsb2c9cmVxdWlyZShcIi4vbG9nZ2VyXCIpLERFQlVHPSEwO2lmKERFQlVHKXt2YXIgZHVtbWllcz1bW1wid3d3XCIse3RyYW5zbGF0ZTpcIlwifV0sW1wibG9jYWxob3N0XCIse3RyYW5zbGF0ZTpcIlwifV0sW1wiaXB2NFwiLHtpcDpcIjIwOC4xMTMuMjEyLjE4N1wifV0sW1wiaXB2Ni0yXCIse2lwNjpbXCIyNjA3OmYyOTg6NToxMDJiOjpkZGI6YjA5ZVwiLFwiMjYwNzpmMjk4OjU6MTAyYjo6YWYzOjVhYTNcIl19XSxbXCJpcHY2XCIse2lwNjpcIjI2MDc6ZjI5ODo1OjEwMmI6OmRkYjpiMDllXCJ9XSxbXCJpcHY0LTJcIix7aXA6W1wiMjA4LjExMy4yMTIuMTg3XCIsXCIyMDguMTEzLjIxMi4xczg3XCJdfV0sW1wiYml0c1wiLHtpcDpbXCIyMDguMTEzLjIxMi4xODdcIl0sY29yczpbXCJzcGVlY2guaXNcIl19XSxbXCIkc2V0dGluZ1wiLHtuYW1lOlwic3Vic2NyaWJlciBuYW1lXCIsdXJsOlwianNETlMgdXJsXCJ9XSxbXCJyZWRkaXRcIix7dHJhbnNsYXRlOlwiaHR0cDovL3d3dy5yZWRkaXQuY29tXCJ9XSxbXCJhYXJvbnN3XCIse3RyYW5zbGF0ZTpcImh0dHA6Ly93d3cuYWFyb25zdy5jb20vXCJ9XSxbXCJ3aWtpcGVkaWFcIix7dHJhbnNsYXRlOlwiaHR0cDovL3d3dy53aWtpcGVkaWEub3JnXCJ9XSxbXCJhY2Nlc3Nub3dcIix7dHJhbnNsYXRlOlwiaHR0cDovL3d3dy5hY2Nlc3Nub3cub3JnXCJ9XSxbXCJpbmRvbGVyaW5nXCIse2lwOltcIjIwOC4xMTMuMjEyLjIxXCJdLGNvcnM6W1wic3BlZWNoLmlzXCJdfV0sW1wiZmlnaHRmb3J0aGVmdXR1cmVcIix7dHJhbnNsYXRlOlwiaHR0cDovL3d3dy5maWdodGZvcnRoZWZ1dHVyZS5vcmcvXCJ9XSxbXCJpbnRlcm5ldGRlZmVuc2VsZWFndWVcIix7dHJhbnNsYXRlOlwiaHR0cDovL2ludGVybmV0ZGVmZW5zZWxlYWd1ZS5vcmdcIn1dXTtkdW1taWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVSSTtcInd3d1wiPT09ZVswXT8odC5zdWJkb21haW4oXCJ3d3dcIiksdC5wYXRoKFwiL1NwZWVjaC5qcy9zaXRlL2Nvbm5lY3QuaHRtbFwiKSxlWzFdLnRyYW5zbGF0ZT10LmhyZWYoKSk6XCJsb2NhbGhvc3RcIj09PWVbMF0mJih0LnBhdGgoXCIvU3BlZWNoLmpzL3NpdGUvY29ubmVjdC5odG1sXCIpLGVbMV0udHJhbnNsYXRlPXQuaHJlZigpKSxETlMuc2F2ZSh7bmFtZTplWzBdLHZhbHVlOmVbMV19KX0pfXJlYWR5KGZ1bmN0aW9uKCl7dmFyIGU9bmV3IFVSSTtsb2cuaW5mbyhcInVyaTogXCIrZSk7dmFyIHQ9ZS5zdWJkb21haW4oKS5zcGxpdChcIi5cIikuc2xpY2UoLTEpLnBvcCgpO2xvZy5pbmZvKFwidXJuOiBcIit0LHQpO3ZhciBhPWUuZnJhZ21lbnQoKTtsb2cuaW5mbyhcImZyYWdtZW50OiBcIithKSxcIlwiPT09dCYmKHQ9YSYmXCIhXCIhPT1hWzBdP2E6XCJsb2NhbGhvc3RcIj09PWUuaG9zdG5hbWUoKXx8XCIxMjcuMC4wLjFcIj09PWUuaG9zdG5hbWUoKT9cImxvY2FsaG9zdFwiOlwid3d3XCIpO3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3BlZWNoXCIpLGk9bmV3IE5hdihyKTtETlMubG9va3VwKHQsaS5sb2FkKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihlKXt2YXIgdD1uZXcgVVJMKHIuc3JjKS5vcmlnaW47ZS5vcmlnaW49PT10JiYoY29uc29sZS5kaXIoZSksdXBkYXRlcihlLmRhdGEpKX0pfSk7IiwiIWZ1bmN0aW9uKGUsbil7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZcIm9iamVjdFwiPT10eXBlb2YgZGVmaW5lLmFtZD9kZWZpbmUobik6dGhpc1tlXT1uKCl9KFwiZG9tcmVhZHlcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7Zm9yKGk9MTtlPXQuc2hpZnQoKTspZSgpfXZhciBuLHQ9W10sbz0hMSxkPWRvY3VtZW50LGY9XCJET01Db250ZW50TG9hZGVkXCIsaT0vXmxvYWRlZHxeYy8udGVzdChkLnJlYWR5U3RhdGUpO3JldHVybiBkLmFkZEV2ZW50TGlzdGVuZXIoZixuPWZ1bmN0aW9uKCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKGYsbixvKSxlKCl9LG8pLGZ1bmN0aW9uKGUpe2k/ZSgpOnQucHVzaChlKX19KTsiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIHQoZSl9OnQoZSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3ZhciB0PWUubGVuZ3RoLG49ZXQudHlwZShlKTtyZXR1cm5cImZ1bmN0aW9uXCI9PT1ufHxldC5pc1dpbmRvdyhlKT8hMToxPT09ZS5ub2RlVHlwZSYmdD8hMDpcImFycmF5XCI9PT1ufHwwPT09dHx8XCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+MCYmdC0xIGluIGV9ZnVuY3Rpb24gcihlLHQsbil7aWYoZXQuaXNGdW5jdGlvbih0KSlyZXR1cm4gZXQuZ3JlcChlLGZ1bmN0aW9uKGUscil7cmV0dXJuISF0LmNhbGwoZSxyLGUpIT09bn0pO2lmKHQubm9kZVR5cGUpcmV0dXJuIGV0LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQhPT1ufSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKGF0LnRlc3QodCkpcmV0dXJuIGV0LmZpbHRlcih0LGUsbik7dD1ldC5maWx0ZXIodCxlKX1yZXR1cm4gZXQuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBVLmNhbGwodCxlKT49MCE9PW59KX1mdW5jdGlvbiBpKGUsdCl7Zm9yKDsoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGU7KTtyZXR1cm4gZX1mdW5jdGlvbiBvKGUpe3ZhciB0PWh0W2VdPXt9O3JldHVybiBldC5lYWNoKGUubWF0Y2goZHQpfHxbXSxmdW5jdGlvbihlLG4pe3Rbbl09ITB9KSx0fWZ1bmN0aW9uIHMoKXtLLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscywhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLHMsITEpLGV0LnJlYWR5KCl9ZnVuY3Rpb24gYSgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNhY2hlPXt9LDAse2dldDpmdW5jdGlvbigpe3JldHVybnt9fX0pLHRoaXMuZXhwYW5kbz1ldC5leHBhbmRvK01hdGgucmFuZG9tKCl9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj1cImRhdGEtXCIrdC5yZXBsYWNlKGJ0LFwiLSQxXCIpLnRvTG93ZXJDYXNlKCksbj1lLmdldEF0dHJpYnV0ZShyKSxcInN0cmluZ1wiPT10eXBlb2Ygbil7dHJ5e249XCJ0cnVlXCI9PT1uPyEwOlwiZmFsc2VcIj09PW4/ITE6XCJudWxsXCI9PT1uP251bGw6K24rXCJcIj09PW4/K246eHQudGVzdChuKT9ldC5wYXJzZUpTT04obik6bn1jYXRjaChpKXt9eXQuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufWZ1bmN0aW9uIGwoKXtyZXR1cm4hMH1mdW5jdGlvbiBjKCl7cmV0dXJuITF9ZnVuY3Rpb24gZigpe3RyeXtyZXR1cm4gSy5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319ZnVuY3Rpb24gcChlLHQpe3JldHVybiBldC5ub2RlTmFtZShlLFwidGFibGVcIikmJmV0Lm5vZGVOYW1lKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCxcInRyXCIpP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8ZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpKTplfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrZS50eXBlLGV9ZnVuY3Rpb24gaChlKXt2YXIgdD1QdC5leGVjKGUudHlwZSk7cmV0dXJuIHQ/ZS50eXBlPXRbMV06ZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGV9ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl2dC5zZXQoZVtuXSxcImdsb2JhbEV2YWxcIiwhdHx8dnQuZ2V0KHRbbl0sXCJnbG9iYWxFdmFsXCIpKX1mdW5jdGlvbiBtKGUsdCl7dmFyIG4scixpLG8scyxhLHUsbDtpZigxPT09dC5ub2RlVHlwZSl7aWYodnQuaGFzRGF0YShlKSYmKG89dnQuYWNjZXNzKGUpLHM9dnQuc2V0KHQsbyksbD1vLmV2ZW50cykpe2RlbGV0ZSBzLmhhbmRsZSxzLmV2ZW50cz17fTtmb3IoaSBpbiBsKWZvcihuPTAscj1sW2ldLmxlbmd0aDtyPm47bisrKWV0LmV2ZW50LmFkZCh0LGksbFtpXVtuXSl9eXQuaGFzRGF0YShlKSYmKGE9eXQuYWNjZXNzKGUpLHU9ZXQuZXh0ZW5kKHt9LGEpLHl0LnNldCh0LHUpKX19ZnVuY3Rpb24gdihlLHQpe3ZhciBuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHxcIipcIik6ZS5xdWVyeVNlbGVjdG9yQWxsP2UucXVlcnlTZWxlY3RvckFsbCh0fHxcIipcIik6W107cmV0dXJuIHZvaWQgMD09PXR8fHQmJmV0Lm5vZGVOYW1lKGUsdCk/ZXQubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geShlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1uJiZOdC50ZXN0KGUudHlwZSk/dC5jaGVja2VkPWUuY2hlY2tlZDooXCJpbnB1dFwiPT09bnx8XCJ0ZXh0YXJlYVwiPT09bikmJih0LmRlZmF1bHRWYWx1ZT1lLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24geCh0LG4pe3ZhciByPWV0KG4uY3JlYXRlRWxlbWVudCh0KSkuYXBwZW5kVG8obi5ib2R5KSxpPWUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU/ZS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShyWzBdKS5kaXNwbGF5OmV0LmNzcyhyWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gci5kZXRhY2goKSxpfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9SyxuPSR0W2VdO3JldHVybiBufHwobj14KGUsdCksXCJub25lXCIhPT1uJiZufHwoV3Q9KFd0fHxldChcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikpLmFwcGVuZFRvKHQuZG9jdW1lbnRFbGVtZW50KSx0PVd0WzBdLmNvbnRlbnREb2N1bWVudCx0LndyaXRlKCksdC5jbG9zZSgpLG49eChlLHQpLFd0LmRldGFjaCgpKSwkdFtlXT1uKSxufWZ1bmN0aW9uIHcoZSx0LG4pe3ZhciByLGksbyxzLGE9ZS5zdHlsZTtyZXR1cm4gbj1ufHxfdChlKSxuJiYocz1uLmdldFByb3BlcnR5VmFsdWUodCl8fG5bdF0pLG4mJihcIlwiIT09c3x8ZXQuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHwocz1ldC5zdHlsZShlLHQpKSxJdC50ZXN0KHMpJiZCdC50ZXN0KHQpJiYocj1hLndpZHRoLGk9YS5taW5XaWR0aCxvPWEubWF4V2lkdGgsYS5taW5XaWR0aD1hLm1heFdpZHRoPWEud2lkdGg9cyxzPW4ud2lkdGgsYS53aWR0aD1yLGEubWluV2lkdGg9aSxhLm1heFdpZHRoPW8pKSx2b2lkIDAhPT1zP3MrXCJcIjpzfWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gQyhlLHQpe2lmKHQgaW4gZSlyZXR1cm4gdDtmb3IodmFyIG49dFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkscj10LGk9R3QubGVuZ3RoO2ktLTspaWYodD1HdFtpXStuLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gcn1mdW5jdGlvbiBOKGUsdCxuKXt2YXIgcj16dC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsxXS0obnx8MCkpKyhyWzJdfHxcInB4XCIpOnR9ZnVuY3Rpb24gayhlLHQsbixyLGkpe2Zvcih2YXIgbz1uPT09KHI/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT10PzE6MCxzPTA7ND5vO28rPTIpXCJtYXJnaW5cIj09PW4mJihzKz1ldC5jc3MoZSxuK1R0W29dLCEwLGkpKSxyPyhcImNvbnRlbnRcIj09PW4mJihzLT1ldC5jc3MoZSxcInBhZGRpbmdcIitUdFtvXSwhMCxpKSksXCJtYXJnaW5cIiE9PW4mJihzLT1ldC5jc3MoZSxcImJvcmRlclwiK1R0W29dK1wiV2lkdGhcIiwhMCxpKSkpOihzKz1ldC5jc3MoZSxcInBhZGRpbmdcIitUdFtvXSwhMCxpKSxcInBhZGRpbmdcIiE9PW4mJihzKz1ldC5jc3MoZSxcImJvcmRlclwiK1R0W29dK1wiV2lkdGhcIiwhMCxpKSkpO3JldHVybiBzfWZ1bmN0aW9uIEUoZSx0LG4pe3ZhciByPSEwLGk9XCJ3aWR0aFwiPT09dD9lLm9mZnNldFdpZHRoOmUub2Zmc2V0SGVpZ2h0LG89X3QoZSkscz1cImJvcmRlci1ib3hcIj09PWV0LmNzcyhlLFwiYm94U2l6aW5nXCIsITEsbyk7aWYoMD49aXx8bnVsbD09aSl7aWYoaT13KGUsdCxvKSwoMD5pfHxudWxsPT1pKSYmKGk9ZS5zdHlsZVt0XSksSXQudGVzdChpKSlyZXR1cm4gaTtyPXMmJihKLmJveFNpemluZ1JlbGlhYmxlKCl8fGk9PT1lLnN0eWxlW3RdKSxpPXBhcnNlRmxvYXQoaSl8fDB9cmV0dXJuIGkrayhlLHQsbnx8KHM/XCJib3JkZXJcIjpcImNvbnRlbnRcIikscixvKStcInB4XCJ9ZnVuY3Rpb24gRChlLHQpe2Zvcih2YXIgbixyLGksbz1bXSxzPTAsYT1lLmxlbmd0aDthPnM7cysrKXI9ZVtzXSxyLnN0eWxlJiYob1tzXT12dC5nZXQocixcIm9sZGRpc3BsYXlcIiksbj1yLnN0eWxlLmRpc3BsYXksdD8ob1tzXXx8XCJub25lXCIhPT1ufHwoci5zdHlsZS5kaXNwbGF5PVwiXCIpLFwiXCI9PT1yLnN0eWxlLmRpc3BsYXkmJkN0KHIpJiYob1tzXT12dC5hY2Nlc3MocixcIm9sZGRpc3BsYXlcIixiKHIubm9kZU5hbWUpKSkpOm9bc118fChpPUN0KHIpLChuJiZcIm5vbmVcIiE9PW58fCFpKSYmdnQuc2V0KHIsXCJvbGRkaXNwbGF5XCIsaT9uOmV0LmNzcyhyLFwiZGlzcGxheVwiKSkpKTtmb3Iocz0wO2E+cztzKyspcj1lW3NdLHIuc3R5bGUmJih0JiZcIm5vbmVcIiE9PXIuc3R5bGUuZGlzcGxheSYmXCJcIiE9PXIuc3R5bGUuZGlzcGxheXx8KHIuc3R5bGUuZGlzcGxheT10P29bc118fFwiXCI6XCJub25lXCIpKTtyZXR1cm4gZX1mdW5jdGlvbiBqKGUsdCxuLHIsaSl7cmV0dXJuIG5ldyBqLnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9ZnVuY3Rpb24gUygpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7UXQ9dm9pZCAwfSksUXQ9ZXQubm93KCl9ZnVuY3Rpb24gQShlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7ND5yO3IrPTItdCluPVR0W3JdLGlbXCJtYXJnaW5cIituXT1pW1wicGFkZGluZ1wiK25dPWU7cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1lKSxpfWZ1bmN0aW9uIEwoZSx0LG4pe2Zvcih2YXIgcixpPShublt0XXx8W10pLmNvbmNhdChubltcIipcIl0pLG89MCxzPWkubGVuZ3RoO3M+bztvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIHEoZSx0LG4pe3ZhciByLGksbyxzLGEsdSxsLGM9dGhpcyxmPXt9LHA9ZS5zdHlsZSxkPWUubm9kZVR5cGUmJkN0KGUpLGg9dnQuZ2V0KGUsXCJmeHNob3dcIik7bi5xdWV1ZXx8KGE9ZXQuX3F1ZXVlSG9va3MoZSxcImZ4XCIpLG51bGw9PWEudW5xdWV1ZWQmJihhLnVucXVldWVkPTAsdT1hLmVtcHR5LmZpcmUsYS5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7YS51bnF1ZXVlZHx8dSgpfSksYS51bnF1ZXVlZCsrLGMuYWx3YXlzKGZ1bmN0aW9uKCl7Yy5hbHdheXMoZnVuY3Rpb24oKXthLnVucXVldWVkLS0sZXQucXVldWUoZSxcImZ4XCIpLmxlbmd0aHx8YS5lbXB0eS5maXJlKCl9KX0pKSwxPT09ZS5ub2RlVHlwZSYmKFwiaGVpZ2h0XCJpbiB0fHxcIndpZHRoXCJpbiB0KSYmKG4ub3ZlcmZsb3c9W3Aub3ZlcmZsb3cscC5vdmVyZmxvd1gscC5vdmVyZmxvd1ldLGw9ZXQuY3NzKGUsXCJkaXNwbGF5XCIpLFwibm9uZVwiPT09bCYmKGw9YihlLm5vZGVOYW1lKSksXCJpbmxpbmVcIj09PWwmJlwibm9uZVwiPT09ZXQuY3NzKGUsXCJmbG9hdFwiKSYmKHAuZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksbi5vdmVyZmxvdyYmKHAub3ZlcmZsb3c9XCJoaWRkZW5cIixjLmFsd2F5cyhmdW5jdGlvbigpe3Aub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxwLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLHAub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSk7Zm9yKHIgaW4gdClpZihpPXRbcl0sS3QuZXhlYyhpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHxcInRvZ2dsZVwiPT09aSxpPT09KGQ/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PWl8fCFofHx2b2lkIDA9PT1oW3JdKWNvbnRpbnVlO2Q9ITB9ZltyXT1oJiZoW3JdfHxldC5zdHlsZShlLHIpfWlmKCFldC5pc0VtcHR5T2JqZWN0KGYpKXtoP1wiaGlkZGVuXCJpbiBoJiYoZD1oLmhpZGRlbik6aD12dC5hY2Nlc3MoZSxcImZ4c2hvd1wiLHt9KSxvJiYoaC5oaWRkZW49IWQpLGQ/ZXQoZSkuc2hvdygpOmMuZG9uZShmdW5jdGlvbigpe2V0KGUpLmhpZGUoKX0pLGMuZG9uZShmdW5jdGlvbigpe3ZhciB0O3Z0LnJlbW92ZShlLFwiZnhzaG93XCIpO2Zvcih0IGluIGYpZXQuc3R5bGUoZSx0LGZbdF0pfSk7Zm9yKHIgaW4gZilzPUwoZD9oW3JdOjAscixjKSxyIGluIGh8fChoW3JdPXMuc3RhcnQsZCYmKHMuZW5kPXMuc3RhcnQscy5zdGFydD1cIndpZHRoXCI9PT1yfHxcImhlaWdodFwiPT09cj8xOjApKX19ZnVuY3Rpb24gSChlLHQpe3ZhciBuLHIsaSxvLHM7Zm9yKG4gaW4gZSlpZihyPWV0LmNhbWVsQ2FzZShuKSxpPXRbcl0sbz1lW25dLGV0LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSxzPWV0LmNzc0hvb2tzW3JdLHMmJlwiZXhwYW5kXCJpbiBzKXtvPXMuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdO2ZvcihuIGluIG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9ZnVuY3Rpb24gTyhlLHQsbil7dmFyIHIsaSxvPTAscz10bi5sZW5ndGgsYT1ldC5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoaSlyZXR1cm4hMTtmb3IodmFyIHQ9UXR8fFMoKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxyPW4vbC5kdXJhdGlvbnx8MCxvPTEtcixzPTAsdT1sLnR3ZWVucy5sZW5ndGg7dT5zO3MrKylsLnR3ZWVuc1tzXS5ydW4obyk7cmV0dXJuIGEubm90aWZ5V2l0aChlLFtsLG8sbl0pLDE+byYmdT9uOihhLnJlc29sdmVXaXRoKGUsW2xdKSwhMSl9LGw9YS5wcm9taXNlKHtlbGVtOmUscHJvcHM6ZXQuZXh0ZW5kKHt9LHQpLG9wdHM6ZXQuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6UXR8fFMoKSxkdXJhdGlvbjpuLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbih0LG4pe3ZhciByPWV0LlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO3I+bjtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0P2EucmVzb2x2ZVdpdGgoZSxbbCx0XSk6YS5yZWplY3RXaXRoKGUsW2wsdF0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcihIKGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO3M+bztvKyspaWYocj10bltvXS5jYWxsKGwsZSxjLGwub3B0cykpcmV0dXJuIHI7cmV0dXJuIGV0Lm1hcChjLEwsbCksZXQuaXNGdW5jdGlvbihsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChlLGwpLGV0LmZ4LnRpbWVyKGV0LmV4dGVuZCh1LHtlbGVtOmUsYW5pbTpsLHF1ZXVlOmwub3B0cy5xdWV1ZX0pKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKX1mdW5jdGlvbiBGKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe1wic3RyaW5nXCIhPXR5cGVvZiB0JiYobj10LHQ9XCIqXCIpO3ZhciByLGk9MCxvPXQudG9Mb3dlckNhc2UoKS5tYXRjaChkdCl8fFtdO2lmKGV0LmlzRnVuY3Rpb24obikpZm9yKDtyPW9baSsrXTspXCIrXCI9PT1yWzBdPyhyPXIuc2xpY2UoMSl8fFwiKlwiLChlW3JdPWVbcl18fFtdKS51bnNoaWZ0KG4pKTooZVtyXT1lW3JdfHxbXSkucHVzaChuKX19ZnVuY3Rpb24gUChlLHQsbixyKXtmdW5jdGlvbiBpKGEpe3ZhciB1O3JldHVybiBvW2FdPSEwLGV0LmVhY2goZVthXXx8W10sZnVuY3Rpb24oZSxhKXt2YXIgbD1hKHQsbixyKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgbHx8c3x8b1tsXT9zPyEodT1sKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQobCksaShsKSwhMSl9KSx1fXZhciBvPXt9LHM9ZT09PVRuO3JldHVybiBpKHQuZGF0YVR5cGVzWzBdKXx8IW9bXCIqXCJdJiZpKFwiKlwiKX1mdW5jdGlvbiBNKGUsdCl7dmFyIG4scixpPWV0LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKG4gaW4gdCl2b2lkIDAhPT10W25dJiYoKGlbbl0/ZTpyfHwocj17fSkpW25dPXRbbl0pO3JldHVybiByJiZldC5leHRlbmQoITAsZSxyKSxlfWZ1bmN0aW9uIFIoZSx0LG4pe2Zvcih2YXIgcixpLG8scyxhPWUuY29udGVudHMsdT1lLmRhdGFUeXBlcztcIipcIj09PXVbMF07KXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKTtpZihyKWZvcihpIGluIGEpaWYoYVtpXSYmYVtpXS50ZXN0KHIpKXt1LnVuc2hpZnQoaSk7YnJlYWt9aWYodVswXWluIG4pbz11WzBdO2Vsc2V7Zm9yKGkgaW4gbil7aWYoIXVbMF18fGUuY29udmVydGVyc1tpK1wiIFwiK3VbMF1dKXtvPWk7YnJlYWt9c3x8KHM9aSl9bz1vfHxzfXJldHVybiBvPyhvIT09dVswXSYmdS51bnNoaWZ0KG8pLG5bb10pOnZvaWQgMH1mdW5jdGlvbiBXKGUsdCxuLHIpe3ZhciBpLG8scyxhLHUsbD17fSxjPWUuZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IocyBpbiBlLmNvbnZlcnRlcnMpbFtzLnRvTG93ZXJDYXNlKCldPWUuY29udmVydGVyc1tzXTtmb3Iobz1jLnNoaWZ0KCk7bzspaWYoZS5yZXNwb25zZUZpZWxkc1tvXSYmKG5bZS5yZXNwb25zZUZpZWxkc1tvXV09dCksIXUmJnImJmUuZGF0YUZpbHRlciYmKHQ9ZS5kYXRhRmlsdGVyKHQsZS5kYXRhVHlwZSkpLHU9byxvPWMuc2hpZnQoKSlpZihcIipcIj09PW8pbz11O2Vsc2UgaWYoXCIqXCIhPT11JiZ1IT09byl7aWYocz1sW3UrXCIgXCIrb118fGxbXCIqIFwiK29dLCFzKWZvcihpIGluIGwpaWYoYT1pLnNwbGl0KFwiIFwiKSxhWzFdPT09byYmKHM9bFt1K1wiIFwiK2FbMF1dfHxsW1wiKiBcIithWzBdXSkpe3M9PT0hMD9zPWxbaV06bFtpXSE9PSEwJiYobz1hWzBdLGMudW5zaGlmdChhWzFdKSk7YnJlYWt9aWYocyE9PSEwKWlmKHMmJmVbXCJ0aHJvd3NcIl0pdD1zKHQpO2Vsc2UgdHJ5e3Q9cyh0KX1jYXRjaChmKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOnM/ZjpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIit1K1wiIHRvIFwiK299fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTp0fX1mdW5jdGlvbiAkKGUsdCxuLHIpe3ZhciBpO2lmKGV0LmlzQXJyYXkodCkpZXQuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bnx8RW4udGVzdChlKT9yKGUsaSk6JChlK1wiW1wiKyhcIm9iamVjdFwiPT10eXBlb2YgaT90OlwiXCIpK1wiXVwiLGksbixyKX0pO2Vsc2UgaWYobnx8XCJvYmplY3RcIiE9PWV0LnR5cGUodCkpcihlLHQpO2Vsc2UgZm9yKGkgaW4gdCkkKGUrXCJbXCIraStcIl1cIix0W2ldLG4scil9ZnVuY3Rpb24gQihlKXtyZXR1cm4gZXQuaXNXaW5kb3coZSk/ZTo5PT09ZS5ub2RlVHlwZSYmZS5kZWZhdWx0Vmlld312YXIgST1bXSxfPUkuc2xpY2UsWD1JLmNvbmNhdCx6PUkucHVzaCxVPUkuaW5kZXhPZixWPXt9LFk9Vi50b1N0cmluZyxHPVYuaGFzT3duUHJvcGVydHksUT1cIlwiLnRyaW0sSj17fSxLPWUuZG9jdW1lbnQsWj1cIjIuMS4wXCIsZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGV0LmZuLmluaXQoZSx0KX0sdHQ9L14tbXMtLyxudD0vLShbXFxkYS16XSkvZ2kscnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfTtldC5mbj1ldC5wcm90b3R5cGU9e2pxdWVyeTpaLGNvbnN0cnVjdG9yOmV0LHNlbGVjdG9yOlwiXCIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBfLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT8wPmU/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdOl8uY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWV0Lm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxlKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdC5jb250ZXh0PXRoaXMuY29udGV4dCx0fSxlYWNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV0LmVhY2godGhpcyxlLHQpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGV0Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKF8uYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoMD5lP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJnQ+bj9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOnosc29ydDpJLnNvcnQsc3BsaWNlOkkuc3BsaWNlfSxldC5leHRlbmQ9ZXQuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLHM9YXJndW1lbnRzWzBdfHx7fSxhPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgcyYmKGw9cyxzPWFyZ3VtZW50c1thXXx8e30sYSsrKSxcIm9iamVjdFwiPT10eXBlb2Ygc3x8ZXQuaXNGdW5jdGlvbihzKXx8KHM9e30pLGE9PT11JiYocz10aGlzLGEtLSk7dT5hO2ErKylpZihudWxsIT0oZT1hcmd1bWVudHNbYV0pKWZvcih0IGluIGUpbj1zW3RdLHI9ZVt0XSxzIT09ciYmKGwmJnImJihldC5pc1BsYWluT2JqZWN0KHIpfHwoaT1ldC5pc0FycmF5KHIpKSk/KGk/KGk9ITEsbz1uJiZldC5pc0FycmF5KG4pP246W10pOm89biYmZXQuaXNQbGFpbk9iamVjdChuKT9uOnt9LHNbdF09ZXQuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKHNbdF09cikpO3JldHVybiBzfSxldC5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisoWitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1ldC50eXBlKGUpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGUpe3JldHVybiBlLXBhcnNlRmxvYXQoZSk+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9PWV0LnR5cGUoZSl8fGUubm9kZVR5cGV8fGV0LmlzV2luZG93KGUpKXJldHVybiExO3RyeXtpZihlLmNvbnN0cnVjdG9yJiYhRy5jYWxsKGUuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKSlyZXR1cm4hMX1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4hMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2UrXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT9WW1kuY2FsbChlKV18fFwib2JqZWN0XCI6dHlwZW9mIGV9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbj1ldmFsO2U9ZXQudHJpbShlKSxlJiYoMT09PWUuaW5kZXhPZihcInVzZSBzdHJpY3RcIik/KHQ9Sy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLHQudGV4dD1lLEsuaGVhZC5hcHBlbmRDaGlsZCh0KS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpKTpuKGUpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodHQsXCJtcy1cIikucmVwbGFjZShudCxydCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihlLHQscil7dmFyIGksbz0wLHM9ZS5sZW5ndGgsYT1uKGUpO2lmKHIpe2lmKGEpZm9yKDtzPm8mJihpPXQuYXBwbHkoZVtvXSxyKSxpIT09ITEpO28rKyk7ZWxzZSBmb3IobyBpbiBlKWlmKGk9dC5hcHBseShlW29dLHIpLGk9PT0hMSlicmVha31lbHNlIGlmKGEpZm9yKDtzPm8mJihpPXQuY2FsbChlW29dLG8sZVtvXSksaSE9PSExKTtvKyspO2Vsc2UgZm9yKG8gaW4gZSlpZihpPXQuY2FsbChlW29dLG8sZVtvXSksaT09PSExKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6US5jYWxsKGUpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKG4oT2JqZWN0KGUpKT9ldC5tZXJnZShyLFwic3RyaW5nXCI9PXR5cGVvZiBlP1tlXTplKTp6LmNhbGwocixlKSkscn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6VS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO24+cjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGk9W10sbz0wLHM9ZS5sZW5ndGgsYT0hbjtzPm87bysrKXI9IXQoZVtvXSxvKSxyIT09YSYmaS5wdXNoKGVbb10pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG89MCxzPWUubGVuZ3RoLGE9bihlKSx1PVtdO2lmKGEpZm9yKDtzPm87bysrKWk9dChlW29dLG8sciksbnVsbCE9aSYmdS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSlpPXQoZVtvXSxvLHIpLG51bGwhPWkmJnUucHVzaChpKTtyZXR1cm4gWC5hcHBseShbXSx1KX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLGV0LmlzRnVuY3Rpb24oZSk/KHI9Xy5jYWxsKGFyZ3VtZW50cywyKSxpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChfLmNhbGwoYXJndW1lbnRzKSkpfSxpLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8ZXQuZ3VpZCsrLGkpOnZvaWQgMH0sbm93OkRhdGUubm93LHN1cHBvcnQ6Sn0pLGV0LmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7VltcIltvYmplY3QgXCIrdCtcIl1cIl09dC50b0xvd2VyQ2FzZSgpfSk7dmFyIGl0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4scil7dmFyIGksbyxzLGEsdSxsLGYsaCxnLG07aWYoKHQ/dC5vd25lckRvY3VtZW50fHx0OiQpIT09cSYmTCh0KSx0PXR8fHEsbj1ufHxbXSwhZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIG47aWYoMSE9PShhPXQubm9kZVR5cGUpJiY5IT09YSlyZXR1cm5bXTtpZihPJiYhcil7aWYoaT15dC5leGVjKGUpKWlmKHM9aVsxXSl7aWYoOT09PWEpe2lmKG89dC5nZXRFbGVtZW50QnlJZChzKSwhb3x8IW8ucGFyZW50Tm9kZSlyZXR1cm4gbjtpZihvLmlkPT09cylyZXR1cm4gbi5wdXNoKG8pLG59ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJihvPXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKSkmJlIodCxvKSYmby5pZD09PXMpcmV0dXJuIG4ucHVzaChvKSxufWVsc2V7aWYoaVsyXSlyZXR1cm4gWi5hcHBseShuLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLG47aWYoKHM9aVszXSkmJkMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBaLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxufWlmKEMucXNhJiYoIUZ8fCFGLnRlc3QoZSkpKXtpZihoPWY9VyxnPXQsbT05PT09YSYmZSwxPT09YSYmXCJvYmplY3RcIiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKGw9cChlKSwoZj10LmdldEF0dHJpYnV0ZShcImlkXCIpKT9oPWYucmVwbGFjZShidCxcIlxcXFwkJlwiKTp0LnNldEF0dHJpYnV0ZShcImlkXCIsaCksaD1cIltpZD0nXCIraCtcIiddIFwiLHU9bC5sZW5ndGg7dS0tOylsW3VdPWgrZChsW3VdKTtnPXh0LnRlc3QoZSkmJmModC5wYXJlbnROb2RlKXx8dCxtPWwuam9pbihcIixcIil9aWYobSl0cnl7cmV0dXJuIFouYXBwbHkobixnLnF1ZXJ5U2VsZWN0b3JBbGwobSkpLG59Y2F0Y2godil7fWZpbmFsbHl7Znx8dC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiB3KGUucmVwbGFjZSh1dCxcIiQxXCIpLHQsbixyKX1mdW5jdGlvbiBuKCl7ZnVuY3Rpb24gZShuLHIpe3JldHVybiB0LnB1c2gobitcIiBcIik+Ti5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbdC5zaGlmdCgpXSxlW24rXCIgXCJdPXJ9dmFyIHQ9W107cmV0dXJuIGV9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZVtXXT0hMCxlfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9cS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIG49ZS5zcGxpdChcInxcIikscj1lLmxlbmd0aDtyLS07KU4uYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHMoZSx0KXt2YXIgbj10JiZlLHI9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiYofnQuc291cmNlSW5kZXh8fFkpLSh+ZS5zb3VyY2VJbmRleHx8WSk7aWYocilyZXR1cm4gcjtpZihuKWZvcig7bj1uLm5leHRTaWJsaW5nOylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1uJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiB1KGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PW58fFwiYnV0dG9uXCI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gbChlKXtyZXR1cm4gcihmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxyKGZ1bmN0aW9uKG4scil7Zm9yKHZhciBpLG89ZShbXSxuLmxlbmd0aCx0KSxzPW8ubGVuZ3RoO3MtLTspbltpPW9bc11dJiYobltpXT0hKHJbaV09bltpXSkpfSl9KX1mdW5jdGlvbiBjKGUpe3JldHVybiBlJiZ0eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PVYmJmV9ZnVuY3Rpb24gZigpe31mdW5jdGlvbiBwKGUsbil7dmFyIHIsaSxvLHMsYSx1LGwsYz1YW2UrXCIgXCJdO2lmKGMpcmV0dXJuIG4/MDpjLnNsaWNlKDApO2ZvcihhPWUsdT1bXSxsPU4ucHJlRmlsdGVyO2E7KXsoIXJ8fChpPWx0LmV4ZWMoYSkpKSYmKGkmJihhPWEuc2xpY2UoaVswXS5sZW5ndGgpfHxhKSx1LnB1c2gobz1bXSkpLHI9ITEsKGk9Y3QuZXhlYyhhKSkmJihyPWkuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOnIsdHlwZTppWzBdLnJlcGxhY2UodXQsXCIgXCIpfSksYT1hLnNsaWNlKHIubGVuZ3RoKSk7Zm9yKHMgaW4gTi5maWx0ZXIpIShpPWh0W3NdLmV4ZWMoYSkpfHxsW3NdJiYhKGk9bFtzXShpKSl8fChyPWkuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOnIsdHlwZTpzLG1hdGNoZXM6aX0pLGE9YS5zbGljZShyLmxlbmd0aCkpO2lmKCFyKWJyZWFrfXJldHVybiBuP2EubGVuZ3RoOmE/dC5lcnJvcihlKTpYKGUsdSkuc2xpY2UoMCl9ZnVuY3Rpb24gZChlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9XCJcIjtuPnQ7dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gaChlLHQsbil7dmFyIHI9dC5kaXIsaT1uJiZcInBhcmVudE5vZGVcIj09PXIsbz1JKys7cmV0dXJuIHQuZmlyc3Q/ZnVuY3Rpb24odCxuLG8pe2Zvcig7dD10W3JdOylpZigxPT09dC5ub2RlVHlwZXx8aSlyZXR1cm4gZSh0LG4sbyl9OmZ1bmN0aW9uKHQsbixzKXt2YXIgYSx1LGw9W0Isb107aWYocyl7Zm9yKDt0PXRbcl07KWlmKCgxPT09dC5ub2RlVHlwZXx8aSkmJmUodCxuLHMpKXJldHVybiEwfWVsc2UgZm9yKDt0PXRbcl07KWlmKDE9PT10Lm5vZGVUeXBlfHxpKXtpZih1PXRbV118fCh0W1ddPXt9KSwoYT11W3JdKSYmYVswXT09PUImJmFbMV09PT1vKXJldHVybiBsWzJdPWFbMl07aWYodVtyXT1sLGxbMl09ZSh0LG4scykpcmV0dXJuITB9fX1mdW5jdGlvbiBnKGUpe3JldHVybiBlLmxlbmd0aD4xP2Z1bmN0aW9uKHQsbixyKXtmb3IodmFyIGk9ZS5sZW5ndGg7aS0tOylpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24gbShlLHQsbixyLGkpe2Zvcih2YXIgbyxzPVtdLGE9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDt1PmE7YSsrKShvPWVbYV0pJiYoIW58fG4obyxyLGkpKSYmKHMucHVzaChvKSxsJiZ0LnB1c2goYSkpO3JldHVybiBzfWZ1bmN0aW9uIHYoZSx0LG4saSxvLHMpe3JldHVybiBpJiYhaVtXXSYmKGk9dihpKSksbyYmIW9bV10mJihvPXYobyxzKSkscihmdW5jdGlvbihyLHMsYSx1KXt2YXIgbCxjLGYscD1bXSxkPVtdLGg9cy5sZW5ndGgsZz1yfHxiKHR8fFwiKlwiLGEubm9kZVR5cGU/W2FdOmEsW10pLHY9IWV8fCFyJiZ0P2c6bShnLHAsZSxhLHUpLHk9bj9vfHwocj9lOmh8fGkpP1tdOnM6djtpZihuJiZuKHYseSxhLHUpLGkpZm9yKGw9bSh5LGQpLGkobCxbXSxhLHUpLGM9bC5sZW5ndGg7Yy0tOykoZj1sW2NdKSYmKHlbZFtjXV09ISh2W2RbY11dPWYpKTtpZihyKXtpZihvfHxlKXtpZihvKXtmb3IobD1bXSxjPXkubGVuZ3RoO2MtLTspKGY9eVtjXSkmJmwucHVzaCh2W2NdPWYpO28obnVsbCx5PVtdLGwsdSl9Zm9yKGM9eS5sZW5ndGg7Yy0tOykoZj15W2NdKSYmKGw9bz90dC5jYWxsKHIsZik6cFtjXSk+LTEmJihyW2xdPSEoc1tsXT1mKSl9fWVsc2UgeT1tKHk9PT1zP3kuc3BsaWNlKGgseS5sZW5ndGgpOnkpLG8/byhudWxsLHMseSx1KTpaLmFwcGx5KHMseSl9KX1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgdCxuLHIsaT1lLmxlbmd0aCxvPU4ucmVsYXRpdmVbZVswXS50eXBlXSxzPW98fE4ucmVsYXRpdmVbXCIgXCJdLGE9bz8xOjAsdT1oKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0scywhMCksbD1oKGZ1bmN0aW9uKGUpe3JldHVybiB0dC5jYWxsKHQsZSk+LTF9LHMsITApLGM9W2Z1bmN0aW9uKGUsbixyKXtyZXR1cm4hbyYmKHJ8fG4hPT1qKXx8KCh0PW4pLm5vZGVUeXBlP3UoZSxuLHIpOmwoZSxuLHIpKX1dO2k+YTthKyspaWYobj1OLnJlbGF0aXZlW2VbYV0udHlwZV0pYz1baChnKGMpLG4pXTtlbHNle2lmKG49Ti5maWx0ZXJbZVthXS50eXBlXS5hcHBseShudWxsLGVbYV0ubWF0Y2hlcyksbltXXSl7Zm9yKHI9KythO2k+ciYmIU4ucmVsYXRpdmVbZVtyXS50eXBlXTtyKyspO3JldHVybiB2KGE+MSYmZyhjKSxhPjEmJmQoZS5zbGljZSgwLGEtMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWVbYS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZSh1dCxcIiQxXCIpLG4scj5hJiZ5KGUuc2xpY2UoYSxyKSksaT5yJiZ5KGU9ZS5zbGljZShyKSksaT5yJiZkKGUpKX1jLnB1c2gobil9cmV0dXJuIGcoYyl9ZnVuY3Rpb24geChlLG4pe3ZhciBpPW4ubGVuZ3RoPjAsbz1lLmxlbmd0aD4wLHM9ZnVuY3Rpb24ocixzLGEsdSxsKXt2YXIgYyxmLHAsZD0wLGg9XCIwXCIsZz1yJiZbXSx2PVtdLHk9aix4PXJ8fG8mJk4uZmluZC5UQUcoXCIqXCIsbCksYj1CKz1udWxsPT15PzE6TWF0aC5yYW5kb20oKXx8LjEsdz14Lmxlbmd0aDtmb3IobCYmKGo9cyE9PXEmJnMpO2ghPT13JiZudWxsIT0oYz14W2hdKTtoKyspe2lmKG8mJmMpe2ZvcihmPTA7cD1lW2YrK107KWlmKHAoYyxzLGEpKXt1LnB1c2goYyk7YnJlYWt9bCYmKEI9Yil9aSYmKChjPSFwJiZjKSYmZC0tLHImJmcucHVzaChjKSl9aWYoZCs9aCxpJiZoIT09ZCl7Zm9yKGY9MDtwPW5bZisrXTspcChnLHYscyxhKTtpZihyKXtpZihkPjApZm9yKDtoLS07KWdbaF18fHZbaF18fCh2W2hdPUouY2FsbCh1KSk7dj1tKHYpfVouYXBwbHkodSx2KSxsJiYhciYmdi5sZW5ndGg+MCYmZCtuLmxlbmd0aD4xJiZ0LnVuaXF1ZVNvcnQodSl9cmV0dXJuIGwmJihCPWIsaj15KSxnfTtyZXR1cm4gaT9yKHMpOnN9ZnVuY3Rpb24gYihlLG4scil7Zm9yKHZhciBpPTAsbz1uLmxlbmd0aDtvPmk7aSsrKXQoZSxuW2ldLHIpO3JldHVybiByfWZ1bmN0aW9uIHcoZSx0LG4scil7dmFyIGksbyxzLGEsdSxsPXAoZSk7aWYoIXImJjE9PT1sLmxlbmd0aCl7aWYobz1sWzBdPWxbMF0uc2xpY2UoMCksby5sZW5ndGg+MiYmXCJJRFwiPT09KHM9b1swXSkudHlwZSYmQy5nZXRCeUlkJiY5PT09dC5ub2RlVHlwZSYmTyYmTi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZih0PShOLmZpbmQuSUQocy5tYXRjaGVzWzBdLnJlcGxhY2Uod3QsVHQpLHQpfHxbXSlbMF0sIXQpcmV0dXJuIG47ZT1lLnNsaWNlKG8uc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihpPWh0Lm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7aS0tJiYocz1vW2ldLCFOLnJlbGF0aXZlW2E9cy50eXBlXSk7KWlmKCh1PU4uZmluZFthXSkmJihyPXUocy5tYXRjaGVzWzBdLnJlcGxhY2Uod3QsVHQpLHh0LnRlc3Qob1swXS50eXBlKSYmYyh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksZT1yLmxlbmd0aCYmZChvKSwhZSlyZXR1cm4gWi5hcHBseShuLHIpLG47YnJlYWt9fXJldHVybiBEKGUsbCkocix0LCFPLG4seHQudGVzdChlKSYmYyh0LnBhcmVudE5vZGUpfHx0KSxufXZhciBULEMsTixrLEUsRCxqLFMsQSxMLHEsSCxPLEYsUCxNLFIsVz1cInNpenpsZVwiKy1uZXcgRGF0ZSwkPWUuZG9jdW1lbnQsQj0wLEk9MCxfPW4oKSxYPW4oKSx6PW4oKSxVPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoQT0hMCksMH0sVj1cInVuZGVmaW5lZFwiLFk9MTw8MzEsRz17fS5oYXNPd25Qcm9wZXJ0eSxRPVtdLEo9US5wb3AsSz1RLnB1c2gsWj1RLnB1c2gsZXQ9US5zbGljZSx0dD1RLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5sZW5ndGg7bj50O3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sbnQ9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLHJ0PVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixpdD1cIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcXFx4MDAtXFxcXHhhMF0pK1wiLG90PWl0LnJlcGxhY2UoXCJ3XCIsXCJ3I1wiKSxzdD1cIlxcXFxbXCIrcnQrXCIqKFwiK2l0K1wiKVwiK3J0K1wiKig/OihbKl4kfCF+XT89KVwiK3J0K1wiKig/OihbJ1xcXCJdKSgoPzpcXFxcXFxcXC58W15cXFxcXFxcXF0pKj8pXFxcXDN8KFwiK290K1wiKXwpfClcIitydCtcIipcXFxcXVwiLGF0PVwiOihcIitpdCtcIikoPzpcXFxcKCgoWydcXFwiXSkoKD86XFxcXFxcXFwufFteXFxcXFxcXFxdKSo/KVxcXFwzfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitzdC5yZXBsYWNlKDMsOCkrXCIpKil8LiopXFxcXCl8KVwiLHV0PW5ldyBSZWdFeHAoXCJeXCIrcnQrXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK3J0K1wiKyRcIixcImdcIiksbHQ9bmV3IFJlZ0V4cChcIl5cIitydCtcIiosXCIrcnQrXCIqXCIpLGN0PW5ldyBSZWdFeHAoXCJeXCIrcnQrXCIqKFs+K35dfFwiK3J0K1wiKVwiK3J0K1wiKlwiKSxmdD1uZXcgUmVnRXhwKFwiPVwiK3J0K1wiKihbXlxcXFxdJ1xcXCJdKj8pXCIrcnQrXCIqXFxcXF1cIixcImdcIikscHQ9bmV3IFJlZ0V4cChhdCksZHQ9bmV3IFJlZ0V4cChcIl5cIitvdCtcIiRcIiksaHQ9e0lEOm5ldyBSZWdFeHAoXCJeIyhcIitpdCtcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitpdCtcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK2l0LnJlcGxhY2UoXCJ3XCIsXCJ3KlwiKStcIilcIiksQVRUUjpuZXcgUmVnRXhwKFwiXlwiK3N0KSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIithdCksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrcnQrXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIitydCtcIiooPzooWystXXwpXCIrcnQrXCIqKFxcXFxkKyl8KSlcIitydCtcIipcXFxcKXwpXCIsXCJpXCIpLGJvb2w6bmV3IFJlZ0V4cChcIl4oPzpcIitudCtcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK3J0K1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitydCtcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrcnQrXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LGd0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksbXQ9L15oXFxkJC9pLHZ0PS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8seXQ9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8seHQ9L1srfl0vLGJ0PS8nfFxcXFwvZyx3dD1uZXcgUmVnRXhwKFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIrcnQrXCI/fChcIitydCtcIil8LilcIixcImlnXCIpLFR0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1cIjB4XCIrdC02NTUzNjtyZXR1cm4gciE9PXJ8fG4/dDowPnI/U3RyaW5nLmZyb21DaGFyQ29kZShyKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKHI+PjEwfDU1Mjk2LDEwMjMmcnw1NjMyMCl9O3RyeXtaLmFwcGx5KFE9ZXQuY2FsbCgkLmNoaWxkTm9kZXMpLCQuY2hpbGROb2RlcyksUVskLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChDdCl7Wj17YXBwbHk6US5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtLLmFwcGx5KGUsZXQuY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9MDtlW24rK109dFtyKytdOyk7ZS5sZW5ndGg9bi0xfX19Qz10LnN1cHBvcnQ9e30sRT10LmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gdD9cIkhUTUxcIiE9PXQubm9kZU5hbWU6ITF9LEw9dC5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxuPWU/ZS5vd25lckRvY3VtZW50fHxlOiQscj1uLmRlZmF1bHRWaWV3O3JldHVybiBuIT09cSYmOT09PW4ubm9kZVR5cGUmJm4uZG9jdW1lbnRFbGVtZW50PyhxPW4sSD1uLmRvY3VtZW50RWxlbWVudCxPPSFFKG4pLHImJnIhPT1yLnRvcCYmKHIuYWRkRXZlbnRMaXN0ZW5lcj9yLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixmdW5jdGlvbigpe0woKX0sITEpOnIuYXR0YWNoRXZlbnQmJnIuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGZ1bmN0aW9uKCl7TCgpfSkpLEMuYXR0cmlidXRlcz1pKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT1cImlcIiwhZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxDLmdldEVsZW1lbnRzQnlUYWdOYW1lPWkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQobi5jcmVhdGVDb21tZW50KFwiXCIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPXZ0LnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmaShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PlwiLGUuZmlyc3RDaGlsZC5jbGFzc05hbWU9XCJpXCIsMj09PWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlcIikubGVuZ3RofSksQy5nZXRCeUlkPWkoZnVuY3Rpb24oZSl7cmV0dXJuIEguYXBwZW5kQ2hpbGQoZSkuaWQ9Vywhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUoVykubGVuZ3RofSksQy5nZXRCeUlkPyhOLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9PVYmJk8pe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4mJm4ucGFyZW50Tm9kZT9bbl06W119fSxOLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2Uod3QsVHQpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PXR9fSk6KGRlbGV0ZSBOLmZpbmQuSUQsTi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHd0LFR0KTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9PVYmJmUuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19KSxOLmZpbmQuVEFHPUMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1WP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dm9pZCAwfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZihcIipcIj09PWUpe2Zvcig7bj1vW2krK107KTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LE4uZmluZC5DTEFTUz1DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1WJiZPP3QuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKTp2b2lkIDB9LFA9W10sRj1bXSwoQy5xc2E9dnQudGVzdChuLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGkoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9XCI8c2VsZWN0IHQ9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIixlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdF49JyddXCIpLmxlbmd0aCYmRi5wdXNoKFwiWypeJF09XCIrcnQrXCIqKD86Jyd8XFxcIlxcXCIpXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RofHxGLnB1c2goXCJcXFxcW1wiK3J0K1wiKig/OnZhbHVlfFwiK250K1wiKVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGh8fEYucHVzaChcIjpjaGVja2VkXCIpfSksaShmdW5jdGlvbihlKXt2YXIgdD1uLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZGLnB1c2goXCJuYW1lXCIrcnQrXCIqWypeJHwhfl0/PVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGh8fEYucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxGLnB1c2goXCIsLio6XCIpfSkpLChDLm1hdGNoZXNTZWxlY3Rvcj12dC50ZXN0KE09SC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEgubW96TWF0Y2hlc1NlbGVjdG9yfHxILm9NYXRjaGVzU2VsZWN0b3J8fEgubXNNYXRjaGVzU2VsZWN0b3IpKSYmaShmdW5jdGlvbihlKXtDLmRpc2Nvbm5lY3RlZE1hdGNoPU0uY2FsbChlLFwiZGl2XCIpLE0uY2FsbChlLFwiW3MhPScnXTp4XCIpLFAucHVzaChcIiE9XCIsYXQpfSksRj1GLmxlbmd0aCYmbmV3IFJlZ0V4cChGLmpvaW4oXCJ8XCIpKSxQPVAubGVuZ3RoJiZuZXcgUmVnRXhwKFAuam9pbihcInxcIikpLHQ9dnQudGVzdChILmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxSPXR8fHZ0LnRlc3QoSC5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KWZvcig7dD10LnBhcmVudE5vZGU7KWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxVPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gQT0hMCwwO3ZhciByPSFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByP3I6KHI9KGUub3duZXJEb2N1bWVudHx8ZSk9PT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEsMSZyfHwhQy5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1yP2U9PT1ufHxlLm93bmVyRG9jdW1lbnQ9PT0kJiZSKCQsZSk/LTE6dD09PW58fHQub3duZXJEb2N1bWVudD09PSQmJlIoJCx0KT8xOlM/dHQuY2FsbChTLGUpLXR0LmNhbGwoUyx0KTowOjQmcj8tMToxKX06ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gQT0hMCwwO3ZhciByLGk9MCxvPWUucGFyZW50Tm9kZSxhPXQucGFyZW50Tm9kZSx1PVtlXSxsPVt0XTtpZighb3x8IWEpcmV0dXJuIGU9PT1uPy0xOnQ9PT1uPzE6bz8tMTphPzE6Uz90dC5jYWxsKFMsZSktdHQuY2FsbChTLHQpOjA7aWYobz09PWEpcmV0dXJuIHMoZSx0KTtmb3Iocj1lO3I9ci5wYXJlbnROb2RlOyl1LnVuc2hpZnQocik7Zm9yKHI9dDtyPXIucGFyZW50Tm9kZTspbC51bnNoaWZ0KHIpO2Zvcig7dVtpXT09PWxbaV07KWkrKztyZXR1cm4gaT9zKHVbaV0sbFtpXSk6dVtpXT09PSQ/LTE6bFtpXT09PSQ/MTowfSxuKTpxfSx0Lm1hdGNoZXM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG51bGwsbnVsbCxuKX0sdC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSxuKXtpZigoZS5vd25lckRvY3VtZW50fHxlKSE9PXEmJkwoZSksbj1uLnJlcGxhY2UoZnQsXCI9JyQxJ11cIiksISghQy5tYXRjaGVzU2VsZWN0b3J8fCFPfHxQJiZQLnRlc3Qobil8fEYmJkYudGVzdChuKSkpdHJ5e3ZhciByPU0uY2FsbChlLG4pO2lmKHJ8fEMuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcn1jYXRjaChpKXt9cmV0dXJuIHQobixxLG51bGwsW2VdKS5sZW5ndGg+MH0sdC5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09cSYmTChlKSxSKGUsdCl9LHQuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09cSYmTChlKTt2YXIgbj1OLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJkcuY2FsbChOLmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9uKGUsdCwhTyk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1yP3I6Qy5hdHRyaWJ1dGVzfHwhTz9lLmdldEF0dHJpYnV0ZSh0KToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9LHQuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrZSl9LHQudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9MCxpPTA7aWYoQT0hQy5kZXRlY3REdXBsaWNhdGVzLFM9IUMuc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoVSksQSl7Zm9yKDt0PWVbaSsrXTspdD09PWVbaV0mJihyPW4ucHVzaChpKSk7Zm9yKDtyLS07KWUuc3BsaWNlKG5bcl0sMSl9cmV0dXJuIFM9bnVsbCxlfSxrPXQuZ2V0VGV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPVwiXCIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPWsoZSl9ZWxzZSBpZigzPT09aXx8ND09PWkpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2UgZm9yKDt0PWVbcisrXTspbis9ayh0KTtyZXR1cm4gbn0sTj10LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOnIsbWF0Y2g6aHQsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOntcIj5cIjp7ZGlyOlwicGFyZW50Tm9kZVwiLGZpcnN0OiEwfSxcIiBcIjp7ZGlyOlwicGFyZW50Tm9kZVwifSxcIitcIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCIsZmlyc3Q6ITB9LFwiflwiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2Uod3QsVHQpLGVbM109KGVbNF18fGVbNV18fFwiXCIpLnJlcGxhY2Uod3QsVHQpLFwifj1cIj09PWVbMl0mJihlWzNdPVwiIFwiK2VbM10rXCIgXCIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLFwibnRoXCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fHQuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooXCJldmVuXCI9PT1lWzNdfHxcIm9kZFwiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fFwib2RkXCI9PT1lWzNdKSk6ZVszXSYmdC5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs1XSYmZVsyXTtyZXR1cm4gaHQuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdJiZ2b2lkIDAhPT1lWzRdP2VbMl09ZVs0XTpuJiZwdC50ZXN0KG4pJiYodD1wKG4sITApKSYmKHQ9bi5pbmRleE9mKFwiKVwiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHd0LFR0KS50b0xvd2VyQ2FzZSgpO3JldHVyblwiKlwiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PV9bZStcIiBcIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoXCIoXnxcIitydCtcIilcIitlK1wiKFwiK3J0K1wifCQpXCIpKSYmXyhlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT09ViYmZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIil9KX0sQVRUUjpmdW5jdGlvbihlLG4scil7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciBvPXQuYXR0cihpLGUpO3JldHVybiBudWxsPT1vP1wiIT1cIj09PW46bj8obys9XCJcIixcIj1cIj09PW4/bz09PXI6XCIhPVwiPT09bj9vIT09cjpcIl49XCI9PT1uP3ImJjA9PT1vLmluZGV4T2Yocik6XCIqPVwiPT09bj9yJiZvLmluZGV4T2Yocik+LTE6XCIkPVwiPT09bj9yJiZvLnNsaWNlKC1yLmxlbmd0aCk9PT1yOlwifj1cIj09PW4/KFwiIFwiK28rXCIgXCIpLmluZGV4T2Yocik+LTE6XCJ8PVwiPT09bj9vPT09cnx8by5zbGljZSgwLHIubGVuZ3RoKzEpPT09citcIi1cIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPVwibnRoXCIhPT1lLnNsaWNlKDAsMykscz1cImxhc3RcIiE9PWUuc2xpY2UoLTQpLGE9XCJvZi10eXBlXCI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbix1KXt2YXIgbCxjLGYscCxkLGgsZz1vIT09cz9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIixtPXQucGFyZW50Tm9kZSx2PWEmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx5PSF1JiYhYTtpZihtKXtpZihvKXtmb3IoO2c7KXtmb3IoZj10O2Y9ZltnXTspaWYoYT9mLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT12OjE9PT1mLm5vZGVUeXBlKXJldHVybiExO2g9Zz1cIm9ubHlcIj09PWUmJiFoJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYoaD1bcz9tLmZpcnN0Q2hpbGQ6bS5sYXN0Q2hpbGRdLHMmJnkpe2ZvcihjPW1bV118fChtW1ddPXt9KSxsPWNbZV18fFtdLGQ9bFswXT09PUImJmxbMV0scD1sWzBdPT09QiYmbFsyXSxmPWQmJm0uY2hpbGROb2Rlc1tkXTtmPSsrZCYmZiYmZltnXXx8KHA9ZD0wKXx8aC5wb3AoKTspaWYoMT09PWYubm9kZVR5cGUmJisrcCYmZj09PXQpe2NbZV09W0IsZCxwXTticmVha319ZWxzZSBpZih5JiYobD0odFtXXXx8KHRbV109e30pKVtlXSkmJmxbMF09PT1CKXA9bFsxXTtlbHNlIGZvcig7KGY9KytkJiZmJiZmW2ddfHwocD1kPTApfHxoLnBvcCgpKSYmKChhP2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PXY6MSE9PWYubm9kZVR5cGUpfHwhKytwfHwoeSYmKChmW1ddfHwoZltXXT17fSkpW2VdPVtCLHBdKSxmIT09dCkpOyk7cmV0dXJuIHAtPWkscD09PXJ8fHAlcj09PTAmJnAvcj49MH19fSxQU0VVRE86ZnVuY3Rpb24oZSxuKXt2YXIgaSxvPU4ucHNldWRvc1tlXXx8Ti5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fHQuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2UpO3JldHVybiBvW1ddP28obik6by5sZW5ndGg+MT8oaT1bZSxlLFwiXCIsbl0sTi5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/cihmdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSxuKSxzPWkubGVuZ3RoO3MtLTspcj10dC5jYWxsKGUsaVtzXSksZVtyXT0hKHRbcl09aVtzXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlLDAsaSl9KTpvfX0scHNldWRvczp7bm90OnIoZnVuY3Rpb24oZSl7dmFyIHQ9W10sbj1bXSxpPUQoZS5yZXBsYWNlKHV0LFwiJDFcIikpO3JldHVybiBpW1ddP3IoZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvLHM9aShlLG51bGwscixbXSksYT1lLmxlbmd0aDthLS07KShvPXNbYV0pJiYoZVthXT0hKHRbYV09bykpfSk6ZnVuY3Rpb24oZSxyLG8pe3JldHVybiB0WzBdPWUsaSh0LG51bGwsbyxuKSwhbi5wb3AoKX19KSxoYXM6cihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZSxuKS5sZW5ndGg+MH19KSxjb250YWluczpyKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odC50ZXh0Q29udGVudHx8dC5pbm5lclRleHR8fGsodCkpLmluZGV4T2YoZSk+LTF9fSksbGFuZzpyKGZ1bmN0aW9uKGUpe3JldHVybiBkdC50ZXN0KGV8fFwiXCIpfHx0LmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIrZSksZT1lLnJlcGxhY2Uod3QsVHQpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG8gaWYobj1PP3QubGFuZzp0LmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHx0LmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIG49bi50b0xvd2VyQ2FzZSgpLG49PT1lfHwwPT09bi5pbmRleE9mKGUrXCItXCIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5oYXNoO3JldHVybiBuJiZuLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUh9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09cS5hY3RpdmVFbGVtZW50JiYoIXEuaGFzRm9jdXN8fHEuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dCYmISFlLmNoZWNrZWR8fFwib3B0aW9uXCI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGUuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFOLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gbXQudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGd0LnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dCYmXCJidXR0b25cIj09PWUudHlwZXx8XCJidXR0b25cIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCJpbnB1dFwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bChmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bChmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6bChmdW5jdGlvbihlLHQsbil7cmV0dXJuWzA+bj9uK3Q6bl19KSxldmVuOmwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6bChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO3Q+bjtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OmwoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wPm4/bit0Om47LS1yPj0wOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpsKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MD5uP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19LE4ucHNldWRvcy5udGg9Ti5wc2V1ZG9zLmVxO2ZvcihUIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KU4ucHNldWRvc1tUXT1hKFQpO2ZvcihUIGlue3N1Ym1pdDohMCxyZXNldDohMH0pTi5wc2V1ZG9zW1RdPXUoVCk7cmV0dXJuIGYucHJvdG90eXBlPU4uZmlsdGVycz1OLnBzZXVkb3MsTi5zZXRGaWx0ZXJzPW5ldyBmLEQ9dC5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPVtdLG89eltlK1wiIFwiXTtpZighbyl7Zm9yKHR8fCh0PXAoZSkpLG49dC5sZW5ndGg7bi0tOylvPXkodFtuXSksb1tXXT9yLnB1c2gobyk6aS5wdXNoKG8pO289eihlLHgoaSxyKSl9cmV0dXJuIG99LEMuc29ydFN0YWJsZT1XLnNwbGl0KFwiXCIpLnNvcnQoVSkuam9pbihcIlwiKT09PVcsQy5kZXRlY3REdXBsaWNhdGVzPSEhQSxMKCksQy5zb3J0RGV0YWNoZWQ9aShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHEuY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxpKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fG8oXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuP3ZvaWQgMDplLmdldEF0dHJpYnV0ZSh0LFwidHlwZVwiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxDLmF0dHJpYnV0ZXMmJmkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fG8oXCJ2YWx1ZVwiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnx8XCJpbnB1dFwiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDplLmRlZmF1bHRWYWx1ZX0pLGkoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8byhudCxmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIG4/dm9pZCAwOmVbdF09PT0hMD90LnRvTG93ZXJDYXNlKCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksdH0oZSk7ZXQuZmluZD1pdCxldC5leHByPWl0LnNlbGVjdG9ycyxldC5leHByW1wiOlwiXT1ldC5leHByLnBzZXVkb3MsZXQudW5pcXVlPWl0LnVuaXF1ZVNvcnQsZXQudGV4dD1pdC5nZXRUZXh0LGV0LmlzWE1MRG9jPWl0LmlzWE1MLGV0LmNvbnRhaW5zPWl0LmNvbnRhaW5zO3ZhciBvdD1ldC5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxzdD0vXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sYXQ9L14uW146I1xcW1xcLixdKiQvO2V0LmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9XCI6bm90KFwiK2UrXCIpXCIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/ZXQuZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106ZXQuZmluZC5tYXRjaGVzKGUsZXQuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sZXQuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5sZW5ndGgscj1bXSxpPXRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKGV0KGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7bj50O3QrKylpZihldC5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2Zvcih0PTA7bj50O3QrKylldC5maW5kKGUsaVt0XSxyKTtyZXR1cm4gcj10aGlzLnB1c2hTdGFjayhuPjE/ZXQudW5pcXVlKHIpOnIpLHIuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2U6ZSxyXG59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhcih0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZvdC50ZXN0KGUpP2V0KGUpOmV8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHV0LGx0PS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLGN0PWV0LmZuLmluaXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2lmKCFlKXJldHVybiB0aGlzO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihuPVwiPFwiPT09ZVswXSYmXCI+XCI9PT1lW2UubGVuZ3RoLTFdJiZlLmxlbmd0aD49Mz9bbnVsbCxlLG51bGxdOmx0LmV4ZWMoZSksIW58fCFuWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8dXQpLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKG5bMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIGV0P3RbMF06dCxldC5tZXJnZSh0aGlzLGV0LnBhcnNlSFRNTChuWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkssITApKSxzdC50ZXN0KG5bMV0pJiZldC5pc1BsYWluT2JqZWN0KHQpKWZvcihuIGluIHQpZXQuaXNGdW5jdGlvbih0aGlzW25dKT90aGlzW25dKHRbbl0pOnRoaXMuYXR0cihuLHRbbl0pO3JldHVybiB0aGlzfXJldHVybiByPUsuZ2V0RWxlbWVudEJ5SWQoblsyXSksciYmci5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPXIpLHRoaXMuY29udGV4dD1LLHRoaXMuc2VsZWN0b3I9ZSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcyk6ZXQuaXNGdW5jdGlvbihlKT9cInVuZGVmaW5lZFwiIT10eXBlb2YgdXQucmVhZHk/dXQucmVhZHkoZSk6ZShldCk6KHZvaWQgMCE9PWUuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWUuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWUuY29udGV4dCksZXQubWFrZUFycmF5KGUsdGhpcykpfTtjdC5wcm90b3R5cGU9ZXQuZm4sdXQ9ZXQoSyk7dmFyIGZ0PS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLHB0PXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2V0LmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT12b2lkIDAhPT1uOyhlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZTspaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJmV0KGUpLmlzKG4pKWJyZWFrO3IucHVzaChlKX1yZXR1cm4gcn0sc2libGluZzpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn19KSxldC5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihlKXt2YXIgdD1ldChlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7bj5lO2UrKylpZihldC5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj0wLGk9dGhpcy5sZW5ndGgsbz1bXSxzPW90LnRlc3QoZSl8fFwic3RyaW5nXCIhPXR5cGVvZiBlP2V0KGUsdHx8dGhpcy5jb250ZXh0KTowO2k+cjtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYocz9zLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZldC5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhvLmxlbmd0aD4xP2V0LnVuaXF1ZShvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/XCJzdHJpbmdcIj09dHlwZW9mIGU/VS5jYWxsKGV0KGUpLHRoaXNbMF0pOlUuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZXQudW5pcXVlKGV0Lm1lcmdlKHRoaXMuZ2V0KCksZXQoZSx0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09ZT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksZXQuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gZXQuZGlyKGUsXCJwYXJlbnROb2RlXCIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBldC5kaXIoZSxcInBhcmVudE5vZGVcIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gaShlLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gZXQuZGlyKGUsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4gZXQuZGlyKGUsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGV0LmRpcihlLFwibmV4dFNpYmxpbmdcIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZXQuZGlyKGUsXCJwcmV2aW91c1NpYmxpbmdcIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LnNpYmxpbmcoKGUucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsZSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBldC5zaWJsaW5nKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRlbnREb2N1bWVudHx8ZXQubWVyZ2UoW10sZS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGUsdCl7ZXQuZm5bZV09ZnVuY3Rpb24obixyKXt2YXIgaT1ldC5tYXAodGhpcyx0LG4pO3JldHVyblwiVW50aWxcIiE9PWUuc2xpY2UoLTUpJiYocj1uKSxyJiZcInN0cmluZ1wiPT10eXBlb2YgciYmKGk9ZXQuZmlsdGVyKHIsaSkpLHRoaXMubGVuZ3RoPjEmJihwdFtlXXx8ZXQudW5pcXVlKGkpLGZ0LnRlc3QoZSkmJmkucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhpKX19KTt2YXIgZHQ9L1xcUysvZyxodD17fTtldC5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT1cInN0cmluZ1wiPT10eXBlb2YgZT9odFtlXXx8byhlKTpldC5leHRlbmQoe30sZSk7dmFyIHQsbixyLGkscyxhLHU9W10sbD0hZS5vbmNlJiZbXSxjPWZ1bmN0aW9uKG8pe2Zvcih0PWUubWVtb3J5JiZvLG49ITAsYT1pfHwwLGk9MCxzPXUubGVuZ3RoLHI9ITA7dSYmcz5hO2ErKylpZih1W2FdLmFwcGx5KG9bMF0sb1sxXSk9PT0hMSYmZS5zdG9wT25GYWxzZSl7dD0hMTticmVha31yPSExLHUmJihsP2wubGVuZ3RoJiZjKGwuc2hpZnQoKSk6dD91PVtdOmYuZGlzYWJsZSgpKX0sZj17YWRkOmZ1bmN0aW9uKCl7aWYodSl7dmFyIG49dS5sZW5ndGg7IWZ1bmN0aW9uIG8odCl7ZXQuZWFjaCh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9ZXQudHlwZShuKTtcImZ1bmN0aW9uXCI9PT1yP2UudW5pcXVlJiZmLmhhcyhuKXx8dS5wdXNoKG4pOm4mJm4ubGVuZ3RoJiZcInN0cmluZ1wiIT09ciYmbyhuKX0pfShhcmd1bWVudHMpLHI/cz11Lmxlbmd0aDp0JiYoaT1uLGModCkpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdSYmZXQuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG47KG49ZXQuaW5BcnJheSh0LHUsbikpPi0xOyl1LnNwbGljZShuLDEpLHImJihzPj1uJiZzLS0sYT49biYmYS0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT9ldC5pbkFycmF5KGUsdSk+LTE6ISghdXx8IXUubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdT1bXSxzPTAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB1PWw9dD12b2lkIDAsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdX0sbG9jazpmdW5jdGlvbigpe3JldHVybiBsPXZvaWQgMCx0fHxmLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbH0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hdXx8biYmIWx8fCh0PXR8fFtdLHQ9W2UsdC5zbGljZT90LnNsaWNlKCk6dF0scj9sLnB1c2godCk6Yyh0KSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBmLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhbn19O3JldHVybiBmfSxldC5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciB0PVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsZXQuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixldC5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlamVjdGVkXCJdLFtcIm5vdGlmeVwiLFwicHJvZ3Jlc3NcIixldC5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxuPVwicGVuZGluZ1wiLHI9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBpLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm4gZXQuRGVmZXJyZWQoZnVuY3Rpb24obil7ZXQuZWFjaCh0LGZ1bmN0aW9uKHQsbyl7dmFyIHM9ZXQuaXNGdW5jdGlvbihlW3RdKSYmZVt0XTtpW29bMV1dKGZ1bmN0aW9uKCl7dmFyIGU9cyYmcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmZXQuaXNGdW5jdGlvbihlLnByb21pc2UpP2UucHJvbWlzZSgpLmRvbmUobi5yZXNvbHZlKS5mYWlsKG4ucmVqZWN0KS5wcm9ncmVzcyhuLm5vdGlmeSk6bltvWzBdK1wiV2l0aFwiXSh0aGlzPT09cj9uLnByb21pc2UoKTp0aGlzLHM/W2VdOmFyZ3VtZW50cyl9KX0pLGU9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9ldC5leHRlbmQoZSxyKTpyfX0saT17fTtyZXR1cm4gci5waXBlPXIudGhlbixldC5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgcz1vWzJdLGE9b1szXTtyW29bMV1dPXMuYWRkLGEmJnMuYWRkKGZ1bmN0aW9uKCl7bj1hfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdK1wiV2l0aFwiXSh0aGlzPT09aT9yOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxpW29bMF0rXCJXaXRoXCJdPXMuZmlyZVdpdGh9KSxyLnByb21pc2UoaSksZSYmZS5jYWxsKGksaSksaX0sd2hlbjpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT0wLG89Xy5jYWxsKGFyZ3VtZW50cykscz1vLmxlbmd0aCxhPTEhPT1zfHxlJiZldC5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/czowLHU9MT09PWE/ZTpldC5EZWZlcnJlZCgpLGw9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtuW2VdPXRoaXMscltlXT1hcmd1bWVudHMubGVuZ3RoPjE/Xy5jYWxsKGFyZ3VtZW50cyk6aSxyPT09dD91Lm5vdGlmeVdpdGgobixyKTotLWF8fHUucmVzb2x2ZVdpdGgobixyKX19O2lmKHM+MSlmb3IodD1uZXcgQXJyYXkocyksbj1uZXcgQXJyYXkocykscj1uZXcgQXJyYXkocyk7cz5pO2krKylvW2ldJiZldC5pc0Z1bmN0aW9uKG9baV0ucHJvbWlzZSk/b1tpXS5wcm9taXNlKCkuZG9uZShsKGkscixvKSkuZmFpbCh1LnJlamVjdCkucHJvZ3Jlc3MobChpLG4sdCkpOi0tYTtyZXR1cm4gYXx8dS5yZXNvbHZlV2l0aChyLG8pLHUucHJvbWlzZSgpfX0pO3ZhciBndDtldC5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gZXQucmVhZHkucHJvbWlzZSgpLmRvbmUoZSksdGhpc30sZXQuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihlKXtlP2V0LnJlYWR5V2FpdCsrOmV0LnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oZSl7KGU9PT0hMD8tLWV0LnJlYWR5V2FpdDpldC5pc1JlYWR5KXx8KGV0LmlzUmVhZHk9ITAsZSE9PSEwJiYtLWV0LnJlYWR5V2FpdD4wfHwoZ3QucmVzb2x2ZVdpdGgoSyxbZXRdKSxldC5mbi50cmlnZ2VyJiZldChLKS50cmlnZ2VyKFwicmVhZHlcIikub2ZmKFwicmVhZHlcIikpKX19KSxldC5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKHQpe3JldHVybiBndHx8KGd0PWV0LkRlZmVycmVkKCksXCJjb21wbGV0ZVwiPT09Sy5yZWFkeVN0YXRlP3NldFRpbWVvdXQoZXQucmVhZHkpOihLLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscywhMSksZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHMsITEpKSksZ3QucHJvbWlzZSh0KX0sZXQucmVhZHkucHJvbWlzZSgpO3ZhciBtdD1ldC5hY2Nlc3M9ZnVuY3Rpb24oZSx0LG4scixpLG8scyl7dmFyIGE9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZihcIm9iamVjdFwiPT09ZXQudHlwZShuKSl7aT0hMDtmb3IoYSBpbiBuKWV0LmFjY2VzcyhlLHQsYSxuW2FdLCEwLG8scyl9ZWxzZSBpZih2b2lkIDAhPT1yJiYoaT0hMCxldC5pc0Z1bmN0aW9uKHIpfHwocz0hMCksbCYmKHM/KHQuY2FsbChlLHIpLHQ9bnVsbCk6KGw9dCx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbC5jYWxsKGV0KGUpLG4pfSkpLHQpKWZvcig7dT5hO2ErKyl0KGVbYV0sbixzP3I6ci5jYWxsKGVbYV0sYSx0KGVbYV0sbikpKTtyZXR1cm4gaT9lOmw/dC5jYWxsKGUpOnU/dChlWzBdLG4pOm99O2V0LmFjY2VwdERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfHw5PT09ZS5ub2RlVHlwZXx8IStlLm5vZGVUeXBlfSxhLnVpZD0xLGEuYWNjZXB0cz1ldC5hY2NlcHREYXRhLGEucHJvdG90eXBlPXtrZXk6ZnVuY3Rpb24oZSl7aWYoIWEuYWNjZXB0cyhlKSlyZXR1cm4gMDt2YXIgdD17fSxuPWVbdGhpcy5leHBhbmRvXTtpZighbil7bj1hLnVpZCsrO3RyeXt0W3RoaXMuZXhwYW5kb109e3ZhbHVlOm59LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsdCl9Y2F0Y2gocil7dFt0aGlzLmV4cGFuZG9dPW4sZXQuZXh0ZW5kKGUsdCl9fXJldHVybiB0aGlzLmNhY2hlW25dfHwodGhpcy5jYWNoZVtuXT17fSksbn0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMua2V5KGUpLG89dGhpcy5jYWNoZVtpXTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClvW3RdPW47ZWxzZSBpZihldC5pc0VtcHR5T2JqZWN0KG8pKWV0LmV4dGVuZCh0aGlzLmNhY2hlW2ldLHQpO2Vsc2UgZm9yKHIgaW4gdClvW3JdPXRbcl07cmV0dXJuIG99LGdldDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY2FjaGVbdGhpcy5rZXkoZSldO3JldHVybiB2b2lkIDA9PT10P246blt0XX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4gdm9pZCAwPT09dHx8dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/KHI9dGhpcy5nZXQoZSx0KSx2b2lkIDAhPT1yP3I6dGhpcy5nZXQoZSxldC5jYW1lbENhc2UodCkpKToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG89dGhpcy5rZXkoZSkscz10aGlzLmNhY2hlW29dO2lmKHZvaWQgMD09PXQpdGhpcy5jYWNoZVtvXT17fTtlbHNle2V0LmlzQXJyYXkodCk/cj10LmNvbmNhdCh0Lm1hcChldC5jYW1lbENhc2UpKTooaT1ldC5jYW1lbENhc2UodCksdCBpbiBzP3I9W3QsaV06KHI9aSxyPXIgaW4gcz9bcl06ci5tYXRjaChkdCl8fFtdKSksbj1yLmxlbmd0aDtmb3IoO24tLTspZGVsZXRlIHNbcltuXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiFldC5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbZVt0aGlzLmV4cGFuZG9dXXx8e30pfSxkaXNjYXJkOmZ1bmN0aW9uKGUpe2VbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbZVt0aGlzLmV4cGFuZG9dXX19O3ZhciB2dD1uZXcgYSx5dD1uZXcgYSx4dD0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sYnQ9LyhbQS1aXSkvZztldC5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHl0Lmhhc0RhdGEoZSl8fHZ0Lmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB5dC5hY2Nlc3MoZSx0LG4pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7eXQucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdnQuYWNjZXNzKGUsdCxuKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXt2dC5yZW1vdmUoZSx0KX19KSxldC5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzWzBdLHM9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWUpe2lmKHRoaXMubGVuZ3RoJiYoaT15dC5nZXQobyksMT09PW8ubm9kZVR5cGUmJiF2dC5nZXQobyxcImhhc0RhdGFBdHRyc1wiKSkpe2ZvcihuPXMubGVuZ3RoO24tLTspcj1zW25dLm5hbWUsMD09PXIuaW5kZXhPZihcImRhdGEtXCIpJiYocj1ldC5jYW1lbENhc2Uoci5zbGljZSg1KSksdShvLHIsaVtyXSkpO3Z0LnNldChvLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBpfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlP3RoaXMuZWFjaChmdW5jdGlvbigpe3l0LnNldCh0aGlzLGUpfSk6bXQodGhpcyxmdW5jdGlvbih0KXt2YXIgbixyPWV0LmNhbWVsQ2FzZShlKTtpZihvJiZ2b2lkIDA9PT10KXtpZihuPXl0LmdldChvLGUpLHZvaWQgMCE9PW4pcmV0dXJuIG47aWYobj15dC5nZXQobyxyKSx2b2lkIDAhPT1uKXJldHVybiBuO2lmKG49dShvLHIsdm9pZCAwKSx2b2lkIDAhPT1uKXJldHVybiBufWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49eXQuZ2V0KHRoaXMscik7eXQuc2V0KHRoaXMscix0KSwtMSE9PWUuaW5kZXhPZihcIi1cIikmJnZvaWQgMCE9PW4mJnl0LnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eXQucmVtb3ZlKHRoaXMsZSl9KX19KSxldC5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4gZT8odD0odHx8XCJmeFwiKStcInF1ZXVlXCIscj12dC5nZXQoZSx0KSxuJiYoIXJ8fGV0LmlzQXJyYXkobik/cj12dC5hY2Nlc3MoZSx0LGV0Lm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGUsdCl7dD10fHxcImZ4XCI7dmFyIG49ZXQucXVldWUoZSx0KSxyPW4ubGVuZ3RoLGk9bi5zaGlmdCgpLG89ZXQuX3F1ZXVlSG9va3MoZSx0KSxzPWZ1bmN0aW9uKCl7ZXQuZGVxdWV1ZShlLHQpfTtcImlucHJvZ3Jlc3NcIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJihcImZ4XCI9PT10JiZuLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUscyxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIHZ0LmdldChlLG4pfHx2dC5hY2Nlc3MoZSxuLHtlbXB0eTpldC5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXt2dC5yZW1vdmUoZSxbdCtcInF1ZXVlXCIsbl0pfSl9KX19KSxldC5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKHQ9ZSxlPVwiZnhcIixuLS0pLGFyZ3VtZW50cy5sZW5ndGg8bj9ldC5xdWV1ZSh0aGlzWzBdLGUpOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1ldC5xdWV1ZSh0aGlzLGUsdCk7ZXQuX3F1ZXVlSG9va3ModGhpcyxlKSxcImZ4XCI9PT1lJiZcImlucHJvZ3Jlc3NcIiE9PW5bMF0mJmV0LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtldC5kZXF1ZXVlKHRoaXMsZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9ZXQuRGVmZXJyZWQoKSxvPXRoaXMscz10aGlzLmxlbmd0aCxhPWZ1bmN0aW9uKCl7LS1yfHxpLnJlc29sdmVXaXRoKG8sW29dKX07Zm9yKFwic3RyaW5nXCIhPXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fFwiZnhcIjtzLS07KW49dnQuZ2V0KG9bc10sZStcInF1ZXVlSG9va3NcIiksbiYmbi5lbXB0eSYmKHIrKyxuLmVtcHR5LmFkZChhKSk7cmV0dXJuIGEoKSxpLnByb21pc2UodCl9fSk7dmFyIHd0PS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxUdD1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sQ3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT10fHxlLFwibm9uZVwiPT09ZXQuY3NzKGUsXCJkaXNwbGF5XCIpfHwhZXQuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfSxOdD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgZT1LLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0PWUuYXBwZW5kQ2hpbGQoSy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTt0LmlubmVySFRNTD1cIjxpbnB1dCB0eXBlPSdyYWRpbycgY2hlY2tlZD0nY2hlY2tlZCcgbmFtZT0ndCcvPlwiLEouY2hlY2tDbG9uZT10LmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCx0LmlubmVySFRNTD1cIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIixKLm5vQ2xvbmVDaGVja2VkPSEhdC5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGt0PVwidW5kZWZpbmVkXCI7Si5mb2N1c2luQnViYmxlcz1cIm9uZm9jdXNpblwiaW4gZTt2YXIgRXQ9L15rZXkvLER0PS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxqdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sU3Q9L14oW14uXSopKD86XFwuKC4rKXwpJC87ZXQuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxzLGEsdSxsLGMsZixwLGQsaCxnLG09dnQuZ2V0KGUpO2lmKG0pZm9yKG4uaGFuZGxlciYmKG89bixuPW8uaGFuZGxlcixpPW8uc2VsZWN0b3IpLG4uZ3VpZHx8KG4uZ3VpZD1ldC5ndWlkKyspLCh1PW0uZXZlbnRzKXx8KHU9bS5ldmVudHM9e30pLChzPW0uaGFuZGxlKXx8KHM9bS5oYW5kbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiBldCE9PWt0JiZldC5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/ZXQuZXZlbnQuZGlzcGF0Y2guYXBwbHkoZSxhcmd1bWVudHMpOnZvaWQgMH0pLHQ9KHR8fFwiXCIpLm1hdGNoKGR0KXx8W1wiXCJdLGw9dC5sZW5ndGg7bC0tOylhPVN0LmV4ZWModFtsXSl8fFtdLGQ9Zz1hWzFdLGg9KGFbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksZCYmKGY9ZXQuZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0oaT9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZCxmPWV0LmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9ZXQuZXh0ZW5kKHt0eXBlOmQsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJmV0LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoaSksbmFtZXNwYWNlOmguam9pbihcIi5cIil9LG8pLChwPXVbZF0pfHwocD11W2RdPVtdLHAuZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJmYuc2V0dXAuY2FsbChlLHIsaCxzKSE9PSExfHxlLmFkZEV2ZW50TGlzdGVuZXImJmUuYWRkRXZlbnRMaXN0ZW5lcihkLHMsITEpKSxmLmFkZCYmKGYuYWRkLmNhbGwoZSxjKSxjLmhhbmRsZXIuZ3VpZHx8KGMuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLGk/cC5zcGxpY2UocC5kZWxlZ2F0ZUNvdW50KyssMCxjKTpwLnB1c2goYyksZXQuZXZlbnQuZ2xvYmFsW2RdPSEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8scyxhLHUsbCxjLGYscCxkLGgsZyxtPXZ0Lmhhc0RhdGEoZSkmJnZ0LmdldChlKTtpZihtJiYodT1tLmV2ZW50cykpe2Zvcih0PSh0fHxcIlwiKS5tYXRjaChkdCl8fFtcIlwiXSxsPXQubGVuZ3RoO2wtLTspaWYoYT1TdC5leGVjKHRbbF0pfHxbXSxkPWc9YVsxXSxoPShhWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQpe2ZvcihmPWV0LmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQscD11W2RdfHxbXSxhPWFbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitoLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxzPW89cC5sZW5ndGg7by0tOyljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fGEmJiFhLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKFwiKipcIiE9PXJ8fCFjLnNlbGVjdG9yKXx8KHAuc3BsaWNlKG8sMSksYy5zZWxlY3RvciYmcC5kZWxlZ2F0ZUNvdW50LS0sZi5yZW1vdmUmJmYucmVtb3ZlLmNhbGwoZSxjKSk7cyYmIXAubGVuZ3RoJiYoZi50ZWFyZG93biYmZi50ZWFyZG93bi5jYWxsKGUsaCxtLmhhbmRsZSkhPT0hMXx8ZXQucmVtb3ZlRXZlbnQoZSxkLG0uaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KWV0LmV2ZW50LnJlbW92ZShlLGQrdFtsXSxuLHIsITApO2V0LmlzRW1wdHlPYmplY3QodSkmJihkZWxldGUgbS5oYW5kbGUsdnQucmVtb3ZlKGUsXCJldmVudHNcIikpfX0sdHJpZ2dlcjpmdW5jdGlvbih0LG4scixpKXt2YXIgbyxzLGEsdSxsLGMsZixwPVtyfHxLXSxkPUcuY2FsbCh0LFwidHlwZVwiKT90LnR5cGU6dCxoPUcuY2FsbCh0LFwibmFtZXNwYWNlXCIpP3QubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihzPWE9cj1yfHxLLDMhPT1yLm5vZGVUeXBlJiY4IT09ci5ub2RlVHlwZSYmIWp0LnRlc3QoZCtldC5ldmVudC50cmlnZ2VyZWQpJiYoZC5pbmRleE9mKFwiLlwiKT49MCYmKGg9ZC5zcGxpdChcIi5cIiksZD1oLnNoaWZ0KCksaC5zb3J0KCkpLGw9ZC5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrZCx0PXRbZXQuZXhwYW5kb10/dDpuZXcgZXQuRXZlbnQoZCxcIm9iamVjdFwiPT10eXBlb2YgdCYmdCksdC5pc1RyaWdnZXI9aT8yOjMsdC5uYW1lc3BhY2U9aC5qb2luKFwiLlwiKSx0Lm5hbWVzcGFjZV9yZT10Lm5hbWVzcGFjZT9uZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIraC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIik6bnVsbCx0LnJlc3VsdD12b2lkIDAsdC50YXJnZXR8fCh0LnRhcmdldD1yKSxuPW51bGw9PW4/W3RdOmV0Lm1ha2VBcnJheShuLFt0XSksZj1ldC5ldmVudC5zcGVjaWFsW2RdfHx7fSxpfHwhZi50cmlnZ2VyfHxmLnRyaWdnZXIuYXBwbHkocixuKSE9PSExKSl7aWYoIWkmJiFmLm5vQnViYmxlJiYhZXQuaXNXaW5kb3cocikpe2Zvcih1PWYuZGVsZWdhdGVUeXBlfHxkLGp0LnRlc3QodStkKXx8KHM9cy5wYXJlbnROb2RlKTtzO3M9cy5wYXJlbnROb2RlKXAucHVzaChzKSxhPXM7YT09PShyLm93bmVyRG9jdW1lbnR8fEspJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fGUpfWZvcihvPTA7KHM9cFtvKytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspdC50eXBlPW8+MT91OmYuYmluZFR5cGV8fGQsYz0odnQuZ2V0KHMsXCJldmVudHNcIil8fHt9KVt0LnR5cGVdJiZ2dC5nZXQocyxcImhhbmRsZVwiKSxjJiZjLmFwcGx5KHMsbiksYz1sJiZzW2xdLGMmJmMuYXBwbHkmJmV0LmFjY2VwdERhdGEocykmJih0LnJlc3VsdD1jLmFwcGx5KHMsbiksdC5yZXN1bHQ9PT0hMSYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWQsaXx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zi5fZGVmYXVsdCYmZi5fZGVmYXVsdC5hcHBseShwLnBvcCgpLG4pIT09ITF8fCFldC5hY2NlcHREYXRhKHIpfHxsJiZldC5pc0Z1bmN0aW9uKHJbZF0pJiYhZXQuaXNXaW5kb3cocikmJihhPXJbbF0sYSYmKHJbbF09bnVsbCksZXQuZXZlbnQudHJpZ2dlcmVkPWQscltkXSgpLGV0LmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsYSYmKHJbbF09YSkpLHQucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7ZT1ldC5ldmVudC5maXgoZSk7dmFyIHQsbixyLGksbyxzPVtdLGE9Xy5jYWxsKGFyZ3VtZW50cyksdT0odnQuZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVtlLnR5cGVdfHxbXSxsPWV0LmV2ZW50LnNwZWNpYWxbZS50eXBlXXx8e307aWYoYVswXT1lLGUuZGVsZWdhdGVUYXJnZXQ9dGhpcywhbC5wcmVEaXNwYXRjaHx8bC5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsZSkhPT0hMSl7Zm9yKHM9ZXQuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGUsdSksdD0wOyhpPXNbdCsrXSkmJiFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcihlLmN1cnJlbnRUYXJnZXQ9aS5lbGVtLG49MDsobz1pLmhhbmRsZXJzW24rK10pJiYhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOykoIWUubmFtZXNwYWNlX3JlfHxlLm5hbWVzcGFjZV9yZS50ZXN0KG8ubmFtZXNwYWNlKSkmJihlLmhhbmRsZU9iaj1vLGUuZGF0YT1vLmRhdGEscj0oKGV0LmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLGEpLHZvaWQgMCE9PXImJihlLnJlc3VsdD1yKT09PSExJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gbC5wb3N0RGlzcGF0Y2gmJmwucG9zdERpc3BhdGNoLmNhbGwodGhpcyxlKSxlLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scz1bXSxhPXQuZGVsZWdhdGVDb3VudCx1PWUudGFyZ2V0O2lmKGEmJnUubm9kZVR5cGUmJighZS5idXR0b258fFwiY2xpY2tcIiE9PWUudHlwZSkpZm9yKDt1IT09dGhpczt1PXUucGFyZW50Tm9kZXx8dGhpcylpZih1LmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWUudHlwZSl7Zm9yKHI9W10sbj0wO2E+bjtuKyspbz10W25dLGk9by5zZWxlY3RvcitcIiBcIix2b2lkIDA9PT1yW2ldJiYocltpXT1vLm5lZWRzQ29udGV4dD9ldChpLHRoaXMpLmluZGV4KHUpPj0wOmV0LmZpbmQoaSx0aGlzLG51bGwsW3VdKS5sZW5ndGgpLHJbaV0mJnIucHVzaChvKTtyLmxlbmd0aCYmcy5wdXNoKHtlbGVtOnUsaGFuZGxlcnM6cn0pfXJldHVybiBhPHQubGVuZ3RoJiZzLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczp0LnNsaWNlKGEpfSksc30scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZS53aGljaCYmKGUud2hpY2g9bnVsbCE9dC5jaGFyQ29kZT90LmNoYXJDb2RlOnQua2V5Q29kZSksZX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvPXQuYnV0dG9uO3JldHVybiBudWxsPT1lLnBhZ2VYJiZudWxsIT10LmNsaWVudFgmJihuPWUudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fEsscj1uLmRvY3VtZW50RWxlbWVudCxpPW4uYm9keSxlLnBhZ2VYPXQuY2xpZW50WCsociYmci5zY3JvbGxMZWZ0fHxpJiZpLnNjcm9sbExlZnR8fDApLShyJiZyLmNsaWVudExlZnR8fGkmJmkuY2xpZW50TGVmdHx8MCksZS5wYWdlWT10LmNsaWVudFkrKHImJnIuc2Nyb2xsVG9wfHxpJiZpLnNjcm9sbFRvcHx8MCktKHImJnIuY2xpZW50VG9wfHxpJiZpLmNsaWVudFRvcHx8MCkpLGUud2hpY2h8fHZvaWQgMD09PW98fChlLndoaWNoPTEmbz8xOjImbz8zOjQmbz8yOjApLGV9fSxmaXg6ZnVuY3Rpb24oZSl7aWYoZVtldC5leHBhbmRvXSlyZXR1cm4gZTt2YXIgdCxuLHIsaT1lLnR5cGUsbz1lLHM9dGhpcy5maXhIb29rc1tpXTtmb3Ioc3x8KHRoaXMuZml4SG9va3NbaV09cz1EdC50ZXN0KGkpP3RoaXMubW91c2VIb29rczpFdC50ZXN0KGkpP3RoaXMua2V5SG9va3M6e30pLHI9cy5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChzLnByb3BzKTp0aGlzLnByb3BzLGU9bmV3IGV0LkV2ZW50KG8pLHQ9ci5sZW5ndGg7dC0tOyluPXJbdF0sZVtuXT1vW25dO3JldHVybiBlLnRhcmdldHx8KGUudGFyZ2V0PUspLDM9PT1lLnRhcmdldC5ub2RlVHlwZSYmKGUudGFyZ2V0PWUudGFyZ2V0LnBhcmVudE5vZGUpLHMuZmlsdGVyP3MuZmlsdGVyKGUsbyk6ZX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1mKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWYoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVyblwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmZXQubm9kZU5hbWUodGhpcyxcImlucHV0XCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0Lm5vZGVOYW1lKGUudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiYoZS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWUucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1ldC5leHRlbmQobmV3IGV0LkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7cj9ldC5ldmVudC50cmlnZ2VyKGksbnVsbCx0KTpldC5ldmVudC5kaXNwYXRjaC5jYWxsKHQsaSksaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmbi5wcmV2ZW50RGVmYXVsdCgpfX0sZXQucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSl9LGV0LkV2ZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBldC5FdmVudD8oZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiZlLmdldFByZXZlbnREZWZhdWx0JiZlLmdldFByZXZlbnREZWZhdWx0KCk/bDpjKTp0aGlzLnR5cGU9ZSx0JiZldC5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8ZXQubm93KCksdm9pZCh0aGlzW2V0LmV4cGFuZG9dPSEwKSk6bmV3IGV0LkV2ZW50KGUsdCl9LGV0LkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOmMsaXNQcm9wYWdhdGlvblN0b3BwZWQ6Yyxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpjLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWwsZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1sLGUmJmUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWwsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LGV0LmVhY2goe21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIn0sZnVuY3Rpb24oZSx0KXtldC5ldmVudC5zcGVjaWFsW2VdPXtkZWxlZ2F0ZVR5cGU6dCxiaW5kVHlwZTp0LGhhbmRsZTpmdW5jdGlvbihlKXt2YXIgbixyPXRoaXMsaT1lLnJlbGF0ZWRUYXJnZXQsbz1lLmhhbmRsZU9iajtyZXR1cm4oIWl8fGkhPT1yJiYhZXQuY29udGFpbnMocixpKSkmJihlLnR5cGU9by5vcmlnVHlwZSxuPW8uaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50eXBlPXQpLG59fX0pLEouZm9jdXNpbkJ1YmJsZXN8fGV0LmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUpe2V0LmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQsZXQuZXZlbnQuZml4KGUpLCEwKX07ZXQuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsaT12dC5hY2Nlc3Mocix0KTtpfHxyLmFkZEV2ZW50TGlzdGVuZXIoZSxuLCEwKSx2dC5hY2Nlc3Mocix0LChpfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsaT12dC5hY2Nlc3Mocix0KS0xO2k/dnQuYWNjZXNzKHIsdCxpKTooci5yZW1vdmVFdmVudExpc3RlbmVyKGUsbiwhMCksdnQucmVtb3ZlKHIsdCkpfX19KSxldC5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8scztpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJihuPW58fHQsdD12b2lkIDApO2ZvcihzIGluIGUpdGhpcy5vbihzLHQsbixlW3NdLGkpO3JldHVybiB0aGlzfWlmKG51bGw9PW4mJm51bGw9PXI/KHI9dCxuPXQ9dm9pZCAwKTpudWxsPT1yJiYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHI9bixuPXZvaWQgMCk6KHI9bixuPXQsdD12b2lkIDApKSxyPT09ITEpcj1jO2Vsc2UgaWYoIXIpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1pJiYobz1yLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV0KCkub2ZmKGUpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyLmd1aWQ9by5ndWlkfHwoby5ndWlkPWV0Lmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe2V0LmV2ZW50LmFkZCh0aGlzLGUscixuLHQpfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosZXQoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKHIubmFtZXNwYWNlP3Iub3JpZ1R5cGUrXCIuXCIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7Zm9yKGkgaW4gZSl0aGlzLm9mZihpLHQsZVtpXSk7cmV0dXJuIHRoaXN9cmV0dXJuKHQ9PT0hMXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkmJihuPXQsdD12b2lkIDApLG49PT0hMSYmKG49YyksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZXQuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZXQuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO3JldHVybiBuP2V0LmV2ZW50LnRyaWdnZXIoZSx0LG4sITApOnZvaWQgMH19KTt2YXIgQXQ9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpLEx0PS88KFtcXHc6XSspLyxxdD0vPHwmIz9cXHcrOy8sSHQ9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxPdD0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLEZ0PS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksUHQ9L150cnVlXFwvKC4qKS8sTXQ9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nLFJ0PXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07UnQub3B0Z3JvdXA9UnQub3B0aW9uLFJ0LnRib2R5PVJ0LnRmb290PVJ0LmNvbGdyb3VwPVJ0LmNhcHRpb249UnQudGhlYWQsUnQudGg9UnQudGQsZXQuZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYT1lLmNsb25lTm9kZSghMCksdT1ldC5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSk7aWYoIShKLm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHxldC5pc1hNTERvYyhlKSkpZm9yKHM9dihhKSxvPXYoZSkscj0wLGk9by5sZW5ndGg7aT5yO3IrKyl5KG9bcl0sc1tyXSk7aWYodClpZihuKWZvcihvPW98fHYoZSkscz1zfHx2KGEpLHI9MCxpPW8ubGVuZ3RoO2k+cjtyKyspbShvW3JdLHNbcl0pO2Vsc2UgbShlLGEpO3JldHVybiBzPXYoYSxcInNjcmlwdFwiKSxzLmxlbmd0aD4wJiZnKHMsIXUmJnYoZSxcInNjcmlwdFwiKSksYX0sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIGksbyxzLGEsdSxsLGM9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZj1bXSxwPTAsZD1lLmxlbmd0aDtkPnA7cCsrKWlmKGk9ZVtwXSxpfHwwPT09aSlpZihcIm9iamVjdFwiPT09ZXQudHlwZShpKSlldC5tZXJnZShmLGkubm9kZVR5cGU/W2ldOmkpO2Vsc2UgaWYocXQudGVzdChpKSl7Zm9yKG89b3x8Yy5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHM9KEx0LmV4ZWMoaSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGE9UnRbc118fFJ0Ll9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5yZXBsYWNlKEF0LFwiPCQxPjwvJDI+XCIpK2FbMl0sbD1hWzBdO2wtLTspbz1vLmxhc3RDaGlsZDtldC5tZXJnZShmLG8uY2hpbGROb2Rlcyksbz1jLmZpcnN0Q2hpbGQsby50ZXh0Q29udGVudD1cIlwifWVsc2UgZi5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoaSkpO2ZvcihjLnRleHRDb250ZW50PVwiXCIscD0wO2k9ZltwKytdOylpZigoIXJ8fC0xPT09ZXQuaW5BcnJheShpLHIpKSYmKHU9ZXQuY29udGFpbnMoaS5vd25lckRvY3VtZW50LGkpLG89dihjLmFwcGVuZENoaWxkKGkpLFwic2NyaXB0XCIpLHUmJmcobyksbikpZm9yKGw9MDtpPW9bbCsrXTspRnQudGVzdChpLnR5cGV8fFwiXCIpJiZuLnB1c2goaSk7cmV0dXJuIGN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGksbyxzLGE9ZXQuZXZlbnQuc3BlY2lhbCx1PTA7dm9pZCAwIT09KG49ZVt1XSk7dSsrKXtpZihldC5hY2NlcHREYXRhKG4pJiYobz1uW3Z0LmV4cGFuZG9dLG8mJih0PXZ0LmNhY2hlW29dKSkpe2lmKHI9T2JqZWN0LmtleXModC5ldmVudHN8fHt9KSxyLmxlbmd0aClmb3Iocz0wO3ZvaWQgMCE9PShpPXJbc10pO3MrKylhW2ldP2V0LmV2ZW50LnJlbW92ZShuLGkpOmV0LnJlbW92ZUV2ZW50KG4saSx0LmhhbmRsZSk7dnQuY2FjaGVbb10mJmRlbGV0ZSB2dC5jYWNoZVtvXX1kZWxldGUgeXQuY2FjaGVbblt5dC5leHBhbmRvXV19fX0pLGV0LmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gbXQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9ldC50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7KDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKSYmKHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXAodGhpcyxlKTt0LmFwcGVuZENoaWxkKGUpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1wKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZT9ldC5maWx0ZXIoZSx0aGlzKTp0aGlzLGk9MDtudWxsIT0obj1yW2ldKTtpKyspdHx8MSE9PW4ubm9kZVR5cGV8fGV0LmNsZWFuRGF0YSh2KG4pKSxuLnBhcmVudE5vZGUmJih0JiZldC5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbikmJmcodihuLFwic2NyaXB0XCIpKSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoZXQuY2xlYW5EYXRhKHYoZSwhMSkpLGUudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbD09ZT8hMTplLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZXQuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIG10KHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYhSHQudGVzdChlKSYmIVJ0WyhMdC5leGVjKGUpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9ZS5yZXBsYWNlKEF0LFwiPCQxPjwvJDI+XCIpO3RyeXtmb3IoO3I+bjtuKyspdD10aGlzW25dfHx7fSwxPT09dC5ub2RlVHlwZSYmKGV0LmNsZWFuRGF0YSh2KHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goaSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbih0KXtlPXRoaXMucGFyZW50Tm9kZSxldC5jbGVhbkRhdGEodih0aGlzKSksZSYmZS5yZXBsYWNlQ2hpbGQodCx0aGlzKX0pLGUmJihlLmxlbmd0aHx8ZS5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVtb3ZlKGUsITApfSxkb21NYW5pcDpmdW5jdGlvbihlLHQpe2U9WC5hcHBseShbXSxlKTt2YXIgbixyLGksbyxzLGEsdT0wLGw9dGhpcy5sZW5ndGgsYz10aGlzLGY9bC0xLHA9ZVswXSxnPWV0LmlzRnVuY3Rpb24ocCk7aWYoZ3x8bD4xJiZcInN0cmluZ1wiPT10eXBlb2YgcCYmIUouY2hlY2tDbG9uZSYmT3QudGVzdChwKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3ZhciByPWMuZXEobik7ZyYmKGVbMF09cC5jYWxsKHRoaXMsbixyLmh0bWwoKSkpLHIuZG9tTWFuaXAoZSx0KX0pO2lmKGwmJihuPWV0LmJ1aWxkRnJhZ21lbnQoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcykscj1uLmZpcnN0Q2hpbGQsMT09PW4uY2hpbGROb2Rlcy5sZW5ndGgmJihuPXIpLHIpKXtmb3IoaT1ldC5tYXAodihuLFwic2NyaXB0XCIpLGQpLG89aS5sZW5ndGg7bD51O3UrKylzPW4sdSE9PWYmJihzPWV0LmNsb25lKHMsITAsITApLG8mJmV0Lm1lcmdlKGksdihzLFwic2NyaXB0XCIpKSksdC5jYWxsKHRoaXNbdV0scyx1KTtpZihvKWZvcihhPWlbaS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxldC5tYXAoaSxoKSx1PTA7bz51O3UrKylzPWlbdV0sRnQudGVzdChzLnR5cGV8fFwiXCIpJiYhdnQuYWNjZXNzKHMsXCJnbG9iYWxFdmFsXCIpJiZldC5jb250YWlucyhhLHMpJiYocy5zcmM/ZXQuX2V2YWxVcmwmJmV0Ll9ldmFsVXJsKHMuc3JjKTpldC5nbG9iYWxFdmFsKHMudGV4dENvbnRlbnQucmVwbGFjZShNdCxcIlwiKSkpfXJldHVybiB0aGlzfX0pLGV0LmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oZSx0KXtldC5mbltlXT1mdW5jdGlvbihlKXtmb3IodmFyIG4scj1bXSxpPWV0KGUpLG89aS5sZW5ndGgtMSxzPTA7bz49cztzKyspbj1zPT09bz90aGlzOnRoaXMuY2xvbmUoITApLGV0KGlbc10pW3RdKG4pLHouYXBwbHkocixuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socil9fSk7dmFyIFd0LCR0PXt9LEJ0PS9ebWFyZ2luLyxJdD1uZXcgUmVnRXhwKFwiXihcIit3dCtcIikoPyFweClbYS16JV0rJFwiLFwiaVwiKSxfdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2Euc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElXCIsby5hcHBlbmRDaGlsZChzKTt2YXIgdD1lLmdldENvbXB1dGVkU3R5bGUoYSxudWxsKTtuPVwiMSVcIiE9PXQudG9wLHI9XCI0cHhcIj09PXQud2lkdGgsby5yZW1vdmVDaGlsZChzKX12YXIgbixyLGk9XCJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jazstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3hcIixvPUsuZG9jdW1lbnRFbGVtZW50LHM9Sy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGE9Sy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGEuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLEouY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWEuc3R5bGUuYmFja2dyb3VuZENsaXAscy5zdHlsZS5jc3NUZXh0PVwiYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHhcIixzLmFwcGVuZENoaWxkKGEpLGUuZ2V0Q29tcHV0ZWRTdHlsZSYmZXQuZXh0ZW5kKEose3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLG59LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXImJnQoKSxyfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQsbj1hLmFwcGVuZENoaWxkKEsuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmV0dXJuIG4uc3R5bGUuY3NzVGV4dD1hLnN0eWxlLmNzc1RleHQ9aSxuLnN0eWxlLm1hcmdpblJpZ2h0PW4uc3R5bGUud2lkdGg9XCIwXCIsYS5zdHlsZS53aWR0aD1cIjFweFwiLG8uYXBwZW5kQ2hpbGQocyksdD0hcGFyc2VGbG9hdChlLmdldENvbXB1dGVkU3R5bGUobixudWxsKS5tYXJnaW5SaWdodCksby5yZW1vdmVDaGlsZChzKSxhLmlubmVySFRNTD1cIlwiLHR9fSl9KCksZXQuc3dhcD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLHM9e307Zm9yKG8gaW4gdClzW29dPWUuc3R5bGVbb10sZS5zdHlsZVtvXT10W29dO2k9bi5hcHBseShlLHJ8fFtdKTtmb3IobyBpbiB0KWUuc3R5bGVbb109c1tvXTtyZXR1cm4gaX07dmFyIFh0PS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyx6dD1uZXcgUmVnRXhwKFwiXihcIit3dCtcIikoLiopJFwiLFwiaVwiKSxVdD1uZXcgUmVnRXhwKFwiXihbKy1dKT0oXCIrd3QrXCIpXCIsXCJpXCIpLFZ0PXtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSxZdD17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxHdD1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl07ZXQuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49dyhlLFwib3BhY2l0eVwiKTtyZXR1cm5cIlwiPT09bj9cIjFcIjpufX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7XCJmbG9hdFwiOlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLHMsYT1ldC5jYW1lbENhc2UodCksdT1lLnN0eWxlO3JldHVybiB0PWV0LmNzc1Byb3BzW2FdfHwoZXQuY3NzUHJvcHNbYV09Qyh1LGEpKSxzPWV0LmNzc0hvb2tzW3RdfHxldC5jc3NIb29rc1thXSx2b2lkIDA9PT1uP3MmJlwiZ2V0XCJpbiBzJiZ2b2lkIDAhPT0oaT1zLmdldChlLCExLHIpKT9pOnVbdF06KG89dHlwZW9mIG4sXCJzdHJpbmdcIj09PW8mJihpPVV0LmV4ZWMobikpJiYobj0oaVsxXSsxKSppWzJdK3BhcnNlRmxvYXQoZXQuY3NzKGUsdCkpLG89XCJudW1iZXJcIiksbnVsbCE9biYmbj09PW4mJihcIm51bWJlclwiIT09b3x8ZXQuY3NzTnVtYmVyW2FdfHwobis9XCJweFwiKSxKLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PW58fDAhPT10LmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwodVt0XT1cImluaGVyaXRcIikscyYmXCJzZXRcImluIHMmJnZvaWQgMD09PShuPXMuc2V0KGUsbixyKSl8fCh1W3RdPVwiXCIsdVt0XT1uKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLHMsYT1ldC5jYW1lbENhc2UodCk7cmV0dXJuIHQ9ZXQuY3NzUHJvcHNbYV18fChldC5jc3NQcm9wc1thXT1DKGUuc3R5bGUsYSkpLHM9ZXQuY3NzSG9va3NbdF18fGV0LmNzc0hvb2tzW2FdLHMmJlwiZ2V0XCJpbiBzJiYoaT1zLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT13KGUsdCxyKSksXCJub3JtYWxcIj09PWkmJnQgaW4gWXQmJihpPVl0W3RdKSxcIlwiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLG49PT0hMHx8ZXQuaXNOdW1lcmljKG8pP298fDA6aSk6aX19KSxldC5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oZSx0KXtldC5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbj8wPT09ZS5vZmZzZXRXaWR0aCYmWHQudGVzdChldC5jc3MoZSxcImRpc3BsYXlcIikpP2V0LnN3YXAoZSxWdCxmdW5jdGlvbigpe3JldHVybiBFKGUsdCxyKX0pOkUoZSx0LHIpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaT1yJiZfdChlKTtyZXR1cm4gTihlLG4scj9rKGUsdCxyLFwiYm9yZGVyLWJveFwiPT09ZXQuY3NzKGUsXCJib3hTaXppbmdcIiwhMSxpKSxpKTowKX19fSksZXQuY3NzSG9va3MubWFyZ2luUmlnaHQ9VChKLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9ldC5zd2FwKGUse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0sdyxbZSxcIm1hcmdpblJpZ2h0XCJdKTp2b2lkIDB9KSxldC5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oZSx0KXtldC5jc3NIb29rc1tlK3RdPXtleHBhbmQ6ZnVuY3Rpb24obil7Zm9yKHZhciByPTAsaT17fSxvPVwic3RyaW5nXCI9PXR5cGVvZiBuP24uc3BsaXQoXCIgXCIpOltuXTs0PnI7cisrKWlbZStUdFtyXSt0XT1vW3JdfHxvW3ItMl18fG9bMF07cmV0dXJuIGl9fSxCdC50ZXN0KGUpfHwoZXQuY3NzSG9va3NbZSt0XS5zZXQ9Til9KSxldC5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBtdCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30scz0wO2lmKGV0LmlzQXJyYXkodCkpe2ZvcihyPV90KGUpLGk9dC5sZW5ndGg7aT5zO3MrKylvW3Rbc11dPWV0LmNzcyhlLHRbc10sITEscik7cmV0dXJuIG99cmV0dXJuIHZvaWQgMCE9PW4/ZXQuc3R5bGUoZSx0LG4pOmV0LmNzcyhlLHQpfSxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBEKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIEQodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtDdCh0aGlzKT9ldCh0aGlzKS5zaG93KCk6ZXQodGhpcykuaGlkZSgpfSl9fSksZXQuVHdlZW49aixqLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aixpbml0OmZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt0aGlzLmVsZW09ZSx0aGlzLnByb3A9bix0aGlzLmVhc2luZz1pfHxcInN3aW5nXCIsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChldC5jc3NOdW1iZXJbbl0/XCJcIjpcInB4XCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1qLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpqLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPWoucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPXQ9dGhpcy5vcHRpb25zLmR1cmF0aW9uP2V0LmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTplLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOmoucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sai5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9ai5wcm90b3R5cGUsai5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PWUuZWxlbVtlLnByb3BdfHxlLmVsZW0uc3R5bGUmJm51bGwhPWUuZWxlbS5zdHlsZVtlLnByb3BdPyh0PWV0LmNzcyhlLmVsZW0sZS5wcm9wLFwiXCIpLHQmJlwiYXV0b1wiIT09dD90OjApOmUuZWxlbVtlLnByb3BdfSxzZXQ6ZnVuY3Rpb24oZSl7ZXQuZnguc3RlcFtlLnByb3BdP2V0LmZ4LnN0ZXBbZS5wcm9wXShlKTplLmVsZW0uc3R5bGUmJihudWxsIT1lLmVsZW0uc3R5bGVbZXQuY3NzUHJvcHNbZS5wcm9wXV18fGV0LmNzc0hvb2tzW2UucHJvcF0pP2V0LnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KTplLmVsZW1bZS5wcm9wXT1lLm5vd319fSxqLnByb3BIb29rcy5zY3JvbGxUb3A9ai5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSxldC5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3dpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuLjUtTWF0aC5jb3MoZSpNYXRoLlBJKS8yfX0sZXQuZng9ai5wcm90b3R5cGUuaW5pdCxldC5meC5zdGVwPXt9O3ZhciBRdCxKdCxLdD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sWnQ9bmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIrd3QrXCIpKFthLXolXSopJFwiLFwiaVwiKSxlbj0vcXVldWVIb29rcyQvLHRuPVtxXSxubj17XCIqXCI6W2Z1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVhdGVUd2VlbihlLHQpLHI9bi5jdXIoKSxpPVp0LmV4ZWModCksbz1pJiZpWzNdfHwoZXQuY3NzTnVtYmVyW2VdP1wiXCI6XCJweFwiKSxzPShldC5jc3NOdW1iZXJbZV18fFwicHhcIiE9PW8mJityKSYmWnQuZXhlYyhldC5jc3Mobi5lbGVtLGUpKSxhPTEsdT0yMDtpZihzJiZzWzNdIT09byl7bz1vfHxzWzNdLGk9aXx8W10scz0rcnx8MTtkbyBhPWF8fFwiLjVcIixzLz1hLGV0LnN0eWxlKG4uZWxlbSxlLHMrbyk7d2hpbGUoYSE9PShhPW4uY3VyKCkvcikmJjEhPT1hJiYtLXUpfXJldHVybiBpJiYocz1uLnN0YXJ0PStzfHwrcnx8MCxuLnVuaXQ9byxuLmVuZD1pWzFdP3MrKGlbMV0rMSkqaVsyXToraVsyXSksbn1dfTtldC5BbmltYXRpb249ZXQuZXh0ZW5kKE8se3R3ZWVuZXI6ZnVuY3Rpb24oZSx0KXtldC5pc0Z1bmN0aW9uKGUpPyh0PWUsZT1bXCIqXCJdKTplPWUuc3BsaXQoXCIgXCIpO2Zvcih2YXIgbixyPTAsaT1lLmxlbmd0aDtpPnI7cisrKW49ZVtyXSxubltuXT1ubltuXXx8W10sbm5bbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD90bi51bnNoaWZ0KGUpOnRuLnB1c2goZSl9fSksZXQuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlP2V0LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fGV0LmlzRnVuY3Rpb24oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIWV0LmlzRnVuY3Rpb24odCkmJnR9O3JldHVybiByLmR1cmF0aW9uPWV0LmZ4Lm9mZj8wOlwibnVtYmVyXCI9PXR5cGVvZiByLmR1cmF0aW9uP3IuZHVyYXRpb246ci5kdXJhdGlvbiBpbiBldC5meC5zcGVlZHM/ZXQuZnguc3BlZWRzW3IuZHVyYXRpb25dOmV0LmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ci5xdWV1ZXx8ci5xdWV1ZT09PSEwKSYmKHIucXVldWU9XCJmeFwiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXtldC5pc0Z1bmN0aW9uKHIub2xkKSYmci5vbGQuY2FsbCh0aGlzKSxyLnF1ZXVlJiZldC5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LGV0LmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihDdCkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1ldC5pc0VtcHR5T2JqZWN0KGUpLG89ZXQuc3BlZWQodCxuLHIpLHM9ZnVuY3Rpb24oKXt2YXIgdD1PKHRoaXMsZXQuZXh0ZW5kKHt9LGUpLG8pOyhpfHx2dC5nZXQodGhpcyxcImZpbmlzaFwiKSkmJnQuc3RvcCghMCl9O3JldHVybiBzLmZpbmlzaD1zLGl8fG8ucXVldWU9PT0hMT90aGlzLmVhY2gocyk6dGhpcy5xdWV1ZShvLnF1ZXVlLHMpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKG49dCx0PWUsZT12b2lkIDApLHQmJmUhPT0hMSYmdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZStcInF1ZXVlSG9va3NcIixvPWV0LnRpbWVycyxzPXZ0LmdldCh0aGlzKTtpZihpKXNbaV0mJnNbaV0uc3RvcCYmcihzW2ldKTtlbHNlIGZvcihpIGluIHMpc1tpXSYmc1tpXS5zdG9wJiZlbi50ZXN0KGkpJiZyKHNbaV0pO2ZvcihpPW8ubGVuZ3RoO2ktLTspb1tpXS5lbGVtIT09dGhpc3x8bnVsbCE9ZSYmb1tpXS5xdWV1ZSE9PWV8fChvW2ldLmFuaW0uc3RvcChuKSx0PSExLG8uc3BsaWNlKGksMSkpOyh0fHwhbikmJmV0LmRlcXVldWUodGhpcyxlKX0pfSxmaW5pc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT0hMSYmKGU9ZXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxuPXZ0LmdldCh0aGlzKSxyPW5bZStcInF1ZXVlXCJdLGk9bltlK1wicXVldWVIb29rc1wiXSxvPWV0LnRpbWVycyxzPXI/ci5sZW5ndGg6MDtmb3Iobi5maW5pc2g9ITAsZXQucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiZvW3RdLnF1ZXVlPT09ZSYmKG9bdF0uYW5pbS5zdG9wKCEwKSxvLnNwbGljZSh0LDEpKTtmb3IodD0wO3M+dDt0Kyspclt0XSYmclt0XS5maW5pc2gmJnJbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIG4uZmluaXNofSl9fSksZXQuZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oZSx0KXt2YXIgbj1ldC5mblt0XTtldC5mblt0XT1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZT9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoQSh0LCEwKSxlLHIsaSlcbn19KSxldC5lYWNoKHtzbGlkZURvd246QShcInNob3dcIiksc2xpZGVVcDpBKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpBKFwidG9nZ2xlXCIpLGZhZGVJbjp7b3BhY2l0eTpcInNob3dcIn0sZmFkZU91dDp7b3BhY2l0eTpcImhpZGVcIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eTpcInRvZ2dsZVwifX0sZnVuY3Rpb24oZSx0KXtldC5mbltlXT1mdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LGUsbixyKX19KSxldC50aW1lcnM9W10sZXQuZngudGljaz1mdW5jdGlvbigpe3ZhciBlLHQ9MCxuPWV0LnRpbWVycztmb3IoUXQ9ZXQubm93KCk7dDxuLmxlbmd0aDt0KyspZT1uW3RdLGUoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8ZXQuZnguc3RvcCgpLFF0PXZvaWQgMH0sZXQuZngudGltZXI9ZnVuY3Rpb24oZSl7ZXQudGltZXJzLnB1c2goZSksZSgpP2V0LmZ4LnN0YXJ0KCk6ZXQudGltZXJzLnBvcCgpfSxldC5meC5pbnRlcnZhbD0xMyxldC5meC5zdGFydD1mdW5jdGlvbigpe0p0fHwoSnQ9c2V0SW50ZXJ2YWwoZXQuZngudGljayxldC5meC5pbnRlcnZhbCkpfSxldC5meC5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChKdCksSnQ9bnVsbH0sZXQuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LGV0LmZuLmRlbGF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZXQuZng/ZXQuZnguc3BlZWRzW2VdfHxlOmUsdD10fHxcImZ4XCIsdGhpcy5xdWV1ZSh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9c2V0VGltZW91dCh0LGUpO24uc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKX19KX0sZnVuY3Rpb24oKXt2YXIgZT1LLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0PUsuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxuPXQuYXBwZW5kQ2hpbGQoSy5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtlLnR5cGU9XCJjaGVja2JveFwiLEouY2hlY2tPbj1cIlwiIT09ZS52YWx1ZSxKLm9wdFNlbGVjdGVkPW4uc2VsZWN0ZWQsdC5kaXNhYmxlZD0hMCxKLm9wdERpc2FibGVkPSFuLmRpc2FibGVkLGU9Sy5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksZS52YWx1ZT1cInRcIixlLnR5cGU9XCJyYWRpb1wiLEoucmFkaW9WYWx1ZT1cInRcIj09PWUudmFsdWV9KCk7dmFyIHJuLG9uLHNuPWV0LmV4cHIuYXR0ckhhbmRsZTtldC5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbXQodGhpcyxldC5hdHRyLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtldC5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxldC5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1vJiY4IT09byYmMiE9PW8pcmV0dXJuIHR5cGVvZiBlLmdldEF0dHJpYnV0ZT09PWt0P2V0LnByb3AoZSx0LG4pOigxPT09byYmZXQuaXNYTUxEb2MoZSl8fCh0PXQudG9Mb3dlckNhc2UoKSxyPWV0LmF0dHJIb29rc1t0XXx8KGV0LmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP29uOnJuKSksdm9pZCAwPT09bj9yJiZcImdldFwiaW4gciYmbnVsbCE9PShpPXIuZ2V0KGUsdCkpP2k6KGk9ZXQuZmluZC5hdHRyKGUsdCksbnVsbD09aT92b2lkIDA6aSk6bnVsbCE9PW4/ciYmXCJzZXRcImluIHImJnZvaWQgMCE9PShpPXIuc2V0KGUsbix0KSk/aTooZS5zZXRBdHRyaWJ1dGUodCxuK1wiXCIpLG4pOnZvaWQgZXQucmVtb3ZlQXR0cihlLHQpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT0wLG89dCYmdC5tYXRjaChkdCk7aWYobyYmMT09PWUubm9kZVR5cGUpZm9yKDtuPW9baSsrXTspcj1ldC5wcm9wRml4W25dfHxuLGV0LmV4cHIubWF0Y2guYm9vbC50ZXN0KG4pJiYoZVtyXT0hMSksZS5yZW1vdmVBdHRyaWJ1dGUobil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIUoucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09dCYmZXQubm9kZU5hbWUoZSxcImlucHV0XCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZShcInR5cGVcIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19fX0pLG9uPXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09ITE/ZXQucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LGV0LmVhY2goZXQuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBuPXNuW3RdfHxldC5maW5kLmF0dHI7c25bdF09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG87cmV0dXJuIHJ8fChvPXNuW3RdLHNuW3RdPWksaT1udWxsIT1uKGUsdCxyKT90LnRvTG93ZXJDYXNlKCk6bnVsbCxzblt0XT1vKSxpfX0pO3ZhciBhbj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO2V0LmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQpe3JldHVybiBtdCh0aGlzLGV0LnByb3AsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW2V0LnByb3BGaXhbZV18fGVdfSl9fSksZXQuZXh0ZW5kKHtwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifSxwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8scz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIG89MSE9PXN8fCFldC5pc1hNTERvYyhlKSxvJiYodD1ldC5wcm9wRml4W3RdfHx0LGk9ZXQucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJlwic2V0XCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJlwiZ2V0XCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjplW3RdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIil8fGFuLnRlc3QoZS5ub2RlTmFtZSl8fGUuaHJlZj9lLnRhYkluZGV4Oi0xfX19fSksSi5vcHRTZWxlY3RlZHx8KGV0LnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLGV0LmVhY2goW1widGFiSW5kZXhcIixcInJlYWRPbmx5XCIsXCJtYXhMZW5ndGhcIixcImNlbGxTcGFjaW5nXCIsXCJjZWxsUGFkZGluZ1wiLFwicm93U3BhblwiLFwiY29sU3BhblwiLFwidXNlTWFwXCIsXCJmcmFtZUJvcmRlclwiLFwiY29udGVudEVkaXRhYmxlXCJdLGZ1bmN0aW9uKCl7ZXQucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgdW49L1tcXHRcXHJcXG5cXGZdL2c7ZXQuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLHMsYT1cInN0cmluZ1wiPT10eXBlb2YgZSYmZSx1PTAsbD10aGlzLmxlbmd0aDtpZihldC5pc0Z1bmN0aW9uKGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7ZXQodGhpcykuYWRkQ2xhc3MoZS5jYWxsKHRoaXMsdCx0aGlzLmNsYXNzTmFtZSkpfSk7aWYoYSlmb3IodD0oZXx8XCJcIikubWF0Y2goZHQpfHxbXTtsPnU7dSsrKWlmKG49dGhpc1t1XSxyPTE9PT1uLm5vZGVUeXBlJiYobi5jbGFzc05hbWU/KFwiIFwiK24uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKHVuLFwiIFwiKTpcIiBcIikpe2ZvcihvPTA7aT10W28rK107KXIuaW5kZXhPZihcIiBcIitpK1wiIFwiKTwwJiYocis9aStcIiBcIik7cz1ldC50cmltKHIpLG4uY2xhc3NOYW1lIT09cyYmKG4uY2xhc3NOYW1lPXMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLHMsYT0wPT09YXJndW1lbnRzLmxlbmd0aHx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUsdT0wLGw9dGhpcy5sZW5ndGg7aWYoZXQuaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2V0KHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEpZm9yKHQ9KGV8fFwiXCIpLm1hdGNoKGR0KXx8W107bD51O3UrKylpZihuPXRoaXNbdV0scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPyhcIiBcIituLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZSh1bixcIiBcIik6XCJcIikpe2ZvcihvPTA7aT10W28rK107KWZvcig7ci5pbmRleE9mKFwiIFwiK2krXCIgXCIpPj0wOylyPXIucmVwbGFjZShcIiBcIitpK1wiIFwiLFwiIFwiKTtzPWU/ZXQudHJpbShyKTpcIlwiLG4uY2xhc3NOYW1lIT09cyYmKG4uY2xhc3NOYW1lPXMpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09PW4/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6dGhpcy5lYWNoKGV0LmlzRnVuY3Rpb24oZSk/ZnVuY3Rpb24obil7ZXQodGhpcykudG9nZ2xlQ2xhc3MoZS5jYWxsKHRoaXMsbix0aGlzLmNsYXNzTmFtZSx0KSx0KX06ZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT09bilmb3IodmFyIHQscj0wLGk9ZXQodGhpcyksbz1lLm1hdGNoKGR0KXx8W107dD1vW3IrK107KWkuaGFzQ2xhc3ModCk/aS5yZW1vdmVDbGFzcyh0KTppLmFkZENsYXNzKHQpO2Vsc2Uobj09PWt0fHxcImJvb2xlYW5cIj09PW4pJiYodGhpcy5jbGFzc05hbWUmJnZ0LnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8ZT09PSExP1wiXCI6dnQuZ2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIpfHxcIlwiKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9XCIgXCIrZStcIiBcIixuPTAscj10aGlzLmxlbmd0aDtyPm47bisrKWlmKDE9PT10aGlzW25dLm5vZGVUeXBlJiYoXCIgXCIrdGhpc1tuXS5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UodW4sXCIgXCIpLmluZGV4T2YodCk+PTApcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGxuPS9cXHIvZztldC5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiByPWV0LmlzRnVuY3Rpb24oZSksdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBpOzE9PT10aGlzLm5vZGVUeXBlJiYoaT1yP2UuY2FsbCh0aGlzLG4sZXQodGhpcykudmFsKCkpOmUsbnVsbD09aT9pPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGk/aSs9XCJcIjpldC5pc0FycmF5KGkpJiYoaT1ldC5tYXAoaSxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOmUrXCJcIn0pKSx0PWV0LnZhbEhvb2tzW3RoaXMudHlwZV18fGV0LnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmXCJzZXRcImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsaSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1pKSl9KTtpZihpKXJldHVybiB0PWV0LnZhbEhvb2tzW2kudHlwZV18fGV0LnZhbEhvb2tzW2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmXCJnZXRcImluIHQmJnZvaWQgMCE9PShuPXQuZ2V0KGksXCJ2YWx1ZVwiKSk/bjoobj1pLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBuP24ucmVwbGFjZShsbixcIlwiKTpudWxsPT1uP1wiXCI6bil9fX0pLGV0LmV4dGVuZCh7dmFsSG9va3M6e3NlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZS5vcHRpb25zLGk9ZS5zZWxlY3RlZEluZGV4LG89XCJzZWxlY3Qtb25lXCI9PT1lLnR5cGV8fDA+aSxzPW8/bnVsbDpbXSxhPW8/aSsxOnIubGVuZ3RoLHU9MD5pP2E6bz9pOjA7YT51O3UrKylpZihuPXJbdV0sISghbi5zZWxlY3RlZCYmdSE9PWl8fChKLm9wdERpc2FibGVkP24uZGlzYWJsZWQ6bnVsbCE9PW4uZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpfHxuLnBhcmVudE5vZGUuZGlzYWJsZWQmJmV0Lm5vZGVOYW1lKG4ucGFyZW50Tm9kZSxcIm9wdGdyb3VwXCIpKSl7aWYodD1ldChuKS52YWwoKSxvKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsaT1lLm9wdGlvbnMsbz1ldC5tYWtlQXJyYXkodCkscz1pLmxlbmd0aDtzLS07KXI9aVtzXSwoci5zZWxlY3RlZD1ldC5pbkFycmF5KGV0KHIpLnZhbCgpLG8pPj0wKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksZXQuZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtldC52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV0LmlzQXJyYXkodCk/ZS5jaGVja2VkPWV0LmluQXJyYXkoZXQoZSkudmFsKCksdCk+PTA6dm9pZCAwfX0sSi5jaGVja09ufHwoZXQudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6ZS52YWx1ZX0pfSksZXQuZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSx0KXtldC5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSksZXQuZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX0sYmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSxcIioqXCIpOnRoaXMub2ZmKHQsZXx8XCIqKlwiLG4pfX0pO3ZhciBjbj1ldC5ub3coKSxmbj0vXFw/LztldC5wYXJzZUpTT049ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoZStcIlwiKX0sZXQucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7dHJ5e249bmV3IERPTVBhcnNlcix0PW4ucGFyc2VGcm9tU3RyaW5nKGUsXCJ0ZXh0L3htbFwiKX1jYXRjaChyKXt0PXZvaWQgMH1yZXR1cm4oIXR8fHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGgpJiZldC5lcnJvcihcIkludmFsaWQgWE1MOiBcIitlKSx0fTt2YXIgcG4sZG4saG49LyMuKiQvLGduPS8oWz8mXSlfPVteJl0qLyxtbj0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLHZuPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHluPS9eKD86R0VUfEhFQUQpJC8seG49L15cXC9cXC8vLGJuPS9eKFtcXHcuKy1dKzopKD86XFwvXFwvKD86W15cXC8/I10qQHwpKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLHduPXt9LFRuPXt9LENuPVwiKi9cIi5jb25jYXQoXCIqXCIpO3RyeXtkbj1sb2NhdGlvbi5ocmVmfWNhdGNoKE5uKXtkbj1LLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLGRuLmhyZWY9XCJcIixkbj1kbi5ocmVmfXBuPWJuLmV4ZWMoZG4udG9Mb3dlckNhc2UoKSl8fFtdLGV0LmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6ZG4sdHlwZTpcIkdFVFwiLGlzTG9jYWw6dm4udGVzdChwblsxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6Q24sdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOmV0LnBhcnNlSlNPTixcInRleHQgeG1sXCI6ZXQucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P00oTShlLGV0LmFqYXhTZXR0aW5ncyksdCk6TShldC5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6Rih3biksYWpheFRyYW5zcG9ydDpGKFRuKSxhamF4OmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQsbixzKXt2YXIgdSxjLHYseSxiLFQ9dDsyIT09eCYmKHg9MixhJiZjbGVhclRpbWVvdXQoYSkscj12b2lkIDAsbz1zfHxcIlwiLHcucmVhZHlTdGF0ZT1lPjA/NDowLHU9ZT49MjAwJiYzMDA+ZXx8MzA0PT09ZSxuJiYoeT1SKGYsdyxuKSkseT1XKGYseSx3LHUpLHU/KGYuaWZNb2RpZmllZCYmKGI9dy5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksYiYmKGV0Lmxhc3RNb2RpZmllZFtpXT1iKSxiPXcuZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpLGImJihldC5ldGFnW2ldPWIpKSwyMDQ9PT1lfHxcIkhFQURcIj09PWYudHlwZT9UPVwibm9jb250ZW50XCI6MzA0PT09ZT9UPVwibm90bW9kaWZpZWRcIjooVD15LnN0YXRlLGM9eS5kYXRhLHY9eS5lcnJvcix1PSF2KSk6KHY9VCwoZXx8IVQpJiYoVD1cImVycm9yXCIsMD5lJiYoZT0wKSkpLHcuc3RhdHVzPWUsdy5zdGF0dXNUZXh0PSh0fHxUKStcIlwiLHU/aC5yZXNvbHZlV2l0aChwLFtjLFQsd10pOmgucmVqZWN0V2l0aChwLFt3LFQsdl0pLHcuc3RhdHVzQ29kZShtKSxtPXZvaWQgMCxsJiZkLnRyaWdnZXIodT9cImFqYXhTdWNjZXNzXCI6XCJhamF4RXJyb3JcIixbdyxmLHU/Yzp2XSksZy5maXJlV2l0aChwLFt3LFRdKSxsJiYoZC50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW3csZl0pLC0tZXQuYWN0aXZlfHxldC5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIikpKX1cIm9iamVjdFwiPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksdD10fHx7fTt2YXIgcixpLG8scyxhLHUsbCxjLGY9ZXQuYWpheFNldHVwKHt9LHQpLHA9Zi5jb250ZXh0fHxmLGQ9Zi5jb250ZXh0JiYocC5ub2RlVHlwZXx8cC5qcXVlcnkpP2V0KHApOmV0LmV2ZW50LGg9ZXQuRGVmZXJyZWQoKSxnPWV0LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLG09Zi5zdGF0dXNDb2RlfHx7fSx2PXt9LHk9e30seD0wLGI9XCJjYW5jZWxlZFwiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZigyPT09eCl7aWYoIXMpZm9yKHM9e307dD1tbi5leGVjKG8pOylzW3RbMV0udG9Mb3dlckNhc2UoKV09dFsyXTt0PXNbZS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09dD9udWxsOnR9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09eD9vOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHh8fChlPXlbbl09eVtuXXx8ZSx2W2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHh8fChmLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZigyPngpZm9yKHQgaW4gZSltW3RdPVttW3RdLGVbdF1dO2Vsc2Ugdy5hbHdheXMoZVt3LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihlKXt2YXIgdD1lfHxiO3JldHVybiByJiZyLmFib3J0KHQpLG4oMCx0KSx0aGlzfX07aWYoaC5wcm9taXNlKHcpLmNvbXBsZXRlPWcuYWRkLHcuc3VjY2Vzcz13LmRvbmUsdy5lcnJvcj13LmZhaWwsZi51cmw9KChlfHxmLnVybHx8ZG4pK1wiXCIpLnJlcGxhY2UoaG4sXCJcIikucmVwbGFjZSh4bixwblsxXStcIi8vXCIpLGYudHlwZT10Lm1ldGhvZHx8dC50eXBlfHxmLm1ldGhvZHx8Zi50eXBlLGYuZGF0YVR5cGVzPWV0LnRyaW0oZi5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goZHQpfHxbXCJcIl0sbnVsbD09Zi5jcm9zc0RvbWFpbiYmKHU9Ym4uZXhlYyhmLnVybC50b0xvd2VyQ2FzZSgpKSxmLmNyb3NzRG9tYWluPSEoIXV8fHVbMV09PT1wblsxXSYmdVsyXT09PXBuWzJdJiYodVszXXx8KFwiaHR0cDpcIj09PXVbMV0/XCI4MFwiOlwiNDQzXCIpKT09PShwblszXXx8KFwiaHR0cDpcIj09PXBuWzFdP1wiODBcIjpcIjQ0M1wiKSkpKSxmLmRhdGEmJmYucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBmLmRhdGEmJihmLmRhdGE9ZXQucGFyYW0oZi5kYXRhLGYudHJhZGl0aW9uYWwpKSxQKHduLGYsdCx3KSwyPT09eClyZXR1cm4gdztsPWYuZ2xvYmFsLGwmJjA9PT1ldC5hY3RpdmUrKyYmZXQuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxmLnR5cGU9Zi50eXBlLnRvVXBwZXJDYXNlKCksZi5oYXNDb250ZW50PSF5bi50ZXN0KGYudHlwZSksaT1mLnVybCxmLmhhc0NvbnRlbnR8fChmLmRhdGEmJihpPWYudXJsKz0oZm4udGVzdChpKT9cIiZcIjpcIj9cIikrZi5kYXRhLGRlbGV0ZSBmLmRhdGEpLGYuY2FjaGU9PT0hMSYmKGYudXJsPWduLnRlc3QoaSk/aS5yZXBsYWNlKGduLFwiJDFfPVwiK2NuKyspOmkrKGZuLnRlc3QoaSk/XCImXCI6XCI/XCIpK1wiXz1cIitjbisrKSksZi5pZk1vZGlmaWVkJiYoZXQubGFzdE1vZGlmaWVkW2ldJiZ3LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLGV0Lmxhc3RNb2RpZmllZFtpXSksZXQuZXRhZ1tpXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLGV0LmV0YWdbaV0pKSwoZi5kYXRhJiZmLmhhc0NvbnRlbnQmJmYuY29udGVudFR5cGUhPT0hMXx8dC5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGYuY29udGVudFR5cGUpLHcuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLGYuZGF0YVR5cGVzWzBdJiZmLmFjY2VwdHNbZi5kYXRhVHlwZXNbMF1dP2YuYWNjZXB0c1tmLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09Zi5kYXRhVHlwZXNbMF0/XCIsIFwiK0NuK1wiOyBxPTAuMDFcIjpcIlwiKTpmLmFjY2VwdHNbXCIqXCJdKTtmb3IoYyBpbiBmLmhlYWRlcnMpdy5zZXRSZXF1ZXN0SGVhZGVyKGMsZi5oZWFkZXJzW2NdKTtpZihmLmJlZm9yZVNlbmQmJihmLmJlZm9yZVNlbmQuY2FsbChwLHcsZik9PT0hMXx8Mj09PXgpKXJldHVybiB3LmFib3J0KCk7Yj1cImFib3J0XCI7Zm9yKGMgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pd1tjXShmW2NdKTtpZihyPVAoVG4sZix0LHcpKXt3LnJlYWR5U3RhdGU9MSxsJiZkLnRyaWdnZXIoXCJhamF4U2VuZFwiLFt3LGZdKSxmLmFzeW5jJiZmLnRpbWVvdXQ+MCYmKGE9c2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoXCJ0aW1lb3V0XCIpfSxmLnRpbWVvdXQpKTt0cnl7eD0xLHIuc2VuZCh2LG4pfWNhdGNoKFQpe2lmKCEoMj54KSl0aHJvdyBUO24oLTEsVCl9fWVsc2UgbigtMSxcIk5vIFRyYW5zcG9ydFwiKTtyZXR1cm4gd30sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGV0LmdldChlLHQsbixcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBldC5nZXQoZSx2b2lkIDAsdCxcInNjcmlwdFwiKX19KSxldC5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihlLHQpe2V0W3RdPWZ1bmN0aW9uKGUsbixyLGkpe3JldHVybiBldC5pc0Z1bmN0aW9uKG4pJiYoaT1pfHxyLHI9bixuPXZvaWQgMCksZXQuYWpheCh7dXJsOmUsdHlwZTp0LGRhdGFUeXBlOmksZGF0YTpuLHN1Y2Nlc3M6cn0pfX0pLGV0LmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihlLHQpe2V0LmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSksZXQuX2V2YWxVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LmFqYXgoe3VybDplLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LGV0LmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZXQuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7ZXQodGhpcykud3JhcEFsbChlLmNhbGwodGhpcyx0KSl9KToodGhpc1swXSYmKHQ9ZXQoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7ZS5maXJzdEVsZW1lbnRDaGlsZDspZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZXQuaXNGdW5jdGlvbihlKT9mdW5jdGlvbih0KXtldCh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfTpmdW5jdGlvbigpe3ZhciB0PWV0KHRoaXMpLG49dC5jb250ZW50cygpO24ubGVuZ3RoP24ud3JhcEFsbChlKTp0LmFwcGVuZChlKX0pfSx3cmFwOmZ1bmN0aW9uKGUpe3ZhciB0PWV0LmlzRnVuY3Rpb24oZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXtldCh0aGlzKS53cmFwQWxsKHQ/ZS5jYWxsKHRoaXMsbik6ZSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2V0Lm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxldCh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksZXQuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5vZmZzZXRXaWR0aDw9MCYmZS5vZmZzZXRIZWlnaHQ8PTB9LGV0LmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiFldC5leHByLmZpbHRlcnMuaGlkZGVuKGUpfTt2YXIga249LyUyMC9nLEVuPS9cXFtcXF0kLyxEbj0vXFxyP1xcbi9nLGpuPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxTbj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZXQucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24oZSx0KXt0PWV0LmlzRnVuY3Rpb24odCk/dCgpOm51bGw9PXQ/XCJcIjp0LHJbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCl9O2lmKHZvaWQgMD09PXQmJih0PWV0LmFqYXhTZXR0aW5ncyYmZXQuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxldC5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIWV0LmlzUGxhaW5PYmplY3QoZSkpZXQuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpJChuLGVbbl0sdCxpKTtyZXR1cm4gci5qb2luKFwiJlwiKS5yZXBsYWNlKGtuLFwiK1wiKX0sZXQuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZXQucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1ldC5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gZT9ldC5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhZXQodGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJlNuLnRlc3QodGhpcy5ub2RlTmFtZSkmJiFqbi50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhTnQudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1ldCh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOmV0LmlzQXJyYXkobik/ZXQubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShEbixcIlxcclxcblwiKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKERuLFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pLGV0LmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9fTt2YXIgQW49MCxMbj17fSxxbj17MDoyMDAsMTIyMzoyMDR9LEhuPWV0LmFqYXhTZXR0aW5ncy54aHIoKTtlLkFjdGl2ZVhPYmplY3QmJmV0KGUpLm9uKFwidW5sb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gTG4pTG5bZV0oKX0pLEouY29ycz0hIUhuJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gSG4sSi5hamF4PUhuPSEhSG4sZXQuYWpheFRyYW5zcG9ydChmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gSi5jb3JzfHxIbiYmIWUuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24obixyKXt2YXIgaSxvPWUueGhyKCkscz0rK0FuO2lmKG8ub3BlbihlLnR5cGUsZS51cmwsZS5hc3luYyxlLnVzZXJuYW1lLGUucGFzc3dvcmQpLGUueGhyRmllbGRzKWZvcihpIGluIGUueGhyRmllbGRzKW9baV09ZS54aHJGaWVsZHNbaV07ZS5taW1lVHlwZSYmby5vdmVycmlkZU1pbWVUeXBlJiZvLm92ZXJyaWRlTWltZVR5cGUoZS5taW1lVHlwZSksZS5jcm9zc0RvbWFpbnx8bltcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChuW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihpIGluIG4pby5zZXRSZXF1ZXN0SGVhZGVyKGksbltpXSk7dD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0JiYoZGVsZXRlIExuW3NdLHQ9by5vbmxvYWQ9by5vbmVycm9yPW51bGwsXCJhYm9ydFwiPT09ZT9vLmFib3J0KCk6XCJlcnJvclwiPT09ZT9yKG8uc3RhdHVzLG8uc3RhdHVzVGV4dCk6cihxbltvLnN0YXR1c118fG8uc3RhdHVzLG8uc3RhdHVzVGV4dCxcInN0cmluZ1wiPT10eXBlb2Ygby5yZXNwb25zZVRleHQ/e3RleHQ6by5yZXNwb25zZVRleHR9OnZvaWQgMCxvLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxvLm9ubG9hZD10KCksby5vbmVycm9yPXQoXCJlcnJvclwiKSx0PUxuW3NdPXQoXCJhYm9ydFwiKSxvLnNlbmQoZS5oYXNDb250ZW50JiZlLmRhdGF8fG51bGwpfSxhYm9ydDpmdW5jdGlvbigpe3QmJnQoKX19OnZvaWQgMH0pLGV0LmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihlKXtyZXR1cm4gZXQuZ2xvYmFsRXZhbChlKSxlfX19KSxldC5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5jYWNoZSYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9XCJHRVRcIil9KSxldC5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7aWYoZS5jcm9zc0RvbWFpbil7dmFyIHQsbjtyZXR1cm57c2VuZDpmdW5jdGlvbihyLGkpe3Q9ZXQoXCI8c2NyaXB0PlwiKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmUuc2NyaXB0Q2hhcnNldCxzcmM6ZS51cmx9KS5vbihcImxvYWQgZXJyb3JcIixuPWZ1bmN0aW9uKGUpe3QucmVtb3ZlKCksbj1udWxsLGUmJmkoXCJlcnJvclwiPT09ZS50eXBlPzQwNDoyMDAsZS50eXBlKX0pLEsuaGVhZC5hcHBlbmRDaGlsZCh0WzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuKCl9fX19KTt2YXIgT249W10sRm49Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztldC5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9T24ucG9wKCl8fGV0LmV4cGFuZG8rXCJfXCIrY24rKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLGV0LmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsZnVuY3Rpb24odCxuLHIpe3ZhciBpLG8scyxhPXQuanNvbnAhPT0hMSYmKEZuLnRlc3QodC51cmwpP1widXJsXCI6XCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YSYmISh0LmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiZGbi50ZXN0KHQuZGF0YSkmJlwiZGF0YVwiKTtyZXR1cm4gYXx8XCJqc29ucFwiPT09dC5kYXRhVHlwZXNbMF0/KGk9dC5qc29ucENhbGxiYWNrPWV0LmlzRnVuY3Rpb24odC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2ssYT90W2FdPXRbYV0ucmVwbGFjZShGbixcIiQxXCIraSk6dC5qc29ucCE9PSExJiYodC51cmwrPShmbi50ZXN0KHQudXJsKT9cIiZcIjpcIj9cIikrdC5qc29ucCtcIj1cIitpKSx0LmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBzfHxldC5lcnJvcihpK1wiIHdhcyBub3QgY2FsbGVkXCIpLHNbMF19LHQuZGF0YVR5cGVzWzBdPVwianNvblwiLG89ZVtpXSxlW2ldPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LHIuYWx3YXlzKGZ1bmN0aW9uKCl7ZVtpXT1vLHRbaV0mJih0Lmpzb25wQ2FsbGJhY2s9bi5qc29ucENhbGxiYWNrLE9uLnB1c2goaSkpLHMmJmV0LmlzRnVuY3Rpb24obykmJm8oc1swXSkscz1vPXZvaWQgMH0pLFwic2NyaXB0XCIpOnZvaWQgMH0pLGV0LnBhcnNlSFRNTD1mdW5jdGlvbihlLHQsbil7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBudWxsO1wiYm9vbGVhblwiPT10eXBlb2YgdCYmKG49dCx0PSExKSx0PXR8fEs7dmFyIHI9c3QuZXhlYyhlKSxpPSFuJiZbXTtyZXR1cm4gcj9bdC5jcmVhdGVFbGVtZW50KHJbMV0pXToocj1ldC5idWlsZEZyYWdtZW50KFtlXSx0LGkpLGkmJmkubGVuZ3RoJiZldChpKS5yZW1vdmUoKSxldC5tZXJnZShbXSxyLmNoaWxkTm9kZXMpKX07dmFyIFBuPWV0LmZuLmxvYWQ7ZXQuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJlBuKXJldHVybiBQbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHIsaSxvLHM9dGhpcyxhPWUuaW5kZXhPZihcIiBcIik7cmV0dXJuIGE+PTAmJihyPWUuc2xpY2UoYSksZT1lLnNsaWNlKDAsYSkpLGV0LmlzRnVuY3Rpb24odCk/KG49dCx0PXZvaWQgMCk6dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihpPVwiUE9TVFwiKSxzLmxlbmd0aD4wJiZldC5hamF4KHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6XCJodG1sXCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxzLmh0bWwocj9ldChcIjxkaXY+XCIpLmFwcGVuZChldC5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5jb21wbGV0ZShuJiZmdW5jdGlvbihlLHQpe3MuZWFjaChuLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pLHRoaXN9LGV0LmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZXQuZ3JlcChldC50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9O3ZhciBNbj1lLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtldC5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYSx1LGwsYz1ldC5jc3MoZSxcInBvc2l0aW9uXCIpLGY9ZXQoZSkscD17fTtcInN0YXRpY1wiPT09YyYmKGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxhPWYub2Zmc2V0KCksbz1ldC5jc3MoZSxcInRvcFwiKSx1PWV0LmNzcyhlLFwibGVmdFwiKSxsPShcImFic29sdXRlXCI9PT1jfHxcImZpeGVkXCI9PT1jKSYmKG8rdSkuaW5kZXhPZihcImF1dG9cIik+LTEsbD8ocj1mLnBvc2l0aW9uKCkscz1yLnRvcCxpPXIubGVmdCk6KHM9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLGV0LmlzRnVuY3Rpb24odCkmJih0PXQuY2FsbChlLG4sYSkpLG51bGwhPXQudG9wJiYocC50b3A9dC50b3AtYS50b3ArcyksbnVsbCE9dC5sZWZ0JiYocC5sZWZ0PXQubGVmdC1hLmxlZnQraSksXCJ1c2luZ1wiaW4gdD90LnVzaW5nLmNhbGwoZSxwKTpmLmNzcyhwKX19LGV0LmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWU/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7ZXQub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9LG89ciYmci5vd25lckRvY3VtZW50O2lmKG8pcmV0dXJuIHQ9by5kb2N1bWVudEVsZW1lbnQsZXQuY29udGFpbnModCxyKT8odHlwZW9mIHIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09a3QmJihpPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLG49QihvKSx7dG9wOmkudG9wK24ucGFnZVlPZmZzZXQtdC5jbGllbnRUb3AsbGVmdDppLmxlZnQrbi5wYWdlWE9mZnNldC10LmNsaWVudExlZnR9KTppfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbj10aGlzWzBdLHI9e3RvcDowLGxlZnQ6MH07cmV0dXJuXCJmaXhlZFwiPT09ZXQuY3NzKG4sXCJwb3NpdGlvblwiKT90PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGU9dGhpcy5vZmZzZXRQYXJlbnQoKSx0PXRoaXMub2Zmc2V0KCksZXQubm9kZU5hbWUoZVswXSxcImh0bWxcIil8fChyPWUub2Zmc2V0KCkpLHIudG9wKz1ldC5jc3MoZVswXSxcImJvcmRlclRvcFdpZHRoXCIsITApLHIubGVmdCs9ZXQuY3NzKGVbMF0sXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpLHt0b3A6dC50b3Atci50b3AtZXQuY3NzKG4sXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDp0LmxlZnQtci5sZWZ0LWV0LmNzcyhuLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5vZmZzZXRQYXJlbnR8fE1uO2UmJiFldC5ub2RlTmFtZShlLFwiaHRtbFwiKSYmXCJzdGF0aWNcIj09PWV0LmNzcyhlLFwicG9zaXRpb25cIik7KWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fE1ufSl9fSksZXQuZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24odCxuKXt2YXIgcj1cInBhZ2VZT2Zmc2V0XCI9PT1uO2V0LmZuW3RdPWZ1bmN0aW9uKGkpe3JldHVybiBtdCh0aGlzLGZ1bmN0aW9uKHQsaSxvKXt2YXIgcz1CKHQpO3JldHVybiB2b2lkIDA9PT1vP3M/c1tuXTp0W2ldOnZvaWQocz9zLnNjcm9sbFRvKHI/ZS5wYWdlWE9mZnNldDpvLHI/bzplLnBhZ2VZT2Zmc2V0KTp0W2ldPW8pfSx0LGksYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxldC5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihlLHQpe2V0LmNzc0hvb2tzW3RdPVQoSi5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGUsbil7cmV0dXJuIG4/KG49dyhlLHQpLEl0LnRlc3Qobik/ZXQoZSkucG9zaXRpb24oKVt0XStcInB4XCI6bik6dm9pZCAwfSl9KSxldC5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGUsdCl7ZXQuZWFjaCh7cGFkZGluZzpcImlubmVyXCIrZSxjb250ZW50OnQsXCJcIjpcIm91dGVyXCIrZX0sZnVuY3Rpb24obixyKXtldC5mbltyXT1mdW5jdGlvbihyLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihufHxcImJvb2xlYW5cIiE9dHlwZW9mIHIpLHM9bnx8KHI9PT0hMHx8aT09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIG10KHRoaXMsZnVuY3Rpb24odCxuLHIpe3ZhciBpO3JldHVybiBldC5pc1dpbmRvdyh0KT90LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2VdOjk9PT10Lm5vZGVUeXBlPyhpPXQuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KHQuYm9keVtcInNjcm9sbFwiK2VdLGlbXCJzY3JvbGxcIitlXSx0LmJvZHlbXCJvZmZzZXRcIitlXSxpW1wib2Zmc2V0XCIrZV0saVtcImNsaWVudFwiK2VdKSk6dm9pZCAwPT09cj9ldC5jc3ModCxuLHMpOmV0LnN0eWxlKHQsbixyLHMpfSx0LG8/cjp2b2lkIDAsbyxudWxsKX19KX0pLGV0LmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LGV0LmZuLmFuZFNlbGY9ZXQuZm4uYWRkQmFjayxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV0fSk7dmFyIFJuPWUualF1ZXJ5LFduPWUuJDtyZXR1cm4gZXQubm9Db25mbGljdD1mdW5jdGlvbih0KXtyZXR1cm4gZS4kPT09ZXQmJihlLiQ9V24pLHQmJmUualF1ZXJ5PT09ZXQmJihlLmpRdWVyeT1SbiksZXR9LHR5cGVvZiB0PT09a3QmJihlLmpRdWVyeT1lLiQ9ZXQpLGV0fSk7IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYXJyYXlGaXJzdChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHQoZVtyXSxyKT09PSEwKXJldHVybiBlW3JdO3JldHVybiExfWZ1bmN0aW9uIHlhbmtFcnJvcihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt0fHxyWzBdLmVycm9yP2NhbGwoZSx0fHxyWzBdKTpjYWxsKGUsbnVsbCxyWzBdKX19ZnVuY3Rpb24gY29tcHV0ZUhlaWdodChlKXt2YXIgdD17fSxyPVtdO3JldHVybiBtZXJnZS50cmF2ZXJzZVJldlRyZWUoZSxmdW5jdGlvbihlLGksbyxhKXt2YXIgbj1pK1wiLVwiK287cmV0dXJuIGUmJih0W25dPTApLHZvaWQgMCE9PWEmJnIucHVzaCh7ZnJvbTphLHRvOm59KSxufSksci5yZXZlcnNlKCksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZS5mcm9tXT12b2lkIDA9PT10W2UuZnJvbV0/MSt0W2UudG9dOk1hdGgubWluKHRbZS5mcm9tXSwxK3RbZS50b10pfSksdH12YXIgdXRpbHM9cmVxdWlyZShcIi4vdXRpbHNcIiksbWVyZ2U9cmVxdWlyZShcIi4vbWVyZ2VcIiksZXJyb3JzPXJlcXVpcmUoXCIuL2RlcHMvZXJyb3JzXCIpLGNhbGw9dXRpbHMuY2FsbDttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihQb3VjaCl7cmV0dXJuIGZ1bmN0aW9uKG9wdHMsY2FsbGJhY2spe2Z1bmN0aW9uIGF1dG9Db21wYWN0KGUpe3JldHVybiBhdXRvX2NvbXBhY3Rpb24/ZnVuY3Rpb24odCxyKXtpZih0KWNhbGwoZSx0KTtlbHNle3ZhciBpPXIubGVuZ3RoLG89ZnVuY3Rpb24oKXtpLS0saXx8Y2FsbChlLG51bGwscil9O3IuZm9yRWFjaChmdW5jdGlvbihlKXtlLm9rP2NvbXBhY3REb2N1bWVudChlLmlkLDEsbyk6bygpfSl9fTplfWZ1bmN0aW9uIGNvbXBhY3REb2N1bWVudChlLHQscil7Y3VzdG9tQXBpLl9nZXRSZXZpc2lvblRyZWUoZSxmdW5jdGlvbihpLG8pe2lmKGkpcmV0dXJuIGNhbGwocik7dmFyIGE9Y29tcHV0ZUhlaWdodChvKSxuPVtdLHM9W107T2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPnQmJm4ucHVzaChlKX0pLG1lcmdlLnRyYXZlcnNlUmV2VHJlZShvLGZ1bmN0aW9uKGUsdCxyLGksbyl7dmFyIGE9dCtcIi1cIityO1wiYXZhaWxhYmxlXCI9PT1vLnN0YXR1cyYmLTEhPT1uLmluZGV4T2YoYSkmJihvLnN0YXR1cz1cIm1pc3NpbmdcIixzLnB1c2goYSkpfSksY3VzdG9tQXBpLl9kb0NvbXBhY3Rpb24oZSxvLHMscil9KX1mdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGUsdCxyKXt2YXIgaT1be3JldjplLl9yZXZ9XTtcImFsbF9kb2NzXCI9PT1yLnN0eWxlJiYoaT1tZXJnZS5jb2xsZWN0TGVhdmVzKHQucmV2X3RyZWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57cmV2OmUucmV2fX0pKTt2YXIgbz17aWQ6dC5pZCxjaGFuZ2VzOmksZG9jOmV9O3JldHVybiB1dGlscy5pc0RlbGV0ZWQodCxlLl9yZXYpJiYoby5kZWxldGVkPSEwKSxyLmNvbmZsaWN0cyYmKG8uZG9jLl9jb25mbGljdHM9bWVyZ2UuY29sbGVjdENvbmZsaWN0cyh0KSxvLmRvYy5fY29uZmxpY3RzLmxlbmd0aHx8ZGVsZXRlIG8uZG9jLl9jb25mbGljdHMpLG99dmFyIGFwaT17fSxjdXN0b21BcGk9UG91Y2guYWRhcHRlcnNbb3B0cy5hZGFwdGVyXShvcHRzLGZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gdm9pZChjYWxsYmFjayYmY2FsbGJhY2soZSkpO2Zvcih2YXIgciBpbiBhcGkpdC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09YXBpW3JdKTtvcHRzLm5hbWU9PT1Qb3VjaC5wcmVmaXgrUG91Y2guQUxMX0RCUz9jYWxsYmFjayhlLHQpOlBvdWNoLm9wZW4ob3B0cyxmdW5jdGlvbihlKXtjYWxsYmFjayhlLHQpfSl9KSxhdXRvX2NvbXBhY3Rpb249b3B0cy5hdXRvX2NvbXBhY3Rpb249PT0hMDthcGkucG9zdD1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxcIm9iamVjdFwiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKT9jYWxsKHIsZXJyb3JzLk5PVF9BTl9PQkpFQ1QpOmN1c3RvbUFwaS5idWxrRG9jcyh7ZG9jczpbZV19LHQsYXV0b0NvbXBhY3QoeWFua0Vycm9yKHIpKSl9LGFwaS5wdXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXCJvYmplY3RcIiE9dHlwZW9mIGU/Y2FsbChyLGVycm9ycy5OT1RfQU5fT0JKRUNUKTp1dGlscy5pc1ZhbGlkSWQoZS5faWQpP2N1c3RvbUFwaS5idWxrRG9jcyh7ZG9jczpbZV19LHQsYXV0b0NvbXBhY3QoeWFua0Vycm9yKHIpKSk6Y2FsbChyLGVycm9ycy5NSVNTSU5HX0lEKX0sYXBpLnB1dEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LHIsaSxvLGEpe2Z1bmN0aW9uIG4oZSl7ZS5fYXR0YWNobWVudHM9ZS5fYXR0YWNobWVudHN8fHt9LGUuX2F0dGFjaG1lbnRzW3RdPXtjb250ZW50X3R5cGU6byxkYXRhOml9LGFwaS5wdXQoZSxhKX1yZXR1cm4gYXBpLnRhc2txdWV1ZS5yZWFkeSgpPyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiYoYT1vLG89aSxpPXIscj1udWxsKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgbyYmKG89aSxpPXIscj1udWxsKSx2b2lkIGFwaS5nZXQoZSxmdW5jdGlvbih0LGkpe3JldHVybiB0JiZ0LmVycm9yPT09ZXJyb3JzLk1JU1NJTkdfRE9DLmVycm9yP3ZvaWQgbih7X2lkOmV9KTp0P3ZvaWQgY2FsbChhLHQpOmkuX3JldiE9PXI/dm9pZCBjYWxsKGEsZXJyb3JzLlJFVl9DT05GTElDVCk6dm9pZCBuKGkpfSkpOnZvaWQgYXBpLnRhc2txdWV1ZS5hZGRUYXNrKFwicHV0QXR0YWNobWVudFwiLGFyZ3VtZW50cyl9LGFwaS5yZW1vdmVBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCxyLGkpe2FwaS5nZXQoZSxmdW5jdGlvbihlLG8pe3JldHVybiBlP3ZvaWQgY2FsbChpLGUpOm8uX3JldiE9PXI/dm9pZCBjYWxsKGksZXJyb3JzLlJFVl9DT05GTElDVCk6by5fYXR0YWNobWVudHM/KGRlbGV0ZSBvLl9hdHRhY2htZW50c1t0XSwwPT09T2JqZWN0LmtleXMoby5fYXR0YWNobWVudHMpLmxlbmd0aCYmZGVsZXRlIG8uX2F0dGFjaG1lbnRzLHZvaWQgYXBpLnB1dChvLGkpKTpjYWxsKGksbnVsbCl9KX0sYXBpLnJlbW92ZT1mdW5jdGlvbihlLHQscil7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSx2b2lkIDA9PT10JiYodD17fSksdC53YXNfZGVsZXRlPSEwO3ZhciBpPXtfaWQ6ZS5faWQsX3JldjplLl9yZXZ9O3JldHVybiBpLl9kZWxldGVkPSEwLGN1c3RvbUFwaS5idWxrRG9jcyh7ZG9jczpbaV19LHQseWFua0Vycm9yKHIpKX0sYXBpLnJldnNEaWZmPWZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKGUsdCl7c1tlXXx8KHNbZV09e21pc3Npbmc6W119KSxzW2VdLm1pc3NpbmcucHVzaCh0KX1mdW5jdGlvbiBvKHQscil7dmFyIG89ZVt0XS5zbGljZSgwKTttZXJnZS50cmF2ZXJzZVJldlRyZWUocixmdW5jdGlvbihlLHIsYSxuLHMpe3ZhciBjPXIrXCItXCIrYSx1PW8uaW5kZXhPZihjKTstMSE9PXUmJihvLnNwbGljZSh1LDEpLFwiYXZhaWxhYmxlXCIhPT1zLnN0YXR1cyYmaSh0LGMpKX0pLG8uZm9yRWFjaChmdW5jdGlvbihlKXtpKHQsZSl9KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pO3ZhciBhPU9iamVjdC5rZXlzKGUpLG49MCxzPXt9O2EubWFwKGZ1bmN0aW9uKHQpe2N1c3RvbUFwaS5fZ2V0UmV2aXNpb25UcmVlKHQsZnVuY3Rpb24oaSxjKXtpZihpJiZcIm5vdF9mb3VuZFwiPT09aS5uYW1lJiZcIm1pc3NpbmdcIj09PWkubWVzc2FnZSlzW3RdPXttaXNzaW5nOmVbdF19O2Vsc2V7aWYoaSlyZXR1cm4gY2FsbChyLGkpO28odCxjKX1yZXR1cm4rK249PT1hLmxlbmd0aD9jYWxsKHIsbnVsbCxzKTp2b2lkIDB9KX0pfSxhcGkuY29tcGFjdD1mdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSksYXBpLmNoYW5nZXMoe2NvbXBsZXRlOmZ1bmN0aW9uKGUscil7aWYoZSlyZXR1cm4gdm9pZCBjYWxsKHQpO3ZhciBpPXIucmVzdWx0cy5sZW5ndGg7cmV0dXJuIGk/dm9pZCByLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbihlKXtjb21wYWN0RG9jdW1lbnQoZS5pZCwwLGZ1bmN0aW9uKCl7aS0tLGl8fGNhbGwodCl9KX0pOnZvaWQgY2FsbCh0KX19KX0sYXBpLmdldD1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaSgpe3ZhciBpPVtdLGE9by5sZW5ndGg7cmV0dXJuIGE/dm9pZCBvLmZvckVhY2goZnVuY3Rpb24obyl7YXBpLmdldChlLHtyZXY6byxyZXZzOnQucmV2c30sZnVuY3Rpb24oZSx0KXtpLnB1c2goZT97bWlzc2luZzpvfTp7b2s6dH0pLGEtLSxhfHxjYWxsKHIsbnVsbCxpKX0pfSk6Y2FsbChyLG51bGwsaSl9aWYoIWFwaS50YXNrcXVldWUucmVhZHkoKSlyZXR1cm4gdm9pZCBhcGkudGFza3F1ZXVlLmFkZFRhc2soXCJnZXRcIixhcmd1bWVudHMpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSk7dmFyIG89W107e2lmKCF0Lm9wZW5fcmV2cylyZXR1cm4gY3VzdG9tQXBpLl9nZXQoZSx0LGZ1bmN0aW9uKGUsaSl7aWYoZSlyZXR1cm4gY2FsbChyLGUpO3ZhciBvPWkuZG9jLGE9aS5tZXRhZGF0YSxuPWkuY3R4O2lmKHQuY29uZmxpY3RzKXt2YXIgcz1tZXJnZS5jb2xsZWN0Q29uZmxpY3RzKGEpO3MubGVuZ3RoJiYoby5fY29uZmxpY3RzPXMpfWlmKHQucmV2c3x8dC5yZXZzX2luZm8pe3ZhciBjPW1lcmdlLnJvb3RUb0xlYWYoYS5yZXZfdHJlZSksdT1hcnJheUZpcnN0KGMsZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KS5pbmRleE9mKG8uX3Jldi5zcGxpdChcIi1cIilbMV0pfSk7aWYodS5pZHMuc3BsaWNlKHUuaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pLmluZGV4T2Yoby5fcmV2LnNwbGl0KFwiLVwiKVsxXSkrMSksdS5pZHMucmV2ZXJzZSgpLHQucmV2cyYmKG8uX3JldmlzaW9ucz17c3RhcnQ6dS5wb3MrdS5pZHMubGVuZ3RoLTEsaWRzOnUuaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pfSksdC5yZXZzX2luZm8pe3ZhciBsPXUucG9zK3UuaWRzLmxlbmd0aDtvLl9yZXZzX2luZm89dS5pZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBsLS0se3JldjpsK1wiLVwiK2UuaWQsc3RhdHVzOmUub3B0cy5zdGF0dXN9fSl9fWlmKHQubG9jYWxfc2VxJiYoby5fbG9jYWxfc2VxPWkubWV0YWRhdGEuc2VxKSx0LmF0dGFjaG1lbnRzJiZvLl9hdHRhY2htZW50cyl7dmFyIHA9by5fYXR0YWNobWVudHMsZj1PYmplY3Qua2V5cyhwKS5sZW5ndGg7aWYoMD09PWYpcmV0dXJuIGNhbGwocixudWxsLG8pO09iamVjdC5rZXlzKHApLmZvckVhY2goZnVuY3Rpb24oZSl7Y3VzdG9tQXBpLl9nZXRBdHRhY2htZW50KHBbZV0se2VuY29kZTohMCxjdHg6bn0sZnVuY3Rpb24odCxpKXtvLl9hdHRhY2htZW50c1tlXS5kYXRhPWksLS1mfHxjYWxsKHIsbnVsbCxvKX0pfSl9ZWxzZXtpZihvLl9hdHRhY2htZW50cylmb3IodmFyIGQgaW4gby5fYXR0YWNobWVudHMpby5fYXR0YWNobWVudHNbZF0uc3R1Yj0hMDtjYWxsKHIsbnVsbCxvKX19KTtpZihcImFsbFwiPT09dC5vcGVuX3JldnMpY3VzdG9tQXBpLl9nZXRSZXZpc2lvblRyZWUoZSxmdW5jdGlvbihlLHQpe2UmJih0PVtdKSxvPW1lcmdlLmNvbGxlY3RMZWF2ZXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldn0pLGkoKX0pO2Vsc2V7aWYoIUFycmF5LmlzQXJyYXkodC5vcGVuX3JldnMpKXJldHVybiBjYWxsKHIsZXJyb3JzLmVycm9yKGVycm9ycy5VTktOT1dOX0VSUk9SLFwiZnVuY3Rpb25fY2xhdXNlXCIpKTtvPXQub3Blbl9yZXZzO2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgbj1vW2FdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBufHwhL15cXGQrLS8udGVzdChuKSlyZXR1cm4gY2FsbChyLGVycm9ycy5lcnJvcihlcnJvcnMuQkFEX1JFUVVFU1QsXCJJbnZhbGlkIHJldiBmb3JtYXRcIikpfWkoKX19fSxhcGkuZ2V0QXR0YWNobWVudD1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gYXBpLnRhc2txdWV1ZS5yZWFkeSgpPyhyIGluc3RhbmNlb2YgRnVuY3Rpb24mJihpPXIscj17fSksdm9pZCBjdXN0b21BcGkuX2dldChlLHIsZnVuY3Rpb24oZSxvKXtyZXR1cm4gZT9jYWxsKGksZSk6by5kb2MuX2F0dGFjaG1lbnRzJiZvLmRvYy5fYXR0YWNobWVudHNbdF0/KHIuY3R4PW8uY3R4LHZvaWQgY3VzdG9tQXBpLl9nZXRBdHRhY2htZW50KG8uZG9jLl9hdHRhY2htZW50c1t0XSxyLGkpKTpjYWxsKGksZXJyb3JzLk1JU1NJTkdfRE9DKX0pKTp2b2lkIGFwaS50YXNrcXVldWUuYWRkVGFzayhcImdldEF0dGFjaG1lbnRcIixhcmd1bWVudHMpfSxhcGkuYWxsRG9jcz1mdW5jdGlvbihlLHQpe2lmKCFhcGkudGFza3F1ZXVlLnJlYWR5KCkpcmV0dXJuIHZvaWQgYXBpLnRhc2txdWV1ZS5hZGRUYXNrKFwiYWxsRG9jc1wiLGFyZ3VtZW50cyk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KSxcImtleXNcImluIGUpe2lmKFwic3RhcnRrZXlcImluIGUpcmV0dXJuIHZvaWQgY2FsbCh0LGVycm9ycy5lcnJvcihlcnJvcnMuUVVFUllfUEFSU0VfRVJST1IsXCJRdWVyeSBwYXJhbWV0ZXIgYHN0YXJ0X2tleWAgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXRcIikpO2lmKFwiZW5ka2V5XCJpbiBlKXJldHVybiB2b2lkIGNhbGwodCxlcnJvcnMuZXJyb3IoZXJyb3JzLlFVRVJZX1BBUlNFX0VSUk9SLFwiUXVlcnkgcGFyYW1ldGVyIGBlbmRfa2V5YCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG11bHRpLWdldFwiKSl9cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUuc2tpcCYmKGUuc2tpcD0wKSxjdXN0b21BcGkuX2FsbERvY3MoZSx0KX0sYXBpLmNoYW5nZXM9ZnVuY3Rpb24ob3B0cyl7aWYoIWFwaS50YXNrcXVldWUucmVhZHkoKSl7dmFyIHRhc2s9YXBpLnRhc2txdWV1ZS5hZGRUYXNrKFwiY2hhbmdlc1wiLGFyZ3VtZW50cyk7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0YXNrLnRhc2s/dGFzay50YXNrLmNhbmNlbCgpOihQb3VjaC5ERUJVRyx2b2lkKHRhc2sucGFyYW1ldGVyc1swXS5hYm9ydGVkPSEwKSl9fX1pZihvcHRzPXV0aWxzLmV4dGVuZCghMCx7fSxvcHRzKSxvcHRzLnByb2Nlc3NDaGFuZ2U9cHJvY2Vzc0NoYW5nZSxvcHRzLnNpbmNlfHwob3B0cy5zaW5jZT0wKSxcImxhdGVzdFwiPT09b3B0cy5zaW5jZSl7dmFyIGNoYW5nZXM7cmV0dXJuIGFwaS5pbmZvKGZ1bmN0aW9uKGUsdCl7b3B0cy5hYm9ydGVkfHwob3B0cy5zaW5jZT10LnVwZGF0ZV9zZXEtMSxhcGkuY2hhbmdlcyhvcHRzKSl9KSx7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIGNoYW5nZXM/Y2hhbmdlcy5jYW5jZWwoKTooUG91Y2guREVCVUcsdm9pZChvcHRzLmFib3J0ZWQ9ITApKX19fWlmKG9wdHMuZmlsdGVyJiZcInN0cmluZ1wiPT10eXBlb2Ygb3B0cy5maWx0ZXIpe2lmKFwiX3ZpZXdcIj09PW9wdHMuZmlsdGVyKWlmKG9wdHMudmlldyYmXCJzdHJpbmdcIj09dHlwZW9mIG9wdHMudmlldyl7dmFyIHZpZXdOYW1lPW9wdHMudmlldy5zcGxpdChcIi9cIik7YXBpLmdldChcIl9kZXNpZ24vXCIrdmlld05hbWVbMF0sZnVuY3Rpb24oZXJyLGRkb2Mpe2lmKGRkb2MmJmRkb2Mudmlld3MmJmRkb2Mudmlld3Nbdmlld05hbWVbMV1dKXt2YXIgZmlsdGVyPWV2YWwoXCIoZnVuY3Rpb24gKCkgeyAgcmV0dXJuIGZ1bmN0aW9uIChkb2MpIHsgICAgdmFyIGVtaXR0ZWQgPSBmYWxzZTsgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoYSwgYikgeyAgICAgIGVtaXR0ZWQgPSB0cnVlOyAgICB9OyAgICB2YXIgdmlldyA9IFwiK2Rkb2Mudmlld3Nbdmlld05hbWVbMV1dLm1hcCtcIjsgICAgdmlldyhkb2MpOyAgICBpZiAoZW1pdHRlZCkgeyAgICAgIHJldHVybiB0cnVlOyAgICB9ICB9fSkoKVwiKTtvcHRzLmFib3J0ZWR8fChvcHRzLmZpbHRlcj1maWx0ZXIsYXBpLmNoYW5nZXMob3B0cykpfWVsc2V7dmFyIG1zZz1kZG9jLnZpZXdzP1wibWlzc2luZyBqc29uIGtleTogXCIrdmlld05hbWVbMV06XCJtaXNzaW5nIGpzb24ga2V5OiB2aWV3c1wiO2Vycj1lcnJ8fGVycm9ycy5lcnJvcihlcnJvcnMuTUlTU0lOR19ET0MsbXNnKSx1dGlscy5jYWxsKG9wdHMuY29tcGxldGUsZXJyKX19KX1lbHNle3ZhciBlcnI9ZXJyb3JzLmVycm9yKGVycm9ycy5CQURfUkVRVUVTVCxcImB2aWV3YCBmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBwcm92aWRlZC5cIik7dXRpbHMuY2FsbChvcHRzLmNvbXBsZXRlLGVycil9ZWxzZXt2YXIgZmlsdGVyTmFtZT1vcHRzLmZpbHRlci5zcGxpdChcIi9cIik7YXBpLmdldChcIl9kZXNpZ24vXCIrZmlsdGVyTmFtZVswXSxmdW5jdGlvbihlcnIsZGRvYyl7aWYoZGRvYyYmZGRvYy5maWx0ZXJzJiZkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV0pe3ZhciBmaWx0ZXI9ZXZhbChcIihmdW5jdGlvbiAoKSB7IHJldHVybiBcIitkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV0rXCIgfSkoKVwiKTtvcHRzLmFib3J0ZWR8fChvcHRzLmZpbHRlcj1maWx0ZXIsYXBpLmNoYW5nZXMob3B0cykpfWVsc2V7dmFyIG1zZz1kZG9jJiZkZG9jLmZpbHRlcnM/XCJtaXNzaW5nIGpzb24ga2V5OiBcIitmaWx0ZXJOYW1lWzFdOlwibWlzc2luZyBqc29uIGtleTogZmlsdGVyc1wiO2Vycj1lcnJ8fGVycm9ycy5lcnJvcihlcnJvcnMuTUlTU0lOR19ET0MsbXNnKSx1dGlscy5jYWxsKG9wdHMuY29tcGxldGUsZXJyKX19KX1yZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7UG91Y2guREVCVUcmJmNvbnNvbGUubG9nKFwiQ2FuY2VsIENoYW5nZXMgRmVlZFwiKSxvcHRzLmFib3J0ZWQ9ITB9fX1yZXR1cm5cImRlc2NlbmRpbmdcImluIG9wdHN8fChvcHRzLmRlc2NlbmRpbmc9ITEpLG9wdHMubGltaXQ9MD09PW9wdHMubGltaXQ/MTpvcHRzLmxpbWl0LGN1c3RvbUFwaS5fY2hhbmdlcyhvcHRzKX0sYXBpLmNsb3NlPWZ1bmN0aW9uKGUpe3JldHVybiBhcGkudGFza3F1ZXVlLnJlYWR5KCk/Y3VzdG9tQXBpLl9jbG9zZShlKTp2b2lkIGFwaS50YXNrcXVldWUuYWRkVGFzayhcImNsb3NlXCIsYXJndW1lbnRzKX0sYXBpLmluZm89ZnVuY3Rpb24oZSl7cmV0dXJuIGFwaS50YXNrcXVldWUucmVhZHkoKT9jdXN0b21BcGkuX2luZm8oZSk6dm9pZCBhcGkudGFza3F1ZXVlLmFkZFRhc2soXCJpbmZvXCIsYXJndW1lbnRzKX0sYXBpLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIGN1c3RvbUFwaS5faWQoKX0sYXBpLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBjdXN0b21BcGkuX3R5cGU/Y3VzdG9tQXBpLl90eXBlKCk6b3B0cy5hZGFwdGVyfSxhcGkuYnVsa0RvY3M9ZnVuY3Rpb24oZSx0LHIpe2lmKCFhcGkudGFza3F1ZXVlLnJlYWR5KCkpcmV0dXJuIHZvaWQgYXBpLnRhc2txdWV1ZS5hZGRUYXNrKFwiYnVsa0RvY3NcIixhcmd1bWVudHMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksdD10P3V0aWxzLmV4dGVuZCghMCx7fSx0KTp7fSwhZXx8IWUuZG9jc3x8ZS5kb2NzLmxlbmd0aDwxKXJldHVybiBjYWxsKHIsZXJyb3JzLk1JU1NJTkdfQlVMS19ET0NTKTtpZighQXJyYXkuaXNBcnJheShlLmRvY3MpKXJldHVybiBjYWxsKHIsZXJyb3JzLlFVRVJZX1BBUlNFX0VSUk9SKTtmb3IodmFyIGk9MDtpPGUuZG9jcy5sZW5ndGg7KytpKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmRvY3NbaV18fEFycmF5LmlzQXJyYXkoZS5kb2NzW2ldKSlyZXR1cm4gY2FsbChyLGVycm9ycy5OT1RfQU5fT0JKRUNUKTtyZXR1cm4gZT11dGlscy5leHRlbmQoITAse30sZSksXCJuZXdfZWRpdHNcImluIHR8fCh0Lm5ld19lZGl0cz0hMCksY3VzdG9tQXBpLl9idWxrRG9jcyhlLHQsYXV0b0NvbXBhY3QocikpfTt2YXIgdGFza3F1ZXVlPXt9O3Rhc2txdWV1ZS5yZWFkeT0hMSx0YXNrcXVldWUucXVldWU9W10sYXBpLnRhc2txdWV1ZT17fSxhcGkudGFza3F1ZXVlLmV4ZWN1dGU9ZnVuY3Rpb24oZSl7dGFza3F1ZXVlLnJlYWR5JiZ0YXNrcXVldWUucXVldWUuZm9yRWFjaChmdW5jdGlvbih0KXt0LnRhc2s9ZVt0Lm5hbWVdLmFwcGx5KG51bGwsdC5wYXJhbWV0ZXJzKX0pfSxhcGkudGFza3F1ZXVlLnJlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3Rhc2txdWV1ZS5yZWFkeTp2b2lkKHRhc2txdWV1ZS5yZWFkeT1hcmd1bWVudHNbMF0pfSxhcGkudGFza3F1ZXVlLmFkZFRhc2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj17bmFtZTplLHBhcmFtZXRlcnM6dH07cmV0dXJuIHRhc2txdWV1ZS5xdWV1ZS5wdXNoKHIpLHJ9LGFwaS5yZXBsaWNhdGU9e30sYXBpLnJlcGxpY2F0ZS5mcm9tPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLFBvdWNoLnJlcGxpY2F0ZShlLGN1c3RvbUFwaSx0LHIpfSxhcGkucmVwbGljYXRlLnRvPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLFBvdWNoLnJlcGxpY2F0ZShjdXN0b21BcGksZSx0LHIpfTtmb3IodmFyIGogaW4gYXBpKWN1c3RvbUFwaS5oYXNPd25Qcm9wZXJ0eShqKXx8KGN1c3RvbUFwaVtqXT1hcGlbal0pO3JldHVybiBvcHRzLnNraXBTZXR1cCYmKGFwaS50YXNrcXVldWUucmVhZHkoITApLGFwaS50YXNrcXVldWUuZXhlY3V0ZShhcGkpKSx1dGlscy5pc0NvcmRvdmEoKSYmY29yZG92YS5maXJlV2luZG93RXZlbnQob3B0cy5uYW1lK1wiX3BvdWNoXCIse30pLGN1c3RvbUFwaX19OyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHBhcnNlVXJpKGUpe2Zvcih2YXIgdD1wYXJzZVVyaS5vcHRpb25zLHI9dC5wYXJzZXJbdC5zdHJpY3RNb2RlP1wic3RyaWN0XCI6XCJsb29zZVwiXS5leGVjKGUpLG49e30sdT0xNDt1LS07KW5bdC5rZXlbdV1dPXJbdV18fFwiXCI7cmV0dXJuIG5bdC5xLm5hbWVdPXt9LG5bdC5rZXlbMTJdXS5yZXBsYWNlKHQucS5wYXJzZXIsZnVuY3Rpb24oZSxyLHUpe3ImJihuW3QucS5uYW1lXVtyXT11KX0pLG59ZnVuY3Rpb24gZW5jb2RlRG9jSWQoZSl7cmV0dXJuL15fKGRlc2lnbnxsb2NhbCkvLnRlc3QoZSk/ZTplbmNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gZ2V0SG9zdChlLHQpe2lmKC9odHRwKHM/KTovLnRlc3QoZSkpe3ZhciByPXBhcnNlVXJpKGUpO3IucmVtb3RlPSEwLChyLnVzZXJ8fHIucGFzc3dvcmQpJiYoci5hdXRoPXt1c2VybmFtZTpyLnVzZXIscGFzc3dvcmQ6ci5wYXNzd29yZH0pO3ZhciBuPXIucGF0aC5yZXBsYWNlKC8oXlxcL3xcXC8kKS9nLFwiXCIpLnNwbGl0KFwiL1wiKTtpZihyLmRiPW4ucG9wKCksci5wYXRoPW4uam9pbihcIi9cIiksdD10fHx7fSxyLmhlYWRlcnM9dC5oZWFkZXJzfHx7fSx0LmF1dGh8fHIuYXV0aCl7dmFyIHU9dC5hdXRofHxyLmF1dGgsbz11dGlscy5idG9hKHUudXNlcm5hbWUrXCI6XCIrdS5wYXNzd29yZCk7ci5oZWFkZXJzLkF1dGhvcml6YXRpb249XCJCYXNpYyBcIitvfXJldHVybiB0LmhlYWRlcnMmJihyLmhlYWRlcnM9dC5oZWFkZXJzKSxyfXJldHVybntob3N0OlwiXCIscGF0aDpcIi9cIixkYjplLGF1dGg6ITF9fWZ1bmN0aW9uIGdlbkRCVXJsKGUsdCl7aWYoZS5yZW1vdGUpe3ZhciByPWUucGF0aD9cIi9cIjpcIlwiO3JldHVybiBlLnByb3RvY29sK1wiOi8vXCIrZS5ob3N0K1wiOlwiK2UucG9ydCtcIi9cIitlLnBhdGgrcitlLmRiK1wiL1wiK3R9cmV0dXJuXCIvXCIrZS5kYitcIi9cIit0fWZ1bmN0aW9uIGdlblVybChlLHQpe2lmKGUucmVtb3RlKXt2YXIgcj1lLnBhdGg/XCIvXCI6XCJcIjtyZXR1cm4gZS5wcm90b2NvbCtcIjovL1wiK2UuaG9zdCtcIjpcIitlLnBvcnQrXCIvXCIrZS5wYXRoK3IrdH1yZXR1cm5cIi9cIit0fWZ1bmN0aW9uIEh0dHBQb3VjaChlLHQpe2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gdXRpbHMuYWpheCh1dGlscy5leHRlbmQoe30scyxlKSx0KX12YXIgbj1nZXRIb3N0KGUubmFtZSxlKSx1PWdlbkRCVXJsKG4sXCJcIiksbz17fSxzPWUuYWpheHx8e30sYT17bGlzdDpbXSxnZXQ6ZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodD1lLGU9e2NvdW50OjEwfSk7dmFyIHU9ZnVuY3Rpb24oZSxyKXshZSYmXCJ1dWlkc1wiaW4gcj8oYS5saXN0PWEubGlzdC5jb25jYXQoci51dWlkcyksdXRpbHMuY2FsbCh0LG51bGwsXCJPS1wiKSk6dXRpbHMuY2FsbCh0LGV8fGVycm9ycy5VTktOT1dOX0VSUk9SKX0sbz1cIj9jb3VudD1cIitlLmNvdW50O3Ioe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkdFVFwiLHVybDpnZW5VcmwobixcIl91dWlkc1wiKStvfSx1KX19LGk9ZnVuY3Rpb24oKXtyKHtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJQVVRcIix1cmw6dX0sZnVuY3Rpb24oZSl7ZSYmNDAxPT09ZS5zdGF0dXM/cih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiSEVBRFwiLHVybDp1fSxmdW5jdGlvbihlKXtlP3V0aWxzLmNhbGwodCxlKTp1dGlscy5jYWxsKHQsbnVsbCxvKX0pOmUmJjQxMiE9PWUuc3RhdHVzP3V0aWxzLmNhbGwodCxlcnJvcnMuVU5LTk9XTl9FUlJPUik6dXRpbHMuY2FsbCh0LG51bGwsbyl9KX07cmV0dXJuIGUuc2tpcFNldHVwfHxyKHtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJHRVRcIix1cmw6dX0sZnVuY3Rpb24oZSl7ZT80MDQ9PT1lLnN0YXR1cz9pKCk6dXRpbHMuY2FsbCh0LGUpOnV0aWxzLmNhbGwodCxudWxsLG8pfSksby50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuXCJodHRwXCJ9LG8uaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZ2VuREJVcmwobixcIlwiKX0sby5yZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/KGUuaGVhZGVycz1uLmhlYWRlcnMsZS51cmw9Z2VuREJVcmwobixlLnVybCksdm9pZCByKGUsdCkpOnZvaWQgby50YXNrcXVldWUuYWRkVGFzayhcInJlcXVlc3RcIixhcmd1bWVudHMpfSxvLmNvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT8oXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KSx2b2lkIHIoe2hlYWRlcnM6bi5oZWFkZXJzLHVybDpnZW5EQlVybChuLFwiX2NvbXBhY3RcIiksbWV0aG9kOlwiUE9TVFwifSxmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtvLmluZm8oZnVuY3Rpb24obix1KXt1LmNvbXBhY3RfcnVubmluZz9zZXRUaW1lb3V0KHIsZS5pbnRlcnZhbHx8MjAwKTp1dGlscy5jYWxsKHQsbnVsbCl9KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZyKCl9KSk6dm9pZCBvLnRhc2txdWV1ZS5hZGRUYXNrKFwiY29tcGFjdFwiLGFyZ3VtZW50cyl9LG8uaW5mbz1mdW5jdGlvbihlKXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT92b2lkIHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkdFVFwiLHVybDpnZW5EQlVybChuLFwiXCIpfSxlKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJpbmZvXCIsYXJndW1lbnRzKX0sby5nZXQ9ZnVuY3Rpb24oZSx0LHUpe2lmKCFvLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiB2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJnZXRcIixhcmd1bWVudHMpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih1PXQsdD17fSksdm9pZCAwPT09dC5hdXRvX2VuY29kZSYmKHQuYXV0b19lbmNvZGU9ITApO3ZhciBzPVtdO3QucmV2cyYmcy5wdXNoKFwicmV2cz10cnVlXCIpLHQucmV2c19pbmZvJiZzLnB1c2goXCJyZXZzX2luZm89dHJ1ZVwiKSx0LmxvY2FsX3NlcSYmcy5wdXNoKFwibG9jYWxfc2VxPXRydWVcIiksdC5vcGVuX3JldnMmJihcImFsbFwiIT09dC5vcGVuX3JldnMmJih0Lm9wZW5fcmV2cz1KU09OLnN0cmluZ2lmeSh0Lm9wZW5fcmV2cykpLHMucHVzaChcIm9wZW5fcmV2cz1cIit0Lm9wZW5fcmV2cykpLHQuYXR0YWNobWVudHMmJnMucHVzaChcImF0dGFjaG1lbnRzPXRydWVcIiksdC5yZXYmJnMucHVzaChcInJldj1cIit0LnJldiksdC5jb25mbGljdHMmJnMucHVzaChcImNvbmZsaWN0cz1cIit0LmNvbmZsaWN0cykscz1zLmpvaW4oXCImXCIpLHM9XCJcIj09PXM/XCJcIjpcIj9cIitzLHQuYXV0b19lbmNvZGUmJihlPWVuY29kZURvY0lkKGUpKTt2YXIgYT17aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiR0VUXCIsdXJsOmdlbkRCVXJsKG4sZStzKX0saT1lLnNwbGl0KFwiL1wiKTsoaS5sZW5ndGg+MSYmXCJfZGVzaWduXCIhPT1pWzBdJiZcIl9sb2NhbFwiIT09aVswXXx8aS5sZW5ndGg+MiYmXCJfZGVzaWduXCI9PT1pWzBdJiZcIl9sb2NhbFwiIT09aVswXSkmJihhLmJpbmFyeT0hMCkscihhLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT91dGlscy5jYWxsKHUsZSk6dm9pZCB1dGlscy5jYWxsKHUsbnVsbCx0LHIpfSl9LG8ucmVtb3ZlPWZ1bmN0aW9uKGUsdCx1KXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT8oXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHU9dCx0PXt9KSx2b2lkIHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIkRFTEVURVwiLHVybDpnZW5EQlVybChuLGVuY29kZURvY0lkKGUuX2lkKSkrXCI/cmV2PVwiK2UuX3Jldn0sdSkpOnZvaWQgby50YXNrcXVldWUuYWRkVGFzayhcInJlbW92ZVwiLGFyZ3VtZW50cyl9LG8uZ2V0QXR0YWNobWVudD1mdW5jdGlvbihlLHQscixuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYobj1yLHI9e30pLHZvaWQgMD09PXIuYXV0b19lbmNvZGUmJihyLmF1dG9fZW5jb2RlPSEwKSxyLmF1dG9fZW5jb2RlJiYoZT1lbmNvZGVEb2NJZChlKSksci5hdXRvX2VuY29kZT0hMSxvLmdldChlK1wiL1wiK3QscixuKX0sby5yZW1vdmVBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCx1LHMpe3JldHVybiBvLnRhc2txdWV1ZS5yZWFkeSgpP3ZvaWQgcih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiREVMRVRFXCIsdXJsOmdlbkRCVXJsKG4sZW5jb2RlRG9jSWQoZSkrXCIvXCIrdCkrXCI/cmV2PVwiK3V9LHMpOnZvaWQgby50YXNrcXVldWUuYWRkVGFzayhcInJlbW92ZUF0dGFjaG1lbnRcIixhcmd1bWVudHMpfSxvLnB1dEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LHUscyxhLGkpe2lmKCFvLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiB2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJwdXRBdHRhY2htZW50XCIsYXJndW1lbnRzKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoaT1hLGE9cyxzPXUsdT1udWxsKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYSYmKGE9cyxzPXUsdT1udWxsKTt2YXIgbD1lbmNvZGVEb2NJZChlKStcIi9cIit0LGQ9Z2VuREJVcmwobixsKTt1JiYoZCs9XCI/cmV2PVwiK3UpO3ZhciBjPXtoZWFkZXJzOm4uaGVhZGVycyxtZXRob2Q6XCJQVVRcIix1cmw6ZCxwcm9jZXNzRGF0YTohMSxib2R5OnMsdGltZW91dDo2ZTR9O2MuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1hLHIoYyxpKX0sby5wdXQ9ZnVuY3Rpb24oZSx0LHUpe2lmKCFvLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiB2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJwdXRcIixhcmd1bWVudHMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih1PXQsdD17fSksXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuIHV0aWxzLmNhbGwodSxlcnJvcnMuTk9UX0FOX09CSkVDVCk7aWYoIXV0aWxzLmlzVmFsaWRJZChlLl9pZCkpcmV0dXJuIHV0aWxzLmNhbGwodSxlcnJvcnMuTUlTU0lOR19JRCk7dmFyIHM9W107dCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQubmV3X2VkaXRzJiZzLnB1c2goXCJuZXdfZWRpdHM9XCIrdC5uZXdfZWRpdHMpLHM9cy5qb2luKFwiJlwiKSxcIlwiIT09cyYmKHM9XCI/XCIrcykscih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiUFVUXCIsdXJsOmdlbkRCVXJsKG4sZW5jb2RlRG9jSWQoZS5faWQpKStzLGJvZHk6ZX0sdSl9LG8ucG9zdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8udGFza3F1ZXVlLnJlYWR5KCk/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXCJvYmplY3RcIiE9dHlwZW9mIGU/dXRpbHMuY2FsbChyLGVycm9ycy5OT1RfQU5fT0JKRUNUKTp2b2lkKFwiX2lkXCJpbiBlP28ucHV0KGUsdCxyKTphLmxpc3QubGVuZ3RoPjA/KGUuX2lkPWEubGlzdC5wb3AoKSxvLnB1dChlLHQscikpOmEuZ2V0KGZ1bmN0aW9uKG4pe3JldHVybiBuP3V0aWxzLmNhbGwocixlcnJvcnMuVU5LTk9XTl9FUlJPUik6KGUuX2lkPWEubGlzdC5wb3AoKSx2b2lkIG8ucHV0KGUsdCxyKSl9KSkpOnZvaWQgby50YXNrcXVldWUuYWRkVGFzayhcInBvc3RcIixhcmd1bWVudHMpfSxvLmJ1bGtEb2NzPWZ1bmN0aW9uKGUsdCx1KXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT8oXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHU9dCx0PXt9KSx0fHwodD17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQubmV3X2VkaXRzJiYoZS5uZXdfZWRpdHM9dC5uZXdfZWRpdHMpLHZvaWQgcih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiUE9TVFwiLHVybDpnZW5EQlVybChuLFwiX2J1bGtfZG9jc1wiKSxib2R5OmV9LHUpKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJidWxrRG9jc1wiLGFyZ3VtZW50cyl9LG8uYWxsRG9jcz1mdW5jdGlvbihlLHQpe2lmKCFvLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiB2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJhbGxEb2NzXCIsYXJndW1lbnRzKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodD1lLGU9e30pO3ZhciB1LHM9W10sYT1cIkdFVFwiO2UuY29uZmxpY3RzJiZzLnB1c2goXCJjb25mbGljdHM9dHJ1ZVwiKSxlLmRlc2NlbmRpbmcmJnMucHVzaChcImRlc2NlbmRpbmc9dHJ1ZVwiKSxlLmluY2x1ZGVfZG9jcyYmcy5wdXNoKFwiaW5jbHVkZV9kb2NzPXRydWVcIiksZS5zdGFydGtleSYmcy5wdXNoKFwic3RhcnRrZXk9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGUuc3RhcnRrZXkpKSksZS5lbmRrZXkmJnMucHVzaChcImVuZGtleT1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZS5lbmRrZXkpKSksZS5saW1pdCYmcy5wdXNoKFwibGltaXQ9XCIrZS5saW1pdCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuc2tpcCYmcy5wdXNoKFwic2tpcD1cIitlLnNraXApLHM9cy5qb2luKFwiJlwiKSxcIlwiIT09cyYmKHM9XCI/XCIrcyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUua2V5cyYmKGE9XCJQT1NUXCIsdT1KU09OLnN0cmluZ2lmeSh7a2V5czplLmtleXN9KSkscih7aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOmEsdXJsOmdlbkRCVXJsKG4sXCJfYWxsX2RvY3NcIitzKSxib2R5OnV9LHQpfSxvLmNoYW5nZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9MjU7aWYoIW8udGFza3F1ZXVlLnJlYWR5KCkpe3ZhciB1PW8udGFza3F1ZXVlLmFkZFRhc2soXCJjaGFuZ2VzXCIsYXJndW1lbnRzKTtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHUudGFzaz91LnRhc2suY2FuY2VsKCk6dm9pZCh1LnBhcmFtZXRlcnNbMF0uYWJvcnRlZD0hMCl9fX1pZihcImxhdGVzdFwiPT09ZS5zaW5jZSl7dmFyIHM7cmV0dXJuIG8uaW5mbyhmdW5jdGlvbih0LHIpe2UuYWJvcnRlZHx8KGUuc2luY2U9ci51cGRhdGVfc2VxLHM9by5jaGFuZ2VzKGUpKX0pLHtjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gcz9zLmNhbmNlbCgpOnZvaWQoZS5hYm9ydGVkPSEwKX19fXZhciBhPXt9LGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUubGltaXQ/ZS5saW1pdDohMTswPT09aSYmKGk9MSk7dmFyIGw9aTtpZihlLnN0eWxlJiYoYS5zdHlsZT1lLnN0eWxlKSwoZS5pbmNsdWRlX2RvY3N8fGUuZmlsdGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZpbHRlcikmJihhLmluY2x1ZGVfZG9jcz0hMCksZS5jb250aW51b3VzJiYoYS5mZWVkPVwibG9uZ3BvbGxcIiksZS5jb25mbGljdHMmJihhLmNvbmZsaWN0cz0hMCksZS5kZXNjZW5kaW5nJiYoYS5kZXNjZW5kaW5nPSEwKSxlLmZpbHRlciYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZmlsdGVyJiYoYS5maWx0ZXI9ZS5maWx0ZXIsXCJfdmlld1wiPT09ZS5maWx0ZXImJmUudmlldyYmXCJzdHJpbmdcIj09dHlwZW9mIGUudmlldyYmKGEudmlldz1lLnZpZXcpKSxlLnF1ZXJ5X3BhcmFtcyYmXCJvYmplY3RcIj09dHlwZW9mIGUucXVlcnlfcGFyYW1zKWZvcih2YXIgZCBpbiBlLnF1ZXJ5X3BhcmFtcyllLnF1ZXJ5X3BhcmFtcy5oYXNPd25Qcm9wZXJ0eShkKSYmKGFbZF09ZS5xdWVyeV9wYXJhbXNbZF0pO3ZhciBjLGYscCxoLHY9ZnVuY3Rpb24odSxvKXthLnNpbmNlPXUsZS5jb250aW51b3VzfHxofHwoaD1wKSxhLmxpbWl0PSFpfHxsPnQ/dDpsO3ZhciBzPVwiP1wiK09iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZStcIj1cIithW2VdfSkuam9pbihcIiZcIiksZD17aGVhZGVyczpuLmhlYWRlcnMsbWV0aG9kOlwiR0VUXCIsdXJsOmdlbkRCVXJsKG4sXCJfY2hhbmdlc1wiK3MpLHRpbWVvdXQ6bnVsbH07Zj11LGUuYWJvcnRlZHx8KGM9cihkLG8pKX0sXz0xMCx5PTAsbT17cmVzdWx0czpbXX0sZz1mdW5jdGlvbihyLG4pe2lmKG4mJm4ucmVzdWx0cyl7bS5sYXN0X3NlcT1uLmxhc3Rfc2VxO3ZhciB1PXt9O3UucXVlcnk9ZS5xdWVyeV9wYXJhbXMsbi5yZXN1bHRzPW4ucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24odCl7bC0tO3ZhciByPXV0aWxzLmZpbHRlckNoYW5nZShlKSh0KTtyZXR1cm4gciYmKG0ucmVzdWx0cy5wdXNoKHQpLHV0aWxzLmNhbGwoZS5vbkNoYW5nZSx0KSkscn0pfWVsc2UgciYmKGUuYWJvcnRlZD0hMCx1dGlscy5jYWxsKGUuY29tcGxldGUscixudWxsKSk7biYmbi5sYXN0X3NlcSYmKGY9bi5sYXN0X3NlcSk7dmFyIG89biYmbi5yZXN1bHRzLmxlbmd0aHx8MDtoLT10O3ZhciBzPWkmJjA+PWx8fG4mJiFvJiYwPj1ofHxvJiZuLmxhc3Rfc2VxPT09cHx8ZS5kZXNjZW5kaW5nJiYwIT09ZjtpZihlLmNvbnRpbnVvdXN8fCFzKXtyP3krPTE6eT0wO3ZhciBhPTE8PHksZD1fKmEsYz1lLm1heGltdW1XYWl0fHwzZTQ7ZD5jJiZ1dGlscy5jYWxsKGUuY29tcGxldGUscnx8ZXJyb3JzLlVOS05PV05fRVJST1IsbnVsbCksc2V0VGltZW91dChmdW5jdGlvbigpe3YoZixnKX0sZCl9ZWxzZSB1dGlscy5jYWxsKGUuY29tcGxldGUsbnVsbCxtKX07cmV0dXJuIGUuY29udGludW91cz92KGUuc2luY2V8fDAsZyk6by5pbmZvKGZ1bmN0aW9uKHQscil7cmV0dXJuIHQ/dXRpbHMuY2FsbChlLmNvbXBsZXRlLHQpOihwPXIudXBkYXRlX3NlcSx2b2lkIHYoZS5zaW5jZXx8MCxnKSl9KSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ZS5hYm9ydGVkPSEwLGMuYWJvcnQoKX19fSxvLnJldnNEaWZmPWZ1bmN0aW9uKGUsdCx1KXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT8oXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHU9dCx0PXt9KSx2b2lkIHIoe2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIlBPU1RcIix1cmw6Z2VuREJVcmwobixcIl9yZXZzX2RpZmZcIiksYm9keTplfSxmdW5jdGlvbihlLHQpe3V0aWxzLmNhbGwodSxlLHQpfSkpOnZvaWQgby50YXNrcXVldWUuYWRkVGFzayhcInJldnNEaWZmXCIsYXJndW1lbnRzKX0sby5jbG9zZT1mdW5jdGlvbihlKXtyZXR1cm4gby50YXNrcXVldWUucmVhZHkoKT92b2lkIHV0aWxzLmNhbGwoZSxudWxsKTp2b2lkIG8udGFza3F1ZXVlLmFkZFRhc2soXCJjbG9zZVwiLGFyZ3VtZW50cyl9LG8ucmVwbGljYXRlT25TZXJ2ZXI9ZnVuY3Rpb24oZSx1LHMpe2lmKCFvLnRhc2txdWV1ZS5yZWFkeSgpKXJldHVybiBvLnRhc2txdWV1ZS5hZGRUYXNrKFwicmVwbGljYXRlT25TZXJ2ZXJcIixhcmd1bWVudHMpLHM7dmFyIGE9Z2V0SG9zdChlLmlkKCkpLGk9e3NvdXJjZTpuLmRiLHRhcmdldDphLnByb3RvY29sPT09bi5wcm90b2NvbCYmYS5hdXRob3JpdHk9PT1uLmF1dGhvcml0eT9hLmRiOmEuc291cmNlfTt1LmNvbnRpbnVvdXMmJihpLmNvbnRpbnVvdXM9ITApLHUuY3JlYXRlX3RhcmdldCYmKGkuY3JlYXRlX3RhcmdldD0hMCksdS5kb2NfaWRzJiYoaS5kb2NfaWRzPXUuZG9jX2lkcyksdS5maWx0ZXImJlwic3RyaW5nXCI9PXR5cGVvZiB1LmZpbHRlciYmKGkuZmlsdGVyPXUuZmlsdGVyKSx1LnF1ZXJ5X3BhcmFtcyYmKGkucXVlcnlfcGFyYW1zPXUucXVlcnlfcGFyYW1zKTt2YXIgbCxkPXt9LGM9e2hlYWRlcnM6bi5oZWFkZXJzLG1ldGhvZDpcIlBPU1RcIix1cmw6bi5wcm90b2NvbCtcIjovL1wiK24uaG9zdCsoODA9PT1uLnBvcnQ/XCJcIjpcIjpcIituLnBvcnQpK1wiL19yZXBsaWNhdGVcIixib2R5Oml9O3MuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxsZWQ9ITAsbCYmIWQub2smJmwuYWJvcnQoKSxkLl9sb2NhbF9pZCYmKGMuYm9keT17cmVwbGljYXRpb25faWQ6ZC5fbG9jYWxfaWR9KSxjLmJvZHkuY2FuY2VsPSEwLHIoYyxmdW5jdGlvbihlLHIsbil7cmV0dXJuIGU/dXRpbHMuY2FsbCh0LGUpOnZvaWQgdXRpbHMuY2FsbCh1LmNvbXBsZXRlLG51bGwsZCxuKX0pfSxzLmNhbmNlbGxlZHx8KGw9cihjLGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gZT91dGlscy5jYWxsKHQsZSk6KGQub2s9ITAsci5fbG9jYWxfaWQmJihkLl9sb2NhbF9pZD1yLl9sb2NhbF9pZCksdm9pZCB1dGlscy5jYWxsKHUuY29tcGxldGUsbnVsbCxyLG4pKX0pKX0sb312YXIgdXRpbHM9cmVxdWlyZShcIi4uL3V0aWxzXCIpLGVycm9ycz1yZXF1aXJlKFwiLi4vZGVwcy9lcnJvcnNcIik7cGFyc2VVcmkub3B0aW9ucz17c3RyaWN0TW9kZTohMSxrZXk6W1wic291cmNlXCIsXCJwcm90b2NvbFwiLFwiYXV0aG9yaXR5XCIsXCJ1c2VySW5mb1wiLFwidXNlclwiLFwicGFzc3dvcmRcIixcImhvc3RcIixcInBvcnRcIixcInJlbGF0aXZlXCIsXCJwYXRoXCIsXCJkaXJlY3RvcnlcIixcImZpbGVcIixcInF1ZXJ5XCIsXCJhbmNob3JcIl0scTp7bmFtZTpcInF1ZXJ5S2V5XCIscGFyc2VyOi8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZ30scGFyc2VyOntzdHJpY3Q6L14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxsb29zZTovXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS99fSxIdHRwUG91Y2guZGVzdHJveT1mdW5jdGlvbihlLHQscil7dmFyIG49Z2V0SG9zdChlLHQpO3Q9dHx8e30sXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSx0LmhlYWRlcnM9bi5oZWFkZXJzLHQubWV0aG9kPVwiREVMRVRFXCIsdC51cmw9Z2VuREJVcmwobixcIlwiKSx1dGlscy5hamF4KHQscil9LEh0dHBQb3VjaC52YWxpZD1mdW5jdGlvbigpe3JldHVybiEwfSxtb2R1bGUuZXhwb3J0cz1IdHRwUG91Y2g7IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaWRiRXJyb3IoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3V0aWxzLmNhbGwoZSxlcnJvcnMuZXJyb3IoZXJyb3JzLklEQl9FUlJPUix0LnRhcmdldCx0LnR5cGUpKX19ZnVuY3Rpb24gSWRiUG91Y2goZSx0KXtmdW5jdGlvbiBuKGUpe2UuY3JlYXRlT2JqZWN0U3RvcmUoaSx7a2V5UGF0aDpcImlkXCJ9KS5jcmVhdGVJbmRleChcInNlcVwiLFwic2VxXCIse3VuaXF1ZTohMH0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoYyx7YXV0b0luY3JlbWVudDohMH0pLmNyZWF0ZUluZGV4KFwiX2RvY19pZF9yZXZcIixcIl9kb2NfaWRfcmV2XCIse3VuaXF1ZTohMH0pLGUuY3JlYXRlT2JqZWN0U3RvcmUocyx7a2V5UGF0aDpcImRpZ2VzdFwifSksZS5jcmVhdGVPYmplY3RTdG9yZSh1LHtrZXlQYXRoOlwiaWRcIixhdXRvSW5jcmVtZW50OiExfSksZS5jcmVhdGVPYmplY3RTdG9yZShkKX1mdW5jdGlvbiByKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxuPW5ldyBBcnJheUJ1ZmZlcih0KSxyPW5ldyBVaW50OEFycmF5KG4pLG89MDt0Pm87bysrKXJbb109ZS5jaGFyQ29kZUF0KG8pO3JldHVybiBufWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZS5fYnVsa19zZXEtdC5fYnVsa19zZXF9dmFyIGE9MSxpPVwiZG9jdW1lbnQtc3RvcmVcIixjPVwiYnktc2VxdWVuY2VcIixzPVwiYXR0YWNoLXN0b3JlXCIsdT1cIm1ldGEtc3RvcmVcIixkPVwiZGV0ZWN0LWJsb2Itc3VwcG9ydFwiLGw9ZS5uYW1lLGY9d2luZG93LmluZGV4ZWREQi5vcGVuKGwsYSk7XCJvcGVuUmVxTGlzdFwiaW4gSWRiUG91Y2h8fChJZGJQb3VjaC5vcGVuUmVxTGlzdD17fSksSWRiUG91Y2gub3BlblJlcUxpc3RbbF09Zjt2YXIgdj1udWxsLF89bnVsbCxnPXt9LGg9bnVsbDtyZXR1cm4gZi5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUudGFyZ2V0LnJlc3VsdCxyPWUub2xkVmVyc2lvbjtyIT09ZS5uZXdWZXJzaW9uOykwPT09ciYmbih0KSxyKyt9LGYub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2g9ZS50YXJnZXQucmVzdWx0LGgub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKCl7aC5jbG9zZSgpfTt2YXIgbj1oLnRyYW5zYWN0aW9uKFt1LGRdLFwicmVhZHdyaXRlXCIpLHI9bi5vYmplY3RTdG9yZSh1KS5nZXQodSk7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHI9ZS50YXJnZXQucmVzdWx0fHx7aWQ6dX07bCtcIl9pZFwiaW4gcj9fPXJbbCtcIl9pZFwiXTooXz11dGlscy51dWlkKCkscltsK1wiX2lkXCJdPV8sbi5vYmplY3RTdG9yZSh1KS5wdXQocikpO3RyeXtuLm9iamVjdFN0b3JlKGQpLnB1dCh1dGlscy5jcmVhdGVCbG9iKCksXCJrZXlcIiksdj0hMH1jYXRjaChvKXt2PSExfWZpbmFsbHl7dXRpbHMuY2FsbCh0LG51bGwsZyl9fX0sZi5vbmVycm9yPWlkYkVycm9yKHQpLGcudHlwZT1mdW5jdGlvbigpe3JldHVyblwiaWRiXCJ9LGcuaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX30sZy5fYnVsa0RvY3M9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGEoZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O3QudXBkYXRlU2VxPSh0LnVwZGF0ZVNlcXx8MCkrRCxrLm9iamVjdFN0b3JlKHUpLnB1dCh0KX1mdW5jdGlvbiBkKCl7aWYoIWoubGVuZ3RoKXJldHVybiB2b2lkKGsub2JqZWN0U3RvcmUodSkuZ2V0KHUpLm9uc3VjY2Vzcz1hKTt2YXIgZT1qLnNoaWZ0KCksdD1rLm9iamVjdFN0b3JlKGkpLmdldChlLm1ldGFkYXRhLmlkKTt0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgbj10LnRhcmdldC5yZXN1bHQ7bj9wKG4sZSk6bShlKX19ZnVuY3Rpb24gZigpe3ZhciBlPVtdO1Iuc29ydChvKSxSLmZvckVhY2goZnVuY3Rpb24odCl7aWYoZGVsZXRlIHQuX2J1bGtfc2VxLHQuZXJyb3IpcmV0dXJuIHZvaWQgZS5wdXNoKHQpO3ZhciBuPXQubWV0YWRhdGEscj1tZXJnZS53aW5uaW5nUmV2KG4pO2UucHVzaCh7b2s6ITAsaWQ6bi5pZCxyZXY6cn0pLHV0aWxzLmlzTG9jYWxJZChuLmlkKXx8KElkYlBvdWNoLkNoYW5nZXMubm90aWZ5KGwpLElkYlBvdWNoLkNoYW5nZXMubm90aWZ5TG9jYWxXaW5kb3dzKGwpKX0pLHV0aWxzLmNhbGwobixudWxsLGUpfWZ1bmN0aW9uIF8oZSx0KXtpZihlLnN0dWIpcmV0dXJuIHQoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhKXt2YXIgbzt0cnl7bz1hdG9iKGUuZGF0YSl9Y2F0Y2goYSl7dmFyIGk9ZXJyb3JzLmVycm9yKGVycm9ycy5CQURfQVJHLFwiQXR0YWNobWVudHMgbmVlZCB0byBiZSBiYXNlNjQgZW5jb2RlZFwiKTtyZXR1cm4gdXRpbHMuY2FsbChuLGkpfWlmKGUuZGlnZXN0PVwibWQ1LVwiK3V0aWxzLkNyeXB0by5NRDUobyksdil7dmFyIGM9ZS5jb250ZW50X3R5cGU7bz1yKG8pLGUuZGF0YT11dGlscy5jcmVhdGVCbG9iKFtvXSx7dHlwZTpjfSl9cmV0dXJuIHQoKX12YXIgcz1uZXcgRmlsZVJlYWRlcjtzLm9ubG9hZGVuZD1mdW5jdGlvbigpe2UuZGlnZXN0PVwibWQ1LVwiK3V0aWxzLkNyeXB0by5NRDUodGhpcy5yZXN1bHQpLHZ8fChlLmRhdGE9YnRvYSh0aGlzLnJlc3VsdCkpLHQoKX0scy5yZWFkQXNCaW5hcnlTdHJpbmcoZS5kYXRhKX1mdW5jdGlvbiBnKGUpe2Z1bmN0aW9uIHQoKXtuKyssai5sZW5ndGg9PT1uJiZlKCl9aWYoIWoubGVuZ3RoKXJldHVybiBlKCk7dmFyIG49MDtqLmZvckVhY2goZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe28rKyxvPT09ci5sZW5ndGgmJnQoKX12YXIgcj1lLmRhdGEmJmUuZGF0YS5fYXR0YWNobWVudHM/T2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cyk6W107aWYoIXIubGVuZ3RoKXJldHVybiB0KCk7dmFyIG89MDtmb3IodmFyIGEgaW4gZS5kYXRhLl9hdHRhY2htZW50cylfKGUuZGF0YS5fYXR0YWNobWVudHNbYV0sbil9KX1mdW5jdGlvbiBiKGUsdCl7ZnVuY3Rpb24gbihlKXthfHwoZT8oYT1lLHV0aWxzLmNhbGwodCxhKSk6cz09PXUubGVuZ3RoJiZvKCkpfWZ1bmN0aW9uIHIoZSl7cysrLG4oZSl9ZnVuY3Rpb24gbygpe2UuZGF0YS5fZG9jX2lkX3Jldj1lLmRhdGEuX2lkK1wiOjpcIitlLmRhdGEuX3Jldjt2YXIgbj1rLm9iamVjdFN0b3JlKGMpLnB1dChlLmRhdGEpO24ub25zdWNjZXNzPWZ1bmN0aW9uKG4pe2UubWV0YWRhdGEuc2VxPW4udGFyZ2V0LnJlc3VsdCxkZWxldGUgZS5tZXRhZGF0YS5yZXY7dmFyIHI9ay5vYmplY3RTdG9yZShpKS5wdXQoZS5tZXRhZGF0YSk7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtSLnB1c2goZSksdXRpbHMuY2FsbCh0KX19fXZhciBhPW51bGwscz0wO2UuZGF0YS5faWQ9ZS5tZXRhZGF0YS5pZCxlLmRhdGEuX3Jldj1lLm1ldGFkYXRhLnJldixEKyssdXRpbHMuaXNEZWxldGVkKGUubWV0YWRhdGEsZS5tZXRhZGF0YS5yZXYpJiYoZS5kYXRhLl9kZWxldGVkPSEwKTt2YXIgdT1lLmRhdGEuX2F0dGFjaG1lbnRzP09iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHMpOltdO2Zvcih2YXIgZCBpbiBlLmRhdGEuX2F0dGFjaG1lbnRzKWlmKGUuZGF0YS5fYXR0YWNobWVudHNbZF0uc3R1YilzKyssbigpO2Vsc2V7dmFyIGw9ZS5kYXRhLl9hdHRhY2htZW50c1tkXS5kYXRhO2RlbGV0ZSBlLmRhdGEuX2F0dGFjaG1lbnRzW2RdLmRhdGE7dmFyIGY9ZS5kYXRhLl9hdHRhY2htZW50c1tkXS5kaWdlc3Q7SShlLGYsbCxyKX11Lmxlbmd0aHx8bygpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1tZXJnZS5tZXJnZShlLnJldl90cmVlLHQubWV0YWRhdGEucmV2X3RyZWVbMF0sMWUzKSxyPXV0aWxzLmlzRGVsZXRlZChlKSxvPXImJnV0aWxzLmlzRGVsZXRlZCh0Lm1ldGFkYXRhKXx8IXImJlMmJlwibmV3X2xlYWZcIiE9PW4uY29uZmxpY3RzO3JldHVybiBvPyhSLnB1c2goeShlcnJvcnMuUkVWX0NPTkZMSUNULHQuX2J1bGtfc2VxKSksZCgpKToodC5tZXRhZGF0YS5yZXZfdHJlZT1uLnRyZWUsdm9pZCBiKHQsZCkpfWZ1bmN0aW9uIG0oZSl7cmV0dXJuXCJ3YXNfZGVsZXRlXCJpbiB0JiZ1dGlscy5pc0RlbGV0ZWQoZS5tZXRhZGF0YSk/KFIucHVzaChlcnJvcnMuTUlTU0lOR19ET0MpLGQoKSk6dm9pZCBiKGUsZCl9ZnVuY3Rpb24geShlLHQpe3JldHVybiBlLl9idWxrX3NlcT10LGV9ZnVuY3Rpb24gSShlLHQsbixyKXt7dmFyIG89ay5vYmplY3RTdG9yZShzKTtvLmdldCh0KS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7dmFyIGk9YS50YXJnZXQucmVzdWx0JiZhLnRhcmdldC5yZXN1bHQucmVmc3x8e30sYz1bZS5tZXRhZGF0YS5pZCxlLm1ldGFkYXRhLnJldl0uam9pbihcIkBcIikscz17ZGlnZXN0OnQsYm9keTpuLHJlZnM6aX07cy5yZWZzW2NdPSEwO28ucHV0KHMpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3V0aWxzLmNhbGwocil9fX19dmFyIFM9dC5uZXdfZWRpdHMsdz1lLmRvY3Msaj13Lm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXV0aWxzLnBhcnNlRG9jKGUsUyk7cmV0dXJuIG4uX2J1bGtfc2VxPXQsbn0pLHE9ai5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J9KTtpZihxLmxlbmd0aClyZXR1cm4gdXRpbHMuY2FsbChuLHFbMF0pO3ZhciBrLFI9W10sRD0wO2coZnVuY3Rpb24oKXtrPWgudHJhbnNhY3Rpb24oW2ksYyxzLHVdLFwicmVhZHdyaXRlXCIpLGsub25lcnJvcj1pZGJFcnJvcihuKSxrLm9udGltZW91dD1pZGJFcnJvcihuKSxrLm9uY29tcGxldGU9ZixkKCl9KX0sZy5fZ2V0PWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dXRpbHMuY2FsbChuLHUse2RvYzpvLG1ldGFkYXRhOmEsY3R4OmR9KX12YXIgbyxhLHUsZDtkPXQuY3R4P3QuY3R4OmgudHJhbnNhY3Rpb24oW2ksYyxzXSxcInJlYWRvbmx5XCIpLGQub2JqZWN0U3RvcmUoaSkuZ2V0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtpZihhPWUudGFyZ2V0LnJlc3VsdCwhYSlyZXR1cm4gdT1lcnJvcnMuTUlTU0lOR19ET0MscigpO2lmKHV0aWxzLmlzRGVsZXRlZChhKSYmIXQucmV2KXJldHVybiB1PWVycm9ycy5lcnJvcihlcnJvcnMuTUlTU0lOR19ET0MsXCJkZWxldGVkXCIpLHIoKTt2YXIgbj1tZXJnZS53aW5uaW5nUmV2KGEpLGk9YS5pZCtcIjo6XCIrKHQucmV2P3QucmV2Om4pLHM9ZC5vYmplY3RTdG9yZShjKS5pbmRleChcIl9kb2NfaWRfcmV2XCIpO3MuZ2V0KGkpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtyZXR1cm4gbz1lLnRhcmdldC5yZXN1bHQsbyYmby5fZG9jX2lkX3JldiYmZGVsZXRlIG8uX2RvY19pZF9yZXYsbz92b2lkIHIoKToodT1lcnJvcnMuTUlTU0lOR19ET0MscigpKX19fSxnLl9nZXRBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxhO2E9dC5jdHg/dC5jdHg6aC50cmFuc2FjdGlvbihbaSxjLHNdLFwicmVhZG9ubHlcIik7dmFyIHU9ZS5kaWdlc3QsZD1lLmNvbnRlbnRfdHlwZTthLm9iamVjdFN0b3JlKHMpLmdldCh1KS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIGE9ZS50YXJnZXQucmVzdWx0LmJvZHk7aWYodC5lbmNvZGUpaWYodil7dmFyIGk9bmV3IEZpbGVSZWFkZXI7aS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtvPWJ0b2EodGhpcy5yZXN1bHQpLHV0aWxzLmNhbGwobixudWxsLG8pfSxpLnJlYWRBc0JpbmFyeVN0cmluZyhhKX1lbHNlIG89YSx1dGlscy5jYWxsKG4sbnVsbCxvKTtlbHNlIHY/bz1hOihhPXIoYXRvYihhKSksbz11dGlscy5jcmVhdGVCbG9iKFthXSx7dHlwZTpkfSkpLHV0aWxzLmNhbGwobixudWxsLG8pfX0sZy5fYWxsRG9jcz1mdW5jdGlvbihlLHQpe3ZhciBuPVwic3RhcnRrZXlcImluIGU/ZS5zdGFydGtleTohMSxyPVwiZW5ka2V5XCJpbiBlP2UuZW5ka2V5OiExLG89XCJkZXNjZW5kaW5nXCJpbiBlP2UuZGVzY2VuZGluZzohMTtvPW8/XCJwcmV2XCI6bnVsbDt2YXIgYT1uJiZyP3dpbmRvdy5JREJLZXlSYW5nZS5ib3VuZChuLHIpOm4/d2luZG93LklEQktleVJhbmdlLmxvd2VyQm91bmQobik6cj93aW5kb3cuSURCS2V5UmFuZ2UudXBwZXJCb3VuZChyKTpudWxsLHM9aC50cmFuc2FjdGlvbihbaSxjXSxcInJlYWRvbmx5XCIpO3Mub25jb21wbGV0ZT1mdW5jdGlvbigpe1wia2V5c1wiaW4gZSYmKGUua2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2wucHVzaChlIGluIGY/ZltlXTp7a2V5OmUsZXJyb3I6XCJub3RfZm91bmRcIn0pfSksZS5kZXNjZW5kaW5nJiZsLnJldmVyc2UoKSksdXRpbHMuY2FsbCh0LG51bGwse3RvdGFsX3Jvd3M6bC5sZW5ndGgsb2Zmc2V0OmUuc2tpcCxyb3dzOlwibGltaXRcImluIGU/bC5zbGljZShlLnNraXAsZS5saW1pdCtlLnNraXApOmUuc2tpcD4wP2wuc2xpY2UoZS5za2lwKTpsfSl9O3ZhciB1PXMub2JqZWN0U3RvcmUoaSksZD1vP3Uub3BlbkN1cnNvcihhLG8pOnUub3BlbkN1cnNvcihhKSxsPVtdLGY9e307ZC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbih0LG4pe2lmKHV0aWxzLmlzTG9jYWxJZCh0LmlkKSlyZXR1cm4gcltcImNvbnRpbnVlXCJdKCk7dmFyIG89e2lkOnQuaWQsa2V5OnQuaWQsdmFsdWU6e3JldjptZXJnZS53aW5uaW5nUmV2KHQpfX07aWYoZS5pbmNsdWRlX2RvY3Mpe28uZG9jPW4sby5kb2MuX3Jldj1tZXJnZS53aW5uaW5nUmV2KHQpLG8uZG9jLl9kb2NfaWRfcmV2JiZkZWxldGUgby5kb2MuX2RvY19pZF9yZXYsZS5jb25mbGljdHMmJihvLmRvYy5fY29uZmxpY3RzPW1lcmdlLmNvbGxlY3RDb25mbGljdHModCkpO2Zvcih2YXIgYSBpbiBvLmRvYy5fYXR0YWNobWVudHMpby5kb2MuX2F0dGFjaG1lbnRzW2FdLnN0dWI9ITB9XCJrZXlzXCJpbiBlP2Uua2V5cy5pbmRleE9mKHQuaWQpPi0xJiYodXRpbHMuaXNEZWxldGVkKHQpJiYoby52YWx1ZS5kZWxldGVkPSEwLG8uZG9jPW51bGwpLGZbby5pZF09byk6dXRpbHMuaXNEZWxldGVkKHQpfHxsLnB1c2gobykscltcImNvbnRpbnVlXCJdKCl9aWYodC50YXJnZXQucmVzdWx0KXt2YXIgcj10LnRhcmdldC5yZXN1bHQsbz1yLnZhbHVlO2lmKGUuaW5jbHVkZV9kb2NzKXt2YXIgYT1zLm9iamVjdFN0b3JlKGMpLmluZGV4KFwiX2RvY19pZF9yZXZcIiksaT1tZXJnZS53aW5uaW5nUmV2KG8pLHU9by5pZCtcIjo6XCIraTthLmdldCh1KS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7bihyLnZhbHVlLGUudGFyZ2V0LnJlc3VsdCl9fWVsc2UgbihvKX19fSxnLl9pbmZvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7bz1lLnRhcmdldC5yZXN1bHQmJmUudGFyZ2V0LnJlc3VsdC51cGRhdGVTZXF8fDB9ZnVuY3Rpb24gbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7cmV0dXJuIG4/KG4udmFsdWUuZGVsZXRlZCE9PSEwJiZyKyssdm9pZCBuW1wiY29udGludWVcIl0oKSk6dm9pZChhLm9iamVjdFN0b3JlKHUpLmdldCh1KS5vbnN1Y2Nlc3M9dCl9dmFyIHI9MCxvPTAsYT1oLnRyYW5zYWN0aW9uKFtpLHVdLFwicmVhZG9ubHlcIik7YS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZShudWxsLHtkYl9uYW1lOmwsZG9jX2NvdW50OnIsdXBkYXRlX3NlcTpvfSl9LGEub2JqZWN0U3RvcmUoaSkub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1ufSxnLl9jaGFuZ2VzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtkPWgudHJhbnNhY3Rpb24oW2ksY10pLGQub25jb21wbGV0ZT1yO3ZhciB0O3Q9cz9kLm9iamVjdFN0b3JlKGMpLm9wZW5DdXJzb3Iod2luZG93LklEQktleVJhbmdlLmxvd2VyQm91bmQoZS5zaW5jZSwhMCkscyk6ZC5vYmplY3RTdG9yZShjKS5vcGVuQ3Vyc29yKHdpbmRvdy5JREJLZXlSYW5nZS5sb3dlckJvdW5kKGUuc2luY2UsITApKSx0Lm9uc3VjY2Vzcz1uLHQub25lcnJvcj1vfWZ1bmN0aW9uIG4odCl7aWYoIXQudGFyZ2V0LnJlc3VsdCl7Zm9yKHZhciBuPTAscj1mLmxlbmd0aDtyPm47bisrKXt2YXIgbz1mW25dO28mJl8ucHVzaChvKX1yZXR1cm4hMX12YXIgYT10LnRhcmdldC5yZXN1bHQscz1hLnZhbHVlLl9pZCxsPXZbc107aWYodm9pZCAwIT09bClyZXR1cm4gZltsXS5zZXE9YS5rZXksZi5wdXNoKGZbbF0pLGZbbF09bnVsbCx2W3NdPWYubGVuZ3RoLTEsYVtcImNvbnRpbnVlXCJdKCk7dmFyIGc9ZC5vYmplY3RTdG9yZShpKTtnLmdldChhLnZhbHVlLl9pZCkub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3ZhciBuPXQudGFyZ2V0LnJlc3VsdDtpZih1dGlscy5pc0xvY2FsSWQobi5pZCkpcmV0dXJuIGFbXCJjb250aW51ZVwiXSgpO3U8bi5zZXEmJih1PW4uc2VxKTt2YXIgcj1tZXJnZS53aW5uaW5nUmV2KG4pLG89bi5pZCtcIjo6XCIrcixpPWQub2JqZWN0U3RvcmUoYykuaW5kZXgoXCJfZG9jX2lkX3JldlwiKTtpLmdldChvKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIG89dC50YXJnZXQucmVzdWx0O2RlbGV0ZSBvLl9kb2NfaWRfcmV2LG8uX3Jldj1yO3ZhciBpPWUucHJvY2Vzc0NoYW5nZShvLG4sZSk7aS5zZXE9YS5rZXk7dmFyIGM9aS5pZCxzPXZbY107dm9pZCAwIT09cyYmKGZbc109bnVsbCksZi5wdXNoKGkpLHZbY109Zi5sZW5ndGgtMSxhW1wiY29udGludWVcIl0oKX19fWZ1bmN0aW9uIHIoKXt1dGlscy5wcm9jZXNzQ2hhbmdlcyhlLF8sdSl9ZnVuY3Rpb24gbygpe3V0aWxzLmNhbGwoZS5jb21wbGV0ZSl9aWYoZS5jb250aW51b3VzKXt2YXIgYT1sK1wiOlwiK3V0aWxzLnV1aWQoKTtyZXR1cm4gZS5jYW5jZWxsZWQ9ITEsSWRiUG91Y2guQ2hhbmdlcy5hZGRMaXN0ZW5lcihsLGEsZyxlKSxJZGJQb3VjaC5DaGFuZ2VzLm5vdGlmeShsKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ZS5jYW5jZWxsZWQ9ITAsSWRiUG91Y2guQ2hhbmdlcy5yZW1vdmVMaXN0ZW5lcihsLGEpfX19dmFyIHM9ZS5kZXNjZW5kaW5nP1wicHJldlwiOm51bGwsdT0wO2Uuc2luY2U9ZS5zaW5jZSYmIXM/ZS5zaW5jZTowO3ZhciBkLGY9W10sdj17fSxfPVtdO3QoKX0sZy5fY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1oP3V0aWxzLmNhbGwoZSxlcnJvcnMuTk9UX09QRU4pOihoLmNsb3NlKCksdm9pZCB1dGlscy5jYWxsKGUsbnVsbCkpfSxnLl9nZXRSZXZpc2lvblRyZWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1oLnRyYW5zYWN0aW9uKFtpXSxcInJlYWRvbmx5XCIpLHI9bi5vYmplY3RTdG9yZShpKS5nZXQoZSk7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O24/dXRpbHMuY2FsbCh0LG51bGwsbi5yZXZfdHJlZSk6dXRpbHMuY2FsbCh0LGVycm9ycy5NSVNTSU5HX0RPQyl9fSxnLl9kb0NvbXBhY3Rpb249ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89aC50cmFuc2FjdGlvbihbaSxjXSxcInJlYWR3cml0ZVwiKSxhPW8ub2JqZWN0U3RvcmUoaSk7YS5nZXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKHIpe3ZhciBhPXIudGFyZ2V0LnJlc3VsdDthLnJldl90cmVlPXQ7dmFyIHM9bi5sZW5ndGg7bi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPW8ub2JqZWN0U3RvcmUoYykuaW5kZXgoXCJfZG9jX2lkX3JldlwiKSxyPWUrXCI6OlwiK3Q7bi5nZXRLZXkocikub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZih0KXt7by5vYmplY3RTdG9yZShjKVtcImRlbGV0ZVwiXSh0KX1zLS0sc3x8by5vYmplY3RTdG9yZShpKS5wdXQoYSl9fX0pfSxvLm9uY29tcGxldGU9ZnVuY3Rpb24oKXt1dGlscy5jYWxsKHIpfX0sZ312YXIgdXRpbHM9cmVxdWlyZShcIi4uL3V0aWxzXCIpLG1lcmdlPXJlcXVpcmUoXCIuLi9tZXJnZVwiKSxlcnJvcnM9cmVxdWlyZShcIi4uL2RlcHMvZXJyb3JzXCIpO0lkYlBvdWNoLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmISF3aW5kb3cuaW5kZXhlZERCfSxJZGJQb3VjaC5kZXN0cm95PWZ1bmN0aW9uKGUsdCxuKXtcIm9wZW5SZXFMaXN0XCJpbiBJZGJQb3VjaHx8KElkYlBvdWNoLm9wZW5SZXFMaXN0PXt9KSxJZGJQb3VjaC5DaGFuZ2VzLmNsZWFyTGlzdGVuZXJzKGUpLElkYlBvdWNoLm9wZW5SZXFMaXN0W2VdJiZJZGJQb3VjaC5vcGVuUmVxTGlzdFtlXS5yZXN1bHQmJklkYlBvdWNoLm9wZW5SZXFMaXN0W2VdLnJlc3VsdC5jbG9zZSgpO3ZhciByPXdpbmRvdy5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZSk7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtJZGJQb3VjaC5vcGVuUmVxTGlzdFtlXSYmKElkYlBvdWNoLm9wZW5SZXFMaXN0W2VdPW51bGwpLHV0aWxzLmNhbGwobixudWxsKX0sci5vbmVycm9yPWlkYkVycm9yKG4pfSxJZGJQb3VjaC5DaGFuZ2VzPW5ldyB1dGlscy5DaGFuZ2VzLG1vZHVsZS5leHBvcnRzPUlkYlBvdWNoOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHF1b3RlKGUpe3JldHVyblwiJ1wiK2UrXCInXCJ9ZnVuY3Rpb24gb3BlbkRCKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnNxbGl0ZVBsdWdpbiYmd2luZG93Lm5hdmlnYXRvci5zcWxpdGVQbHVnaW4ub3BlbkRhdGFiYXNlP25hdmlnYXRvci5zcWxpdGVQbHVnaW4ub3BlbkRhdGFiYXNlLmFwcGx5KG5hdmlnYXRvci5zcWxpdGVQbHVnaW4sYXJndW1lbnRzKTp3aW5kb3cuc3FsaXRlUGx1Z2luJiZ3aW5kb3cuc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZT93aW5kb3cuc3FsaXRlUGx1Z2luLm9wZW5EYXRhYmFzZS5hcHBseSh3aW5kb3cuc3FsaXRlUGx1Z2luLGFyZ3VtZW50cyk6d2luZG93Lm9wZW5EYXRhYmFzZS5hcHBseSh3aW5kb3csYXJndW1lbnRzKTp2b2lkIDB9ZnVuY3Rpb24gdW5rbm93bkVycm9yKGUpe3JldHVybiBmdW5jdGlvbih0KXt1dGlscy5jYWxsKGUse3N0YXR1czo1MDAsZXJyb3I6dC50eXBlLHJlYXNvbjp0LnRhcmdldH0pfX1mdW5jdGlvbiBpZGJFcnJvcihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dXRpbHMuY2FsbChlLGVycm9ycy5lcnJvcihlcnJvcnMuV1NRX0VSUk9SLHQudGFyZ2V0LHQudHlwZSkpfX1mdW5jdGlvbiB3ZWJTcWxQb3VjaChlLHQpe2Z1bmN0aW9uIG4oKXt0KG51bGwsYSl9ZnVuY3Rpb24gaSgpe3MudHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7dmFyIHQ9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIitNRVRBX1NUT1JFK1wiICh1cGRhdGVfc2VxLCBkYmlkKVwiLG49XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIitBVFRBQ0hfU1RPUkUrXCIgKGRpZ2VzdCwganNvbiwgYm9keSBCTE9CKVwiLGk9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIitET0NfU1RPUkUrXCIgKGlkIHVuaXF1ZSwgc2VxLCBqc29uLCB3aW5uaW5nc2VxKVwiLGE9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIitCWV9TRVFfU1RPUkUrXCIgKHNlcSBJTlRFR0VSIE5PVCBOVUxMIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIGRvY19pZF9yZXYgVU5JUVVFLCBqc29uKVwiO2UuZXhlY3V0ZVNxbChuKSxlLmV4ZWN1dGVTcWwoaSksZS5leGVjdXRlU3FsKGEpLGUuZXhlY3V0ZVNxbCh0KTt2YXIgbz1cIlNFTEVDVCB1cGRhdGVfc2VxIEZST00gXCIrTUVUQV9TVE9SRTtlLmV4ZWN1dGVTcWwobyxbXSxmdW5jdGlvbihlLHQpe2lmKCF0LnJvd3MubGVuZ3RoKXt2YXIgbj1cIklOU0VSVCBJTlRPIFwiK01FVEFfU1RPUkUrXCIgKHVwZGF0ZV9zZXEpIFZBTFVFUyAoPylcIjtyZXR1cm4gdm9pZCBlLmV4ZWN1dGVTcWwobixbMF0pfX0pO3ZhciBzPVwiU0VMRUNUIGRiaWQgRlJPTSBcIitNRVRBX1NUT1JFK1wiIFdIRVJFIGRiaWQgSVMgTk9UIE5VTExcIjtlLmV4ZWN1dGVTcWwocyxbXSxmdW5jdGlvbihlLHQpe2lmKCF0LnJvd3MubGVuZ3RoKXt2YXIgbj1cIlVQREFURSBcIitNRVRBX1NUT1JFK1wiIFNFVCBkYmlkPT9cIjtyZXR1cm4gcj11dGlscy51dWlkKCksdm9pZCBlLmV4ZWN1dGVTcWwobixbcl0pfXI9dC5yb3dzLml0ZW0oMCkuZGJpZH0pfSx1bmtub3duRXJyb3IodCksbil9dmFyIGE9e30scj1udWxsLG89ZS5uYW1lLHM9b3BlbkRCKG8sUE9VQ0hfVkVSU0lPTixvLFBPVUNIX1NJWkUpO3JldHVybiBzPyh1dGlscy5pc0NvcmRvdmEoKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihvK1wiX3BvdWNoXCIsZnVuY3Rpb24gdSgpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKG8rXCJfcG91Y2hcIix1LCExKSxpKCl9LCExKTppKCksYS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuXCJ3ZWJzcWxcIn0sYS5pZD1mdW5jdGlvbigpe3JldHVybiByfSxhLl9pbmZvPWZ1bmN0aW9uKGUpe3MudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dmFyIG49XCJTRUxFQ1QgQ09VTlQoaWQpIEFTIGNvdW50IEZST00gXCIrRE9DX1NUT1JFO3QuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKHQsbil7dmFyIGk9bi5yb3dzLml0ZW0oMCkuY291bnQsYT1cIlNFTEVDVCB1cGRhdGVfc2VxIEZST00gXCIrTUVUQV9TVE9SRTt0LmV4ZWN1dGVTcWwoYSxbXSxmdW5jdGlvbih0LG4pe3ZhciBhPW4ucm93cy5pdGVtKDApLnVwZGF0ZV9zZXE7ZShudWxsLHtkYl9uYW1lOm8sZG9jX2NvdW50OmksdXBkYXRlX3NlcTphfSl9KX0pfSl9LGEuX2J1bGtEb2NzPWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGUuX2J1bGtfc2VxLXQuX2J1bGtfc2VxfWZ1bmN0aW9uIGEoKXt2YXIgZT1bXTt3LnNvcnQoaSksdy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKGRlbGV0ZSB0Ll9idWxrX3NlcSx0LmVycm9yKXJldHVybiB2b2lkIGUucHVzaCh0KTt2YXIgbj10Lm1ldGFkYXRhLGk9bWVyZ2Uud2lubmluZ1JldihuKTtlLnB1c2goe29rOiEwLGlkOm4uaWQscmV2Oml9KSx1dGlscy5pc0xvY2FsSWQobi5pZCl8fChSKyssd2ViU3FsUG91Y2guQ2hhbmdlcy5ub3RpZnkobyksd2ViU3FsUG91Y2guQ2hhbmdlcy5ub3RpZnlMb2NhbFdpbmRvd3MobykpfSk7dmFyIHQ9XCJTRUxFQ1QgdXBkYXRlX3NlcSBGUk9NIFwiK01FVEFfU1RPUkU7Zy5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24odCxpKXt2YXIgYT1pLnJvd3MuaXRlbSgwKS51cGRhdGVfc2VxK1Iscj1cIlVQREFURSBcIitNRVRBX1NUT1JFK1wiIFNFVCB1cGRhdGVfc2VxPT9cIjt0LmV4ZWN1dGVTcWwocixbYV0sZnVuY3Rpb24oKXt1dGlscy5jYWxsKG4sbnVsbCxlKX0pfSl9ZnVuY3Rpb24gcihlLHQpe2lmKGUuc3R1YilyZXR1cm4gdCgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGEpe3RyeXtlLmRhdGE9YXRvYihlLmRhdGEpfWNhdGNoKGkpe3ZhciBhPWVycm9ycy5lcnJvcihlcnJvcnMuQkFEX0FSRyxcIkF0dGFjaG1lbnRzIG5lZWQgdG8gYmUgYmFzZTY0IGVuY29kZWRcIik7cmV0dXJuIHV0aWxzLmNhbGwobixhKX1yZXR1cm4gZS5kaWdlc3Q9XCJtZDUtXCIrdXRpbHMuQ3J5cHRvLk1ENShlLmRhdGEpLHQoKX12YXIgcj1uZXcgRmlsZVJlYWRlcjtyLm9ubG9hZGVuZD1mdW5jdGlvbigpe2UuZGF0YT10aGlzLnJlc3VsdCxlLmRpZ2VzdD1cIm1kNS1cIit1dGlscy5DcnlwdG8uTUQ1KHRoaXMucmVzdWx0KSx0KCl9LHIucmVhZEFzQmluYXJ5U3RyaW5nKGUuZGF0YSl9ZnVuY3Rpb24gdShlKXtmdW5jdGlvbiB0KCl7bisrLHYubGVuZ3RoPT09biYmZSgpfWlmKCF2Lmxlbmd0aClyZXR1cm4gZSgpO3ZhciBuPTAsaT0wO3YuZm9yRWFjaChmdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7aSsrLGk9PT1hLmxlbmd0aCYmdCgpfXZhciBhPWUuZGF0YSYmZS5kYXRhLl9hdHRhY2htZW50cz9PYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzKTpbXTtpZighYS5sZW5ndGgpcmV0dXJuIHQoKTtmb3IodmFyIG8gaW4gZS5kYXRhLl9hdHRhY2htZW50cylyKGUuZGF0YS5fYXR0YWNobWVudHNbb10sbil9KX1mdW5jdGlvbiBsKGUsdCxuKXtmdW5jdGlvbiBpKCl7dmFyIHQ9ZS5kYXRhLG49XCJJTlNFUlQgSU5UTyBcIitCWV9TRVFfU1RPUkUrXCIgKGRvY19pZF9yZXYsIGpzb24pIFZBTFVFUyAoPywgPyk7XCI7Zy5leGVjdXRlU3FsKG4sW3QuX2lkK1wiOjpcIit0Ll9yZXYsSlNPTi5zdHJpbmdpZnkodCldLG8pfWZ1bmN0aW9uIGEoZSl7c3x8KGU/KHM9ZSx1dGlscy5jYWxsKHQscykpOnU9PT1sLmxlbmd0aCYmaSgpKX1mdW5jdGlvbiByKGUpe3UrKyxhKGUpfWZ1bmN0aW9uIG8oaSxhKXt2YXIgcj1lLm1ldGFkYXRhLnNlcT1hLmluc2VydElkO2RlbGV0ZSBlLm1ldGFkYXRhLnJldjt2YXIgbz1tZXJnZS53aW5uaW5nUmV2KGUubWV0YWRhdGEpLHM9bj9cIlVQREFURSBcIitET0NfU1RPUkUrXCIgU0VUIHNlcT0/LCBqc29uPT8sIHdpbm5pbmdzZXE9KFNFTEVDVCBzZXEgRlJPTSBcIitCWV9TRVFfU1RPUkUrXCIgV0hFUkUgZG9jX2lkX3Jldj0/KSBXSEVSRSBpZD0/XCI6XCJJTlNFUlQgSU5UTyBcIitET0NfU1RPUkUrXCIgKGlkLCBzZXEsIHdpbm5pbmdzZXEsIGpzb24pIFZBTFVFUyAoPywgPywgPywgPyk7XCIsdT1KU09OLnN0cmluZ2lmeShlLm1ldGFkYXRhKSxsPWUubWV0YWRhdGEuaWQrXCI6OlwiK28sZD1uP1tyLHUsbCxlLm1ldGFkYXRhLmlkXTpbZS5tZXRhZGF0YS5pZCxyLHIsdV07aS5leGVjdXRlU3FsKHMsZCxmdW5jdGlvbigpe3cucHVzaChlKSx1dGlscy5jYWxsKHQsbnVsbCl9KX12YXIgcz1udWxsLHU9MDtlLmRhdGEuX2lkPWUubWV0YWRhdGEuaWQsZS5kYXRhLl9yZXY9ZS5tZXRhZGF0YS5yZXYsdXRpbHMuaXNEZWxldGVkKGUubWV0YWRhdGEsZS5tZXRhZGF0YS5yZXYpJiYoZS5kYXRhLl9kZWxldGVkPSEwKTt2YXIgbD1lLmRhdGEuX2F0dGFjaG1lbnRzP09iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHMpOltdO2Zvcih2YXIgZCBpbiBlLmRhdGEuX2F0dGFjaG1lbnRzKWlmKGUuZGF0YS5fYXR0YWNobWVudHNbZF0uc3R1Yil1KyssYSgpO2Vsc2V7dmFyIGM9ZS5kYXRhLl9hdHRhY2htZW50c1tkXS5kYXRhO2RlbGV0ZSBlLmRhdGEuX2F0dGFjaG1lbnRzW2RdLmRhdGE7dmFyIEU9ZS5kYXRhLl9hdHRhY2htZW50c1tkXS5kaWdlc3Q7XyhlLEUsYyxyKX1sLmxlbmd0aHx8aSgpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1tZXJnZS5tZXJnZShlLnJldl90cmVlLHQubWV0YWRhdGEucmV2X3RyZWVbMF0sMWUzKSxpPXV0aWxzLmlzRGVsZXRlZChlKSYmdXRpbHMuaXNEZWxldGVkKHQubWV0YWRhdGEpfHwhdXRpbHMuaXNEZWxldGVkKGUpJiZUJiZcIm5ld19sZWFmXCIhPT1uLmNvbmZsaWN0cztyZXR1cm4gaT8ody5wdXNoKFMoZXJyb3JzLlJFVl9DT05GTElDVCx0Ll9idWxrX3NlcSkpLEUoKSk6KHQubWV0YWRhdGEucmV2X3RyZWU9bi50cmVlLHZvaWQgbCh0LEUsITApKX1mdW5jdGlvbiBjKGUpe3JldHVyblwid2FzX2RlbGV0ZVwiaW4gdCYmdXRpbHMuaXNEZWxldGVkKGUubWV0YWRhdGEpPyh3LnB1c2goZXJyb3JzLk1JU1NJTkdfRE9DKSxFKCkpOnZvaWQgbChlLEUsITEpfWZ1bmN0aW9uIEUoKXtpZighdi5sZW5ndGgpcmV0dXJuIGEoKTt2YXIgZT12LnNoaWZ0KCksdD1lLm1ldGFkYXRhLmlkO3QgaW4gbT9kKG1bdF0sZSk6KG1bdF09ZS5tZXRhZGF0YSxjKGUpKX1mdW5jdGlvbiBTKGUsdCl7cmV0dXJuIGUuX2J1bGtfc2VxPXQsZX1mdW5jdGlvbiBfKGUsdCxuLGkpe3ZhciBhPVtlLm1ldGFkYXRhLmlkLGUubWV0YWRhdGEucmV2XS5qb2luKFwiQFwiKSxyPXtkaWdlc3Q6dH0sbz1cIlNFTEVDVCBkaWdlc3QsIGpzb24gRlJPTSBcIitBVFRBQ0hfU1RPUkUrXCIgV0hFUkUgZGlnZXN0PT9cIjtnLmV4ZWN1dGVTcWwobyxbdF0sZnVuY3Rpb24oZSxzKXtzLnJvd3MubGVuZ3RoPyhyLnJlZnM9SlNPTi5wYXJzZShzLnJvd3MuaXRlbSgwKS5qc29uKS5yZWZzLG89XCJVUERBVEUgXCIrQVRUQUNIX1NUT1JFK1wiIFNFVCBqc29uPT8sIGJvZHk9PyBXSEVSRSBkaWdlc3Q9P1wiLGUuZXhlY3V0ZVNxbChvLFtKU09OLnN0cmluZ2lmeShyKSxuLHRdLGZ1bmN0aW9uKCl7dXRpbHMuY2FsbChpLG51bGwpfSkpOihyLnJlZnM9e30sci5yZWZzW2FdPSEwLG89XCJJTlNFUlQgSU5UTyBcIitBVFRBQ0hfU1RPUkUrXCIoZGlnZXN0LCBqc29uLCBib2R5KSBWQUxVRVMgKD8sID8sID8pXCIsZS5leGVjdXRlU3FsKG8sW3QsSlNPTi5zdHJpbmdpZnkociksbl0sZnVuY3Rpb24oKXt1dGlscy5jYWxsKGksbnVsbCl9KSl9KX1mdW5jdGlvbiBPKGUsdCl7Zm9yKHZhciBuPTA7bjx0LnJvd3MubGVuZ3RoO24rKyl7dmFyIGk9dC5yb3dzLml0ZW0obik7bVtpLmlkXT1KU09OLnBhcnNlKGkuanNvbil9RSgpfXZhciBUPXQubmV3X2VkaXRzLGY9ZS5kb2NzLFI9MCx2PWYubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49dXRpbHMucGFyc2VEb2MoZSxUKTtyZXR1cm4gbi5fYnVsa19zZXE9dCxufSkscT12LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5lcnJvcn0pO2lmKHEubGVuZ3RoKXJldHVybiB1dGlscy5jYWxsKG4scVswXSk7dmFyIGcsdz1bXSxtPXt9O3UoZnVuY3Rpb24oKXtzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe2c9ZTt2YXIgdD1cIihcIit2Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcXVvdGUoZS5tZXRhZGF0YS5pZCl9KS5qb2luKFwiLFwiKStcIilcIixuPVwiU0VMRUNUICogRlJPTSBcIitET0NfU1RPUkUrXCIgV0hFUkUgaWQgSU4gXCIrdDtnLmV4ZWN1dGVTcWwobixbXSxPKX0sdW5rbm93bkVycm9yKG4pKX0pfSxhLl9nZXQ9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGkoKXt1dGlscy5jYWxsKG4sdSx7ZG9jOnIsbWV0YWRhdGE6byxjdHg6bH0pfXZhciByLG8sdTtpZighdC5jdHgpcmV0dXJuIHZvaWQgcy50cmFuc2FjdGlvbihmdW5jdGlvbihpKXt0LmN0eD1pLGEuX2dldChlLHQsbil9KTt2YXIgbD10LmN0eCxkPVwiU0VMRUNUICogRlJPTSBcIitET0NfU1RPUkUrXCIgV0hFUkUgaWQ9P1wiO2wuZXhlY3V0ZVNxbChkLFtlXSxmdW5jdGlvbihlLG4pe2lmKCFuLnJvd3MubGVuZ3RoKXJldHVybiB1PWVycm9ycy5NSVNTSU5HX0RPQyxpKCk7aWYobz1KU09OLnBhcnNlKG4ucm93cy5pdGVtKDApLmpzb24pLHV0aWxzLmlzRGVsZXRlZChvKSYmIXQucmV2KXJldHVybiB1PWVycm9ycy5lcnJvcihlcnJvcnMuTUlTU0lOR19ET0MsXCJkZWxldGVkXCIpLGkoKTt2YXIgYT1tZXJnZS53aW5uaW5nUmV2KG8pLHM9dC5yZXY/dC5yZXY6YTtzPW8uaWQrXCI6OlwiK3M7dmFyIGQ9XCJTRUxFQ1QgKiBGUk9NIFwiK0JZX1NFUV9TVE9SRStcIiBXSEVSRSBkb2NfaWRfcmV2PT9cIjtsLmV4ZWN1dGVTcWwoZCxbc10sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yb3dzLmxlbmd0aD8ocj1KU09OLnBhcnNlKHQucm93cy5pdGVtKDApLmpzb24pLHZvaWQgaSgpKToodT1lcnJvcnMuTUlTU0lOR19ET0MsaSgpKX0pfSl9LGEuX2FsbERvY3M9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPXt9LGE9XCJzdGFydGtleVwiaW4gZT9lLnN0YXJ0a2V5OiExLHI9XCJlbmRrZXlcImluIGU/ZS5lbmRrZXk6ITEsbz1cImRlc2NlbmRpbmdcImluIGU/ZS5kZXNjZW5kaW5nOiExLHU9XCJTRUxFQ1QgXCIrRE9DX1NUT1JFK1wiLmlkLCBcIitCWV9TRVFfU1RPUkUrXCIuc2VxLCBcIitCWV9TRVFfU1RPUkUrXCIuanNvbiBBUyBkYXRhLCBcIitET0NfU1RPUkUrXCIuanNvbiBBUyBtZXRhZGF0YSBGUk9NIFwiK0JZX1NFUV9TVE9SRStcIiBKT0lOIFwiK0RPQ19TVE9SRStcIiBPTiBcIitCWV9TRVFfU1RPUkUrXCIuc2VxID0gXCIrRE9DX1NUT1JFK1wiLndpbm5pbmdzZXFcIixsPVtdO1wia2V5c1wiaW4gZT8odSs9XCIgV0hFUkUgXCIrRE9DX1NUT1JFK1wiLmlkIElOIChcIitlLmtleXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuXCI/XCJ9KS5qb2luKFwiLFwiKStcIilcIixsPWwuY29uY2F0KGUua2V5cykpOihhJiYodSs9XCIgV0hFUkUgXCIrRE9DX1NUT1JFK1wiLmlkID49ID9cIixsLnB1c2goYSkpLHImJih1Kz0oYT9cIiBBTkQgXCI6XCIgV0hFUkUgXCIpK0RPQ19TVE9SRStcIi5pZCA8PSA/XCIsbC5wdXNoKHIpKSx1Kz1cIiBPUkRFUiBCWSBcIitET0NfU1RPUkUrXCIuaWQgXCIrKG8/XCJERVNDXCI6XCJBU0NcIikpLHMudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHUsbCxmdW5jdGlvbih0LGEpe2Zvcih2YXIgcj0wLG89YS5yb3dzLmxlbmd0aDtvPnI7cisrKXt2YXIgcz1hLnJvd3MuaXRlbShyKSx1PUpTT04ucGFyc2Uocy5tZXRhZGF0YSksbD1KU09OLnBhcnNlKHMuZGF0YSk7aWYoIXV0aWxzLmlzTG9jYWxJZCh1LmlkKSl7aWYocz17aWQ6dS5pZCxrZXk6dS5pZCx2YWx1ZTp7cmV2Om1lcmdlLndpbm5pbmdSZXYodSl9fSxlLmluY2x1ZGVfZG9jcyl7cy5kb2M9bCxzLmRvYy5fcmV2PW1lcmdlLndpbm5pbmdSZXYodSksZS5jb25mbGljdHMmJihzLmRvYy5fY29uZmxpY3RzPW1lcmdlLmNvbGxlY3RDb25mbGljdHModSkpO2Zvcih2YXIgZCBpbiBzLmRvYy5fYXR0YWNobWVudHMpcy5kb2MuX2F0dGFjaG1lbnRzW2RdLnN0dWI9ITB9XCJrZXlzXCJpbiBlP2Uua2V5cy5pbmRleE9mKHUuaWQpPi0xJiYodXRpbHMuaXNEZWxldGVkKHUpJiYocy52YWx1ZS5kZWxldGVkPSEwLHMuZG9jPW51bGwpLGlbcy5pZF09cyk6dXRpbHMuaXNEZWxldGVkKHUpfHxuLnB1c2gocyl9fX0pfSx1bmtub3duRXJyb3IodCksZnVuY3Rpb24oKXtcImtleXNcImluIGUmJihlLmtleXMuZm9yRWFjaChmdW5jdGlvbihlKXtuLnB1c2goZSBpbiBpP2lbZV06e2tleTplLGVycm9yOlwibm90X2ZvdW5kXCJ9KX0pLGUuZGVzY2VuZGluZyYmbi5yZXZlcnNlKCkpLHV0aWxzLmNhbGwodCxudWxsLHt0b3RhbF9yb3dzOm4ubGVuZ3RoLG9mZnNldDplLnNraXAscm93czpcImxpbWl0XCJpbiBlP24uc2xpY2UoZS5za2lwLGUubGltaXQrZS5za2lwKTplLnNraXA+MD9uLnNsaWNlKGUuc2tpcCk6bn0pfSl9LGEuX2NoYW5nZXM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PVwiU0VMRUNUIFwiK0RPQ19TVE9SRStcIi5pZCwgXCIrQllfU0VRX1NUT1JFK1wiLnNlcSwgXCIrQllfU0VRX1NUT1JFK1wiLmpzb24gQVMgZGF0YSwgXCIrRE9DX1NUT1JFK1wiLmpzb24gQVMgbWV0YWRhdGEgRlJPTSBcIitCWV9TRVFfU1RPUkUrXCIgSk9JTiBcIitET0NfU1RPUkUrXCIgT04gXCIrQllfU0VRX1NUT1JFK1wiLnNlcSA9IFwiK0RPQ19TVE9SRStcIi53aW5uaW5nc2VxIFdIRVJFIFwiK0RPQ19TVE9SRStcIi5zZXEgPiBcIitlLnNpbmNlK1wiIE9SREVSIEJZIFwiK0RPQ19TVE9SRStcIi5zZXEgXCIrKGk/XCJERVNDXCI6XCJBU0NcIik7cy50cmFuc2FjdGlvbihmdW5jdGlvbihuKXtuLmV4ZWN1dGVTcWwodCxbXSxmdW5jdGlvbih0LG4pe2Zvcih2YXIgaT0wLGE9MCxvPW4ucm93cy5sZW5ndGg7bz5hO2ErKyl7dmFyIHM9bi5yb3dzLml0ZW0oYSksdT1KU09OLnBhcnNlKHMubWV0YWRhdGEpO2lmKCF1dGlscy5pc0xvY2FsSWQodS5pZCkpe2k8cy5zZXEmJihpPXMuc2VxKTt2YXIgbD1KU09OLnBhcnNlKHMuZGF0YSksZD1lLnByb2Nlc3NDaGFuZ2UobCx1LGUpO2Quc2VxPXMuc2VxLHIucHVzaChkKX19dXRpbHMucHJvY2Vzc0NoYW5nZXMoZSxyLGkpfSl9KX1pZihlLmNvbnRpbnVvdXMpe3ZhciBuPW8rXCI6XCIrdXRpbHMudXVpZCgpO3JldHVybiBlLmNhbmNlbGxlZD0hMSx3ZWJTcWxQb3VjaC5DaGFuZ2VzLmFkZExpc3RlbmVyKG8sbixhLGUpLHdlYlNxbFBvdWNoLkNoYW5nZXMubm90aWZ5KG8pLHtjYW5jZWw6ZnVuY3Rpb24oKXtlLmNhbmNlbGxlZD0hMCx3ZWJTcWxQb3VjaC5DaGFuZ2VzLnJlbW92ZUxpc3RlbmVyKG8sbil9fX12YXIgaT1lLmRlc2NlbmRpbmc7ZS5zaW5jZT1lLnNpbmNlJiYhaT9lLnNpbmNlOjA7dmFyIHI9W107dCgpfSxhLl9jbG9zZT1mdW5jdGlvbihlKXt1dGlscy5jYWxsKGUsbnVsbCl9LGEuX2dldEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLGE9dC5jdHgscj1lLmRpZ2VzdCxvPWUuY29udGVudF90eXBlLHM9XCJTRUxFQ1QgYm9keSBGUk9NIFwiK0FUVEFDSF9TVE9SRStcIiBXSEVSRSBkaWdlc3Q9P1wiO2EuZXhlY3V0ZVNxbChzLFtyXSxmdW5jdGlvbihlLGEpe3ZhciByPWEucm93cy5pdGVtKDApLmJvZHk7aT10LmVuY29kZT9idG9hKHIpOnV0aWxzLmNyZWF0ZUJsb2IoW3JdLHt0eXBlOm99KSx1dGlscy5jYWxsKG4sbnVsbCxpKX0pfSxhLl9nZXRSZXZpc2lvblRyZWU9ZnVuY3Rpb24oZSx0KXtzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKG4pe3ZhciBpPVwiU0VMRUNUIGpzb24gQVMgbWV0YWRhdGEgRlJPTSBcIitET0NfU1RPUkUrXCIgV0hFUkUgaWQgPSA/XCI7bi5leGVjdXRlU3FsKGksW2VdLGZ1bmN0aW9uKGUsbil7aWYobi5yb3dzLmxlbmd0aCl7dmFyIGk9SlNPTi5wYXJzZShuLnJvd3MuaXRlbSgwKS5tZXRhZGF0YSk7dXRpbHMuY2FsbCh0LG51bGwsaS5yZXZfdHJlZSl9ZWxzZSB1dGlscy5jYWxsKHQsZXJyb3JzLk1JU1NJTkdfRE9DKX0pfSl9LGEuX2RvQ29tcGFjdGlvbj1mdW5jdGlvbihlLHQsbixpKXtzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGEpe3ZhciByPVwiU0VMRUNUIGpzb24gQVMgbWV0YWRhdGEgRlJPTSBcIitET0NfU1RPUkUrXCIgV0hFUkUgaWQgPSA/XCI7YS5leGVjdXRlU3FsKHIsW2VdLGZ1bmN0aW9uKGEscil7aWYoIXIucm93cy5sZW5ndGgpcmV0dXJuIHV0aWxzLmNhbGwoaSk7dmFyIG89SlNPTi5wYXJzZShyLnJvd3MuaXRlbSgwKS5tZXRhZGF0YSk7by5yZXZfdHJlZT10O3ZhciBzPVwiREVMRVRFIEZST00gXCIrQllfU0VRX1NUT1JFK1wiIFdIRVJFIGRvY19pZF9yZXYgSU4gKFwiK24ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBxdW90ZShlK1wiOjpcIit0KX0pLmpvaW4oXCIsXCIpK1wiKVwiO2EuZXhlY3V0ZVNxbChzLFtdLGZ1bmN0aW9uKHQpe3ZhciBuPVwiVVBEQVRFIFwiK0RPQ19TVE9SRStcIiBTRVQganNvbiA9ID8gV0hFUkUgaWQgPSA/XCI7dC5leGVjdXRlU3FsKG4sW0pTT04uc3RyaW5naWZ5KG8pLGVdLGZ1bmN0aW9uKCl7aSgpfSl9KX0pfSl9LGEpOnV0aWxzLmNhbGwodCxlcnJvcnMuVU5LTk9XTl9FUlJPUil9dmFyIHV0aWxzPXJlcXVpcmUoXCIuLi91dGlsc1wiKSxtZXJnZT1yZXF1aXJlKFwiLi4vbWVyZ2VcIiksZXJyb3JzPXJlcXVpcmUoXCIuLi9kZXBzL2Vycm9yc1wiKSxQT1VDSF9WRVJTSU9OPTEsUE9VQ0hfU0laRT01MjQyODgwLERPQ19TVE9SRT1xdW90ZShcImRvY3VtZW50LXN0b3JlXCIpLEJZX1NFUV9TVE9SRT1xdW90ZShcImJ5LXNlcXVlbmNlXCIpLEFUVEFDSF9TVE9SRT1xdW90ZShcImF0dGFjaC1zdG9yZVwiKSxNRVRBX1NUT1JFPXF1b3RlKFwibWV0YWRhdGEtc3RvcmVcIik7d2ViU3FsUG91Y2gudmFsaWQ9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXtpZih3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnNxbGl0ZVBsdWdpbiYmd2luZG93Lm5hdmlnYXRvci5zcWxpdGVQbHVnaW4ub3BlbkRhdGFiYXNlKXJldHVybiEwO2lmKHdpbmRvdy5zcWxpdGVQbHVnaW4mJndpbmRvdy5zcWxpdGVQbHVnaW4ub3BlbkRhdGFiYXNlKXJldHVybiEwO2lmKHdpbmRvdy5vcGVuRGF0YWJhc2UpcmV0dXJuITB9cmV0dXJuITF9LHdlYlNxbFBvdWNoLmRlc3Ryb3k9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW9wZW5EQihlLFBPVUNIX1ZFUlNJT04sZSxQT1VDSF9TSVpFKTtpLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe2UuZXhlY3V0ZVNxbChcIkRST1AgVEFCTEUgSUYgRVhJU1RTIFwiK0RPQ19TVE9SRSxbXSksZS5leGVjdXRlU3FsKFwiRFJPUCBUQUJMRSBJRiBFWElTVFMgXCIrQllfU0VRX1NUT1JFLFtdKSxlLmV4ZWN1dGVTcWwoXCJEUk9QIFRBQkxFIElGIEVYSVNUUyBcIitBVFRBQ0hfU1RPUkUsW10pLGUuZXhlY3V0ZVNxbChcIkRST1AgVEFCTEUgSUYgRVhJU1RTIFwiK01FVEFfU1RPUkUsW10pfSx1bmtub3duRXJyb3IobiksZnVuY3Rpb24oKXt1dGlscy5jYWxsKG4sbnVsbCl9KX0sd2ViU3FsUG91Y2guQ2hhbmdlcz1uZXcgdXRpbHMuQ2hhbmdlcyxtb2R1bGUuZXhwb3J0cz13ZWJTcWxQb3VjaDsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQb3VjaERCKGUsYSxyKXtpZighKHRoaXMgaW5zdGFuY2VvZiBQb3VjaERCKSlyZXR1cm4gbmV3IFBvdWNoREIoZSxhLHIpOyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBhfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYSkmJihyPWEsYT17fSksXCJvYmplY3RcIj09dHlwZW9mIGUmJihhPWUsZT12b2lkIDApLFwidW5kZWZpbmVkXCI9PXR5cGVvZiByJiYocj1mdW5jdGlvbigpe30pO3ZhciBpPWEubmFtZXx8ZSx0PVBvdWNoREIucGFyc2VBZGFwdGVyKGkpO2lmKGEub3JpZ2luYWxOYW1lPWksYS5uYW1lPXQubmFtZSxhLmFkYXB0ZXI9YS5hZGFwdGVyfHx0LmFkYXB0ZXIsIVBvdWNoREIuYWRhcHRlcnNbYS5hZGFwdGVyXSl0aHJvd1wiQWRhcHRlciBpcyBtaXNzaW5nXCI7aWYoIVBvdWNoREIuYWRhcHRlcnNbYS5hZGFwdGVyXS52YWxpZCgpKXRocm93XCJJbnZhbGlkIEFkYXB0ZXJcIjt2YXIgbj1uZXcgQWRhcHRlcihhLGZ1bmN0aW9uKGUsYSl7aWYoZSlyZXR1cm4gdm9pZChyJiZyKGUpKTtmb3IodmFyIGkgaW4gUG91Y2hEQi5wbHVnaW5zKXt2YXIgdD1Qb3VjaERCLnBsdWdpbnNbaV0oYSk7Zm9yKHZhciBuIGluIHQpbiBpbiBhfHwoYVtuXT10W25dKX1hLnRhc2txdWV1ZS5yZWFkeSghMCksYS50YXNrcXVldWUuZXhlY3V0ZShhKSxyKG51bGwsYSl9KTtmb3IodmFyIG8gaW4gbil0aGlzW29dPW5bb107Zm9yKHZhciB1IGluIFBvdWNoREIucGx1Z2lucyl7dmFyIGQ9UG91Y2hEQi5wbHVnaW5zW3VdKHRoaXMpO2Zvcih2YXIgcCBpbiBkKXAgaW4gdGhpc3x8KHRoaXNbcF09ZFtwXSl9fXZhciBBZGFwdGVyPXJlcXVpcmUoXCIuL2FkYXB0ZXJcIikoUG91Y2hEQik7bW9kdWxlLmV4cG9ydHM9UG91Y2hEQjsiLCIoZnVuY3Rpb24gKHByb2Nlc3Mpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYWpheChlLHIpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3R5cGVvZiBlPT10eXBlb2YgRnVuY3Rpb24mJmUuYXBwbHkodGhpcyxyKX1mdW5jdGlvbiBvKHIsbyxzKXtpZihlLmJpbmFyeXx8ZS5qc29ufHwhZS5wcm9jZXNzRGF0YXx8XCJzdHJpbmdcIj09dHlwZW9mIHIpe2lmKCFlLmJpbmFyeSYmZS5qc29uJiZcInN0cmluZ1wiPT10eXBlb2Ygcil0cnl7cj1KU09OLnBhcnNlKHIpfWNhdGNoKG4pe3JldHVybiB2b2lkIHQocyxuKX19ZWxzZSByPUpTT04uc3RyaW5naWZ5KHIpO0FycmF5LmlzQXJyYXkocikmJihyPXIubWFwKGZ1bmN0aW9uKGUpe3ZhciByO3JldHVybiBlLm9rP2U6ZS5lcnJvciYmXCJjb25mbGljdFwiPT09ZS5lcnJvcj8ocj1lcnJvcnMuUkVWX0NPTkZMSUNULHIuaWQ9ZS5pZCxyKTplLm1pc3Npbmc/KHI9ZXJyb3JzLk1JU1NJTkdfRE9DLHIubWlzc2luZz1lLm1pc3Npbmcscik6dm9pZCAwfSkpLHQocyxudWxsLHIsbyl9ZnVuY3Rpb24gcyhlLHIpe3ZhciBvLHMsbixhO3RyeXtvPUpTT04ucGFyc2UoZS5yZXNwb25zZVRleHQpO2ZvcihhIGluIGVycm9ycylpZihlcnJvcnNbYV0ubmFtZT09PW8uZXJyb3Ipe249ZXJyb3JzW2FdO2JyZWFrfW49bnx8ZXJyb3JzLlVOS05PV05fRVJST1Iscz1lcnJvcnMuZXJyb3IobixvLnJlYXNvbil9Y2F0Y2goaSl7cz1lcnJvcnMuZXJyb3IoZXJyb3JzLlVOS05PV05fRVJST1IpfXQocixzKX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYocj1lLGU9e30pO3ZhciBuPXttZXRob2Q6XCJHRVRcIixoZWFkZXJzOnt9LGpzb246ITAscHJvY2Vzc0RhdGE6ITAsdGltZW91dDoxZTR9O2lmKGU9ZXh0ZW5kKCEwLG4sZSkscHJvY2Vzcy5icm93c2VyJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3Qpe3ZhciBhLGk9ITEscD1uZXcgWE1MSHR0cFJlcXVlc3Q7cC5vcGVuKGUubWV0aG9kLGUudXJsKSxwLndpdGhDcmVkZW50aWFscz0hMCxlLmpzb24mJihlLmhlYWRlcnMuQWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiLGUuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1lLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl18fFwiYXBwbGljYXRpb24vanNvblwiLGUuYm9keSYmZS5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUuYm9keSYmKGUuYm9keT1KU09OLnN0cmluZ2lmeShlLmJvZHkpKSksZS5iaW5hcnkmJihwLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpO3ZhciB1PWZ1bmN0aW9uKGUscix0KXt2YXIgbz1cIlwiO2lmKHQpe3ZhciBzPW5ldyBEYXRlO3Muc2V0VGltZShzLmdldFRpbWUoKSsyNCp0KjYwKjYwKjFlMyksbz1cIjsgZXhwaXJlcz1cIitzLnRvR01UU3RyaW5nKCl9ZG9jdW1lbnQuY29va2llPWUrXCI9XCIrcitvK1wiOyBwYXRoPS9cIn07Zm9yKHZhciBjIGluIGUuaGVhZGVycylpZihcIkNvb2tpZVwiPT09Yyl7dmFyIGQ9ZS5oZWFkZXJzW2NdLnNwbGl0KFwiPVwiKTt1KGRbMF0sZFsxXSwxMCl9ZWxzZSBwLnNldFJlcXVlc3RIZWFkZXIoYyxlLmhlYWRlcnNbY10pO1wiYm9keVwiaW4gZXx8KGUuYm9keT1udWxsKTt2YXIgeT1mdW5jdGlvbigpe2k9ITAscC5hYm9ydCgpLHQocyxwLHIpfTtyZXR1cm4gcC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09cC5yZWFkeVN0YXRlJiYhaSlpZihjbGVhclRpbWVvdXQoYSkscC5zdGF0dXM+PTIwMCYmcC5zdGF0dXM8MzAwKXt2YXIgbjtuPWUuYmluYXJ5P2NyZWF0ZUJsb2IoW3AucmVzcG9uc2V8fFwiXCJdLHt0eXBlOnAuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIil9KTpwLnJlc3BvbnNlVGV4dCx0KG8sbixwLHIpfWVsc2UgdChzLHAscil9LGUudGltZW91dD4wJiYoYT1zZXRUaW1lb3V0KHksZS50aW1lb3V0KSxwLnVwbG9hZC5vbnByb2dyZXNzPXAub25wcm9ncmVzcz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChhKSxhPXNldFRpbWVvdXQoeSxlLnRpbWVvdXQpfSkscC5zZW5kKGUuYm9keSkse2Fib3J0Onl9fXJldHVybiBlLmpzb24mJihlLmJpbmFyeXx8KGUuaGVhZGVycy5BY2NlcHQ9XCJhcHBsaWNhdGlvbi9qc29uXCIpLGUuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1lLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl18fFwiYXBwbGljYXRpb24vanNvblwiKSxlLmJpbmFyeSYmKGUuZW5jb2Rpbmc9bnVsbCxlLmpzb249ITEpLGUucHJvY2Vzc0RhdGF8fChlLmpzb249ITEpLHJlcXVlc3QoZSxmdW5jdGlvbihuLGEsaSl7aWYobilyZXR1cm4gbi5zdGF0dXM9YT9hLnN0YXR1c0NvZGU6NDAwLHQocyxuLHIpO3ZhciBwLHU9YS5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdLGM9aXx8XCJcIjtlLmJpbmFyeXx8IWUuanNvbiYmZS5wcm9jZXNzRGF0YXx8XCJvYmplY3RcIj09dHlwZW9mIGN8fCEoL2pzb24vLnRlc3QodSl8fC9eW1xcc10qXFx7Ly50ZXN0KGMpJiYvXFx9W1xcc10qJC8udGVzdChjKSl8fChjPUpTT04ucGFyc2UoYykpLGEuc3RhdHVzQ29kZT49MjAwJiZhLnN0YXR1c0NvZGU8MzAwP3QobyxjLGEscik6KGUuYmluYXJ5JiYoYz1KU09OLnBhcnNlKGMudG9TdHJpbmcoKSkpLHA9XCJtaXNzaW5nXCI9PT1jLnJlYXNvbj9lcnJvcnMuTUlTU0lOR19ET0M6XCJub19kYl9maWxlXCI9PT1jLnJlYXNvbj9lcnJvcnMuZXJyb3IoZXJyb3JzLkRCX01JU1NJTkcsYy5yZWFzb24pOlwiY29uZmxpY3RcIj09PWMuZXJyb3I/ZXJyb3JzLlJFVl9DT05GTElDVDplcnJvcnMuZXJyb3IoZXJyb3JzLlVOS05PV05fRVJST1IsYy5yZWFzb24sYy5lcnJvcikscC5zdGF0dXM9YS5zdGF0dXNDb2RlLHQocixwKSl9KX12YXIgcmVxdWVzdD1yZXF1aXJlKFwicmVxdWVzdFwiKSxleHRlbmQ9cmVxdWlyZShcIi4vZXh0ZW5kLmpzXCIpLGNyZWF0ZUJsb2I9cmVxdWlyZShcIi4vYmxvYi5qc1wiKSxlcnJvcnM9cmVxdWlyZShcIi4vZXJyb3JzXCIpO21vZHVsZS5leHBvcnRzPWFqYXg7XG59KS5jYWxsKHRoaXMscmVxdWlyZShcIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiKSkiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGVCbG9iKGUsbyl7ZT1lfHxbXSxvPW98fHt9O3RyeXtyZXR1cm4gbmV3IEJsb2IoZSxvKX1jYXRjaChyKXtpZihcIlR5cGVFcnJvclwiIT09ci5uYW1lKXRocm93IHI7Zm9yKHZhciB0PXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyLGw9bmV3IHQsbj0wO248ZS5sZW5ndGg7bis9MSlsLmFwcGVuZChlW25dKTtyZXR1cm4gbC5nZXRCbG9iKG8udHlwZSl9fW1vZHVsZS5leHBvcnRzPWNyZWF0ZUJsb2I7IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUG91Y2hFcnJvcihyKXt0aGlzLnN0YXR1cz1yLnN0YXR1cyx0aGlzLm5hbWU9ci5lcnJvcix0aGlzLm1lc3NhZ2U9ci5yZWFzb24sdGhpcy5lcnJvcj0hMH1Qb3VjaEVycm9yLnByb3RvdHlwZT1uZXcgRXJyb3IsZXhwb3J0cy5NSVNTSU5HX0JVTEtfRE9DUz1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQwMCxlcnJvcjpcImJhZF9yZXF1ZXN0XCIscmVhc29uOlwiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnXCJ9KSxleHBvcnRzLk1JU1NJTkdfRE9DPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDA0LGVycm9yOlwibm90X2ZvdW5kXCIscmVhc29uOlwibWlzc2luZ1wifSksZXhwb3J0cy5SRVZfQ09ORkxJQ1Q9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MDksZXJyb3I6XCJjb25mbGljdFwiLHJlYXNvbjpcIkRvY3VtZW50IHVwZGF0ZSBjb25mbGljdFwifSksZXhwb3J0cy5JTlZBTElEX0lEPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDAwLGVycm9yOlwiaW52YWxpZF9pZFwiLHJlYXNvbjpcIl9pZCBmaWVsZCBtdXN0IGNvbnRhaW4gYSBzdHJpbmdcIn0pLGV4cG9ydHMuTUlTU0lOR19JRD1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjQxMixlcnJvcjpcIm1pc3NpbmdfaWRcIixyZWFzb246XCJfaWQgaXMgcmVxdWlyZWQgZm9yIHB1dHNcIn0pLGV4cG9ydHMuUkVTRVJWRURfSUQ9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MDAsZXJyb3I6XCJiYWRfcmVxdWVzdFwiLHJlYXNvbjpcIk9ubHkgcmVzZXJ2ZWQgZG9jdW1lbnQgaWRzIG1heSBzdGFydCB3aXRoIHVuZGVyc2NvcmUuXCJ9KSxleHBvcnRzLk5PVF9PUEVOPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDEyLGVycm9yOlwicHJlY29uZGl0aW9uX2ZhaWxlZFwiLHJlYXNvbjpcIkRhdGFiYXNlIG5vdCBvcGVuIHNvIGNhbm5vdCBjbG9zZVwifSksZXhwb3J0cy5VTktOT1dOX0VSUk9SPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NTAwLGVycm9yOlwidW5rbm93bl9lcnJvclwiLHJlYXNvbjpcIkRhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3JcIn0pLGV4cG9ydHMuQkFEX0FSRz1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjUwMCxlcnJvcjpcImJhZGFyZ1wiLHJlYXNvbjpcIlNvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZFwifSksZXhwb3J0cy5JTlZBTElEX1JFUVVFU1Q9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MDAsZXJyb3I6XCJpbnZhbGlkX3JlcXVlc3RcIixyZWFzb246XCJSZXF1ZXN0IHdhcyBpbnZhbGlkXCJ9KSxleHBvcnRzLlFVRVJZX1BBUlNFX0VSUk9SPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDAwLGVycm9yOlwicXVlcnlfcGFyc2VfZXJyb3JcIixyZWFzb246XCJTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkXCJ9KSxleHBvcnRzLkRPQ19WQUxJREFUSU9OPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NTAwLGVycm9yOlwiZG9jX3ZhbGlkYXRpb25cIixyZWFzb246XCJCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXJcIn0pLGV4cG9ydHMuQkFEX1JFUVVFU1Q9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MDAsZXJyb3I6XCJiYWRfcmVxdWVzdFwiLHJlYXNvbjpcIlNvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0XCJ9KSxleHBvcnRzLk5PVF9BTl9PQkpFQ1Q9bmV3IFBvdWNoRXJyb3Ioe3N0YXR1czo0MDAsZXJyb3I6XCJiYWRfcmVxdWVzdFwiLHJlYXNvbjpcIkRvY3VtZW50IG11c3QgYmUgYSBKU09OIG9iamVjdFwifSksZXhwb3J0cy5EQl9NSVNTSU5HPW5ldyBQb3VjaEVycm9yKHtzdGF0dXM6NDA0LGVycm9yOlwibm90X2ZvdW5kXCIscmVhc29uOlwiRGF0YWJhc2Ugbm90IGZvdW5kXCJ9KSxleHBvcnRzLklEQl9FUlJPUj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjUwMCxlcnJvcjpcImluZGV4ZWRfZGJfd2VudF9iYWRcIixyZWFzb246XCJ1bmtub3duXCJ9KSxleHBvcnRzLldTUV9FUlJPUj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjUwMCxlcnJvcjpcIndlYl9zcWxfd2VudF9iYWRcIixyZWFzb246XCJ1bmtub3duXCJ9KSxleHBvcnRzLkxEQl9FUlJPUj1uZXcgUG91Y2hFcnJvcih7c3RhdHVzOjUwMCxlcnJvcjpcImxldmVsREJfd2VudF93ZW50X2JhZFwiLHJlYXNvbjpcInVua25vd25cIn0pLGV4cG9ydHMuZXJyb3I9ZnVuY3Rpb24ocixlLG8pe2Z1bmN0aW9uIHMoKXt0aGlzLm1lc3NhZ2U9ZSxvJiYodGhpcy5uYW1lPW8pfXJldHVybiBzLnByb3RvdHlwZT1yLG5ldyBzKGUpfTsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0eXBlKHQpe3JldHVybiBudWxsPT09dD9TdHJpbmcodCk6XCJvYmplY3RcIj09dHlwZW9mIHR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/Y2xhc3MydHlwZVtjb3JlX3RvU3RyaW5nLmNhbGwodCldfHxcIm9iamVjdFwiOnR5cGVvZiB0fWZ1bmN0aW9uIGlzV2luZG93KHQpe3JldHVybiBudWxsIT09dCYmdD09PXQud2luZG93fWZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodCl7aWYoIXR8fFwib2JqZWN0XCIhPT10eXBlKHQpfHx0Lm5vZGVUeXBlfHxpc1dpbmRvdyh0KSlyZXR1cm4hMTt0cnl7aWYodC5jb25zdHJ1Y3RvciYmIWNvcmVfaGFzT3duLmNhbGwodCxcImNvbnN0cnVjdG9yXCIpJiYhY29yZV9oYXNPd24uY2FsbCh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITF9Y2F0Y2gocil7cmV0dXJuITF9dmFyIGU7Zm9yKGUgaW4gdCk7cmV0dXJuIHZvaWQgMD09PWV8fGNvcmVfaGFzT3duLmNhbGwodCxlKX1mdW5jdGlvbiBpc0Z1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGUodCl9ZnVuY3Rpb24gZXh0ZW5kKCl7dmFyIHQscixlLG4sbyxpLGM9YXJndW1lbnRzWzBdfHx7fSxzPTEsYT1hcmd1bWVudHMubGVuZ3RoLHU9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgYyYmKHU9YyxjPWFyZ3VtZW50c1sxXXx8e30scz0yKSxcIm9iamVjdFwiPT10eXBlb2YgY3x8aXNGdW5jdGlvbihjKXx8KGM9e30pLGE9PT1zJiYoYz10aGlzLC0tcyk7YT5zO3MrKylpZihudWxsIT0odD1hcmd1bWVudHNbc10pKWZvcihyIGluIHQpZT1jW3JdLG49dFtyXSxjIT09biYmKHUmJm4mJihpc1BsYWluT2JqZWN0KG4pfHwobz1pc0FycmF5KG4pKSk/KG8/KG89ITEsaT1lJiZpc0FycmF5KGUpP2U6W10pOmk9ZSYmaXNQbGFpbk9iamVjdChlKT9lOnt9LGNbcl09ZXh0ZW5kKHUsaSxuKSk6dm9pZCAwIT09biYmKGlzQXJyYXkodCkmJmlzRnVuY3Rpb24obil8fChjW3JdPW4pKSk7cmV0dXJuIGN9Zm9yKHZhciBjbGFzczJ0eXBlPXt9LHR5cGVzPVtcIkJvb2xlYW5cIixcIk51bWJlclwiLFwiU3RyaW5nXCIsXCJGdW5jdGlvblwiLFwiQXJyYXlcIixcIkRhdGVcIixcIlJlZ0V4cFwiLFwiT2JqZWN0XCIsXCJFcnJvclwiXSxpPTA7aTx0eXBlcy5sZW5ndGg7aSsrKXt2YXIgdHlwZW5hbWU9dHlwZXNbaV07Y2xhc3MydHlwZVtcIltvYmplY3QgXCIrdHlwZW5hbWUrXCJdXCJdPXR5cGVuYW1lLnRvTG93ZXJDYXNlKCl9dmFyIGNvcmVfdG9TdHJpbmc9Y2xhc3MydHlwZS50b1N0cmluZyxjb3JlX2hhc093bj1jbGFzczJ0eXBlLmhhc093blByb3BlcnR5LGlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJhcnJheVwiPT09dHlwZSh0KX07bW9kdWxlLmV4cG9ydHM9ZXh0ZW5kOyIsIihmdW5jdGlvbiAocHJvY2Vzcyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgY3J5cHRvPXJlcXVpcmUoXCJjcnlwdG9cIik7ZXhwb3J0cy5NRDU9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe3JldHVybiByPDxufHI+Pj4zMi1ufWZ1bmN0aW9uIHQocixuKXt2YXIgdCxlLHUsbyxjO3JldHVybiB1PTIxNDc0ODM2NDgmcixvPTIxNDc0ODM2NDgmbix0PTEwNzM3NDE4MjQmcixlPTEwNzM3NDE4MjQmbixjPSgxMDczNzQxODIzJnIpKygxMDczNzQxODIzJm4pLHQmZT8yMTQ3NDgzNjQ4XmNedV5vOnR8ZT8xMDczNzQxODI0JmM/MzIyMTIyNTQ3Ml5jXnVebzoxMDczNzQxODI0XmNedV5vOmNedV5vfWZ1bmN0aW9uIGUocixuLHQpe3JldHVybiByJm58fnImdH1mdW5jdGlvbiB1KHIsbix0KXtyZXR1cm4gciZ0fG4mfnR9ZnVuY3Rpb24gbyhyLG4sdCl7cmV0dXJuIHJebl50fWZ1bmN0aW9uIGMocixuLHQpe3JldHVybiBuXihyfH50KX1mdW5jdGlvbiBpKHIsdSxvLGMsaSxmLGEpe3JldHVybiByPXQocix0KHQoZSh1LG8sYyksaSksYSkpLHQobihyLGYpLHUpfWZ1bmN0aW9uIGYocixlLG8sYyxpLGYsYSl7cmV0dXJuIHI9dChyLHQodCh1KGUsbyxjKSxpKSxhKSksdChuKHIsZiksZSl9ZnVuY3Rpb24gYShyLGUsdSxjLGksZixhKXtyZXR1cm4gcj10KHIsdCh0KG8oZSx1LGMpLGkpLGEpKSx0KG4ocixmKSxlKX1mdW5jdGlvbiBzKHIsZSx1LG8saSxmLGEpe3JldHVybiByPXQocix0KHQoYyhlLHUsbyksaSksYSkpLHQobihyLGYpLGUpfWZ1bmN0aW9uIGgocil7Zm9yKHZhciBuLHQ9ci5sZW5ndGgsZT10KzgsdT0oZS1lJTY0KS82NCxvPTE2Kih1KzEpLGM9bmV3IEFycmF5KG8tMSksaT0wLGY9MDt0PmY7KW49KGYtZiU0KS80LGk9ZiU0KjgsY1tuXT1jW25dfHIuY2hhckNvZGVBdChmKTw8aSxmKys7cmV0dXJuIG49KGYtZiU0KS80LGk9ZiU0KjgsY1tuXT1jW25dfDEyODw8aSxjW28tMl09dDw8MyxjW28tMV09dD4+PjI5LGN9ZnVuY3Rpb24gcChyKXt2YXIgbix0LGU9XCJcIix1PVwiXCI7Zm9yKHQ9MDszPj10O3QrKyluPXI+Pj44KnQmMjU1LHU9XCIwXCIrbi50b1N0cmluZygxNiksZSs9dS5zdWJzdHIodS5sZW5ndGgtMiwyKTtyZXR1cm4gZX1pZighcHJvY2Vzcy5icm93c2VyKXJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChcIm1kNVwiKS51cGRhdGUocikuZGlnZXN0KFwiaGV4XCIpO3ZhciB2LGcsZCx5LGwsdyxiLHgsQSxDPVtdLG09NyxxPTEyLEQ9MTcsSD0yMixMPTUsTT05LFM9MTQsaj0yMCxrPTQsej0xMSxCPTE2LEU9MjMsRj02LEc9MTAsST0xNSxKPTIxO2ZvcihDPWgociksdz0xNzMyNTg0MTkzLGI9NDAyMzIzMzQxNyx4PTI1NjIzODMxMDIsQT0yNzE3MzM4Nzgsdj0wO3Y8Qy5sZW5ndGg7dis9MTYpZz13LGQ9Yix5PXgsbD1BLHc9aSh3LGIseCxBLENbdiswXSxtLDM2MTQwOTAzNjApLEE9aShBLHcsYix4LENbdisxXSxxLDM5MDU0MDI3MTApLHg9aSh4LEEsdyxiLENbdisyXSxELDYwNjEwNTgxOSksYj1pKGIseCxBLHcsQ1t2KzNdLEgsMzI1MDQ0MTk2Niksdz1pKHcsYix4LEEsQ1t2KzRdLG0sNDExODU0ODM5OSksQT1pKEEsdyxiLHgsQ1t2KzVdLHEsMTIwMDA4MDQyNikseD1pKHgsQSx3LGIsQ1t2KzZdLEQsMjgyMTczNTk1NSksYj1pKGIseCxBLHcsQ1t2KzddLEgsNDI0OTI2MTMxMyksdz1pKHcsYix4LEEsQ1t2KzhdLG0sMTc3MDAzNTQxNiksQT1pKEEsdyxiLHgsQ1t2KzldLHEsMjMzNjU1Mjg3OSkseD1pKHgsQSx3LGIsQ1t2KzEwXSxELDQyOTQ5MjUyMzMpLGI9aShiLHgsQSx3LENbdisxMV0sSCwyMzA0NTYzMTM0KSx3PWkodyxiLHgsQSxDW3YrMTJdLG0sMTgwNDYwMzY4MiksQT1pKEEsdyxiLHgsQ1t2KzEzXSxxLDQyNTQ2MjYxOTUpLHg9aSh4LEEsdyxiLENbdisxNF0sRCwyNzkyOTY1MDA2KSxiPWkoYix4LEEsdyxDW3YrMTVdLEgsMTIzNjUzNTMyOSksdz1mKHcsYix4LEEsQ1t2KzFdLEwsNDEyOTE3MDc4NiksQT1mKEEsdyxiLHgsQ1t2KzZdLE0sMzIyNTQ2NTY2NCkseD1mKHgsQSx3LGIsQ1t2KzExXSxTLDY0MzcxNzcxMyksYj1mKGIseCxBLHcsQ1t2KzBdLGosMzkyMTA2OTk5NCksdz1mKHcsYix4LEEsQ1t2KzVdLEwsMzU5MzQwODYwNSksQT1mKEEsdyxiLHgsQ1t2KzEwXSxNLDM4MDE2MDgzKSx4PWYoeCxBLHcsYixDW3YrMTVdLFMsMzYzNDQ4ODk2MSksYj1mKGIseCxBLHcsQ1t2KzRdLGosMzg4OTQyOTQ0OCksdz1mKHcsYix4LEEsQ1t2KzldLEwsNTY4NDQ2NDM4KSxBPWYoQSx3LGIseCxDW3YrMTRdLE0sMzI3NTE2MzYwNikseD1mKHgsQSx3LGIsQ1t2KzNdLFMsNDEwNzYwMzMzNSksYj1mKGIseCxBLHcsQ1t2KzhdLGosMTE2MzUzMTUwMSksdz1mKHcsYix4LEEsQ1t2KzEzXSxMLDI4NTAyODU4MjkpLEE9ZihBLHcsYix4LENbdisyXSxNLDQyNDM1NjM1MTIpLHg9Zih4LEEsdyxiLENbdis3XSxTLDE3MzUzMjg0NzMpLGI9ZihiLHgsQSx3LENbdisxMl0saiwyMzY4MzU5NTYyKSx3PWEodyxiLHgsQSxDW3YrNV0sayw0Mjk0NTg4NzM4KSxBPWEoQSx3LGIseCxDW3YrOF0seiwyMjcyMzkyODMzKSx4PWEoeCxBLHcsYixDW3YrMTFdLEIsMTgzOTAzMDU2MiksYj1hKGIseCxBLHcsQ1t2KzE0XSxFLDQyNTk2NTc3NDApLHc9YSh3LGIseCxBLENbdisxXSxrLDI3NjM5NzUyMzYpLEE9YShBLHcsYix4LENbdis0XSx6LDEyNzI4OTMzNTMpLHg9YSh4LEEsdyxiLENbdis3XSxCLDQxMzk0Njk2NjQpLGI9YShiLHgsQSx3LENbdisxMF0sRSwzMjAwMjM2NjU2KSx3PWEodyxiLHgsQSxDW3YrMTNdLGssNjgxMjc5MTc0KSxBPWEoQSx3LGIseCxDW3YrMF0seiwzOTM2NDMwMDc0KSx4PWEoeCxBLHcsYixDW3YrM10sQiwzNTcyNDQ1MzE3KSxiPWEoYix4LEEsdyxDW3YrNl0sRSw3NjAyOTE4OSksdz1hKHcsYix4LEEsQ1t2KzldLGssMzY1NDYwMjgwOSksQT1hKEEsdyxiLHgsQ1t2KzEyXSx6LDM4NzMxNTE0NjEpLHg9YSh4LEEsdyxiLENbdisxNV0sQiw1MzA3NDI1MjApLGI9YShiLHgsQSx3LENbdisyXSxFLDMyOTk2Mjg2NDUpLHc9cyh3LGIseCxBLENbdiswXSxGLDQwOTYzMzY0NTIpLEE9cyhBLHcsYix4LENbdis3XSxHLDExMjY4OTE0MTUpLHg9cyh4LEEsdyxiLENbdisxNF0sSSwyODc4NjEyMzkxKSxiPXMoYix4LEEsdyxDW3YrNV0sSiw0MjM3NTMzMjQxKSx3PXModyxiLHgsQSxDW3YrMTJdLEYsMTcwMDQ4NTU3MSksQT1zKEEsdyxiLHgsQ1t2KzNdLEcsMjM5OTk4MDY5MCkseD1zKHgsQSx3LGIsQ1t2KzEwXSxJLDQyOTM5MTU3NzMpLGI9cyhiLHgsQSx3LENbdisxXSxKLDIyNDAwNDQ0OTcpLHc9cyh3LGIseCxBLENbdis4XSxGLDE4NzMzMTMzNTkpLEE9cyhBLHcsYix4LENbdisxNV0sRyw0MjY0MzU1NTUyKSx4PXMoeCxBLHcsYixDW3YrNl0sSSwyNzM0NzY4OTE2KSxiPXMoYix4LEEsdyxDW3YrMTNdLEosMTMwOTE1MTY0OSksdz1zKHcsYix4LEEsQ1t2KzRdLEYsNDE0OTQ0NDIyNiksQT1zKEEsdyxiLHgsQ1t2KzExXSxHLDMxNzQ3NTY5MTcpLHg9cyh4LEEsdyxiLENbdisyXSxJLDcxODc4NzI1OSksYj1zKGIseCxBLHcsQ1t2KzldLEosMzk1MTQ4MTc0NSksdz10KHcsZyksYj10KGIsZCkseD10KHgseSksQT10KEEsbCk7dmFyIEs9cCh3KStwKGIpK3AoeCkrcChBKTtyZXR1cm4gSy50b0xvd2VyQ2FzZSgpfTtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luc2VydC1tb2R1bGUtZ2xvYmFscy9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXCIpKSIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHV1aWQodSxyKXt2YXIgaSx0PXV1aWQuQ0hBUlMsbz1bXTtpZihyPXJ8fHQubGVuZ3RoLHUpZm9yKGk9MDt1Pmk7aSsrKW9baV09dFswfE1hdGgucmFuZG9tKCkqcl07ZWxzZXt2YXIgZDtmb3Iob1s4XT1vWzEzXT1vWzE4XT1vWzIzXT1cIi1cIixvWzE0XT1cIjRcIixpPTA7MzY+aTtpKyspb1tpXXx8KGQ9MHwxNipNYXRoLnJhbmRvbSgpLG9baV09dFsxOT09PWk/MyZkfDg6ZF0pfXJldHVybiBvLmpvaW4oXCJcIil9dXVpZC5DSEFSUz1cIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuc3BsaXQoXCJcIiksbW9kdWxlLmV4cG9ydHM9dXVpZDsiLCIoZnVuY3Rpb24gKHByb2Nlc3Mpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIFBvdWNoREI9cmVxdWlyZShcIi4vc2V0dXBcIik7bW9kdWxlLmV4cG9ydHM9UG91Y2hEQixQb3VjaERCLmFqYXg9cmVxdWlyZShcIi4vZGVwcy9hamF4XCIpLFBvdWNoREIuZXh0ZW5kPXJlcXVpcmUoXCIuL2RlcHMvZXh0ZW5kXCIpLFBvdWNoREIudXRpbHM9cmVxdWlyZShcIi4vdXRpbHNcIiksUG91Y2hEQi5FcnJvcnM9cmVxdWlyZShcIi4vZGVwcy9lcnJvcnNcIiksUG91Y2hEQi5yZXBsaWNhdGU9cmVxdWlyZShcIi4vcmVwbGljYXRlXCIpLnJlcGxpY2F0ZSxQb3VjaERCLnZlcnNpb249cmVxdWlyZShcIi4vdmVyc2lvblwiKTt2YXIgaHR0cEFkYXB0ZXI9cmVxdWlyZShcIi4vYWRhcHRlcnMvaHR0cFwiKTtpZihQb3VjaERCLmFkYXB0ZXIoXCJodHRwXCIsaHR0cEFkYXB0ZXIpLFBvdWNoREIuYWRhcHRlcihcImh0dHBzXCIsaHR0cEFkYXB0ZXIpLFBvdWNoREIuYWRhcHRlcihcImlkYlwiLHJlcXVpcmUoXCIuL2FkYXB0ZXJzL2lkYlwiKSksUG91Y2hEQi5hZGFwdGVyKFwid2Vic3FsXCIscmVxdWlyZShcIi4vYWRhcHRlcnMvd2Vic3FsXCIpKSxQb3VjaERCLnBsdWdpbihcIm1hcHJlZHVjZVwiLHJlcXVpcmUoXCJwb3VjaGRiLW1hcHJlZHVjZVwiKSksIXByb2Nlc3MuYnJvd3Nlcil7dmFyIGxkYkFkYXB0ZXI9cmVxdWlyZShcIi4vYWRhcHRlcnMvbGV2ZWxkYlwiKTtQb3VjaERCLmFkYXB0ZXIoXCJsZGJcIixsZGJBZGFwdGVyKSxQb3VjaERCLmFkYXB0ZXIoXCJsZXZlbGRiXCIsbGRiQWRhcHRlcil9XG59KS5jYWxsKHRoaXMscmVxdWlyZShcIi9Vc2Vycy9pbmRvbGVyaW5nL1NwZWVjaC5qcy9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiKSkiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBwYXRoVG9UcmVlKGUpe2Zvcih2YXIgcix0PWUuc2hpZnQoKSxzPVt0LmlkLHQub3B0cyxbXV0sbz1zO2UubGVuZ3RoOyl0PWUuc2hpZnQoKSxyPVt0LmlkLHQub3B0cyxbXV0sb1syXS5wdXNoKHIpLG89cjtyZXR1cm4gc31mdW5jdGlvbiBtZXJnZVRyZWUoZSxyKXtmb3IodmFyIHQ9W3t0cmVlMTplLHRyZWUyOnJ9XSxzPSExO3QubGVuZ3RoPjA7KXt2YXIgbz10LnBvcCgpLG49by50cmVlMSxpPW8udHJlZTI7KG5bMV0uc3RhdHVzfHxpWzFdLnN0YXR1cykmJihuWzFdLnN0YXR1cz1cImF2YWlsYWJsZVwiPT09blsxXS5zdGF0dXN8fFwiYXZhaWxhYmxlXCI9PT1pWzFdLnN0YXR1cz9cImF2YWlsYWJsZVwiOlwibWlzc2luZ1wiKTtmb3IodmFyIHU9MDt1PGlbMl0ubGVuZ3RoO3UrKylpZihuWzJdWzBdKXtmb3IodmFyIGM9ITEscD0wO3A8blsyXS5sZW5ndGg7cCsrKW5bMl1bcF1bMF09PT1pWzJdW3VdWzBdJiYodC5wdXNoKHt0cmVlMTpuWzJdW3BdLHRyZWUyOmlbMl1bdV19KSxjPSEwKTtjfHwocz1cIm5ld19icmFuY2hcIixuWzJdLnB1c2goaVsyXVt1XSksblsyXS5zb3J0KCkpfWVsc2Ugcz1cIm5ld19sZWFmXCIsblsyXVswXT1pWzJdW3VdfXJldHVybntjb25mbGljdHM6cyx0cmVlOmV9fWZ1bmN0aW9uIGRvTWVyZ2UoZSxyLHQpe3ZhciBzLG89W10sbj0hMSxpPSExO3JldHVybiBlLmxlbmd0aD8oZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUucG9zPT09ci5wb3MmJmUuaWRzWzBdPT09ci5pZHNbMF0pcz1tZXJnZVRyZWUoZS5pZHMsci5pZHMpLG8ucHVzaCh7cG9zOmUucG9zLGlkczpzLnRyZWV9KSxuPW58fHMuY29uZmxpY3RzLGk9ITA7ZWxzZSBpZih0IT09ITApe3ZhciB1PWUucG9zPHIucG9zP2U6cixjPWUucG9zPHIucG9zP3I6ZSxwPWMucG9zLXUucG9zLGQ9W10sZj1bXTtmb3IoZi5wdXNoKHtpZHM6dS5pZHMsZGlmZjpwLHBhcmVudDpudWxsLHBhcmVudElkeDpudWxsfSk7Zi5sZW5ndGg+MDspe3ZhciBhPWYucG9wKCk7MCE9PWEuZGlmZj9hLmlkcyYmYS5pZHNbMl0uZm9yRWFjaChmdW5jdGlvbihlLHIpe2YucHVzaCh7aWRzOmUsZGlmZjphLmRpZmYtMSxwYXJlbnQ6YS5pZHMscGFyZW50SWR4OnJ9KX0pOmEuaWRzWzBdPT09Yy5pZHNbMF0mJmQucHVzaChhKX12YXIgaD1kWzBdO2g/KHM9bWVyZ2VUcmVlKGguaWRzLGMuaWRzKSxoLnBhcmVudFsyXVtoLnBhcmVudElkeF09cy50cmVlLG8ucHVzaCh7cG9zOnUucG9zLGlkczp1Lmlkc30pLG49bnx8cy5jb25mbGljdHMsaT0hMCk6by5wdXNoKGUpfWVsc2Ugby5wdXNoKGUpfSksaXx8by5wdXNoKHIpLG8uc29ydChmdW5jdGlvbihlLHIpe3JldHVybiBlLnBvcy1yLnBvc30pLHt0cmVlOm8sY29uZmxpY3RzOm58fFwiaW50ZXJuYWxfbm9kZVwifSk6e3RyZWU6W3JdLGNvbmZsaWN0czpcIm5ld19sZWFmXCJ9fWZ1bmN0aW9uIHN0ZW0oZSxyKXt2YXIgdD1Qb3VjaE1lcmdlLnJvb3RUb0xlYWYoZSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuaWRzLnNsaWNlKC1yKTtyZXR1cm57cG9zOmUucG9zKyhlLmlkcy5sZW5ndGgtdC5sZW5ndGgpLGlkczpwYXRoVG9UcmVlKHQpfX0pO3JldHVybiB0LnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiBkb01lcmdlKGUsciwhMCkudHJlZX0sW3Quc2hpZnQoKV0pfXZhciBleHRlbmQ9cmVxdWlyZShcIi4vZGVwcy9leHRlbmRcIiksUG91Y2hNZXJnZT17fTtQb3VjaE1lcmdlLm1lcmdlPWZ1bmN0aW9uKGUscix0KXtlPWV4dGVuZCghMCxbXSxlKSxyPWV4dGVuZCghMCx7fSxyKTt2YXIgcz1kb01lcmdlKGUscik7cmV0dXJue3RyZWU6c3RlbShzLnRyZWUsdCksY29uZmxpY3RzOnMuY29uZmxpY3RzfX0sUG91Y2hNZXJnZS53aW5uaW5nUmV2PWZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBQb3VjaE1lcmdlLnRyYXZlcnNlUmV2VHJlZShlLnJldl90cmVlLGZ1bmN0aW9uKGUsdCxzLG8sbil7ZSYmci5wdXNoKHtwb3M6dCxpZDpzLGRlbGV0ZWQ6ISFuLmRlbGV0ZWR9KX0pLHIuc29ydChmdW5jdGlvbihlLHIpe3JldHVybiBlLmRlbGV0ZWQhPT1yLmRlbGV0ZWQ/ZS5kZWxldGVkPnIuZGVsZXRlZD8xOi0xOmUucG9zIT09ci5wb3M/ci5wb3MtZS5wb3M6ZS5pZDxyLmlkPzE6LTF9KSxyWzBdLnBvcytcIi1cIityWzBdLmlkfSxQb3VjaE1lcmdlLnRyYXZlcnNlUmV2VHJlZT1mdW5jdGlvbihlLHIpe3ZhciB0PVtdO2ZvcihlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKHtwb3M6ZS5wb3MsaWRzOmUuaWRzfSl9KTt0Lmxlbmd0aD4wOyl7dmFyIHM9dC5wb3AoKSxvPXMucG9zLG49cy5pZHMsaT1yKDA9PT1uWzJdLmxlbmd0aCxvLG5bMF0scy5jdHgsblsxXSk7blsyXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7cG9zOm8rMSxpZHM6ZSxjdHg6aX0pfSl9fSxQb3VjaE1lcmdlLmNvbGxlY3RMZWF2ZXM9ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIFBvdWNoTWVyZ2UudHJhdmVyc2VSZXZUcmVlKGUsZnVuY3Rpb24oZSx0LHMsbyxuKXtlJiZyLnVuc2hpZnQoe3Jldjp0K1wiLVwiK3MscG9zOnQsb3B0czpufSl9KSxyLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gci5wb3MtZS5wb3N9KSxyLm1hcChmdW5jdGlvbihlKXtkZWxldGUgZS5wb3N9KSxyfSxQb3VjaE1lcmdlLmNvbGxlY3RDb25mbGljdHM9ZnVuY3Rpb24oZSl7dmFyIHI9UG91Y2hNZXJnZS53aW5uaW5nUmV2KGUpLHQ9UG91Y2hNZXJnZS5jb2xsZWN0TGVhdmVzKGUucmV2X3RyZWUpLHM9W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJldj09PXJ8fGUub3B0cy5kZWxldGVkfHxzLnB1c2goZS5yZXYpfSksc30sUG91Y2hNZXJnZS5yb290VG9MZWFmPWZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBQb3VjaE1lcmdlLnRyYXZlcnNlUmV2VHJlZShlLGZ1bmN0aW9uKGUsdCxzLG8sbil7aWYobz1vP28uc2xpY2UoMCk6W10sby5wdXNoKHtpZDpzLG9wdHM6bn0pLGUpe3ZhciBpPXQrMS1vLmxlbmd0aDtyLnVuc2hpZnQoe3BvczppLGlkczpvfSl9cmV0dXJuIG99KSxyfSxtb2R1bGUuZXhwb3J0cz1Qb3VjaE1lcmdlOyIsIihmdW5jdGlvbiAocHJvY2Vzcyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQcm9taXNlKCl7dmFyIGU9dGhpczt0aGlzLmNhbmNlbGxlZD0hMSx0aGlzLmNhbmNlbD1mdW5jdGlvbigpe2UuY2FuY2VsbGVkPSEwfX1mdW5jdGlvbiBSZXF1ZXN0TWFuYWdlcihlKXt2YXIgbj1bXSx0PXt9LGk9ITE7cmV0dXJuIHQuZW5xdWV1ZT1mdW5jdGlvbihlLG8pe24ucHVzaCh7ZnVuOmUsYXJnczpvfSksaXx8dC5wcm9jZXNzKCl9LHQucHJvY2Vzcz1mdW5jdGlvbigpe2lmKCFpJiZuLmxlbmd0aCYmIWUuY2FuY2VsbGVkKXtpPSEwO3ZhciB0PW4uc2hpZnQoKTtwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5mdW4uYXBwbHkobnVsbCx0LmFyZ3MpfSl9fSx0Lm5vdGlmeVJlcXVlc3RDb21wbGV0ZT1mdW5jdGlvbigpe2k9ITEsdC5wcm9jZXNzKCl9LHR9ZnVuY3Rpb24gZ2VuUmVwbGljYXRpb25JZChlLG4sdCl7dmFyIGk9dC5maWx0ZXI/dC5maWx0ZXIudG9TdHJpbmcoKTpcIlwiO3JldHVyblwiX2xvY2FsL1wiK1BvdWNoVXRpbHMuQ3J5cHRvLk1ENShlLmlkKCkrbi5pZCgpK2kpfWZ1bmN0aW9uIGZldGNoQ2hlY2twb2ludChlLG4sdCxpKXtuLmdldCh0LGZ1bmN0aW9uKG4sbyl7biYmNDA0PT09bi5zdGF0dXM/aShudWxsLDApOm4/aShuKTplLmdldCh0LGZ1bmN0aW9uKGUsbil7ZSYmNDA0PT09ZS5zdGF0dXN8fCFlJiZvLmxhc3Rfc2VxIT09bi5sYXN0X3NlcT9pKG51bGwsMCk6ZT9pKGUpOmkobnVsbCxuLmxhc3Rfc2VxKX0pfSl9ZnVuY3Rpb24gd3JpdGVDaGVja3BvaW50KGUsbix0LGksbyl7ZnVuY3Rpb24gYyhlLG4pe2UuZ2V0KHQsZnVuY3Rpb24obyxjKXtvJiY0MDQ9PT1vLnN0YXR1cyYmKGM9e19pZDp0fSksYy5sYXN0X3NlcT1pLGUucHV0KGMsbil9KX1jKG4sZnVuY3Rpb24oKXtjKGUsZnVuY3Rpb24oKXtvKCl9KX0pfWZ1bmN0aW9uIHJlcGxpY2F0ZShlLG4sdCxpKXtmdW5jdGlvbiBvKGksbyxjKXtpZih0Lm9uQ2hhbmdlKWZvcih2YXIgcj0wO2M+cjtyKyspdC5vbkNoYW5nZS5hcHBseSh0aGlzLFtQXSk7bS09YyxQLmRvY3Nfd3JpdHRlbis9Yyx3cml0ZUNoZWNrcG9pbnQoZSxuLGQscSxmdW5jdGlvbigpe3Aubm90aWZ5UmVxdWVzdENvbXBsZXRlKCksZigpfSl9ZnVuY3Rpb24gYygpe2lmKCFoLmxlbmd0aClyZXR1cm4gcC5ub3RpZnlSZXF1ZXN0Q29tcGxldGUoKTt2YXIgZT1oLmxlbmd0aDtuLmJ1bGtEb2NzKHtkb2NzOmh9LHtuZXdfZWRpdHM6ITF9LGZ1bmN0aW9uKG4sdCl7byhuLHQsZSl9KSxoPVtdfWZ1bmN0aW9uIHIobix0KXtlLmdldChuLHtyZXZzOiEwLHJldjp0LGF0dGFjaG1lbnRzOiEwfSxmdW5jdGlvbihlLG4pe1AuZG9jc19yZWFkKysscC5ub3RpZnlSZXF1ZXN0Q29tcGxldGUoKSxoLnB1c2gobikscC5lbnF1ZXVlKGMpfSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZnVuY3Rpb24obixvKXtpZihwLm5vdGlmeVJlcXVlc3RDb21wbGV0ZSgpLG4pcmV0dXJuIHkmJmkuY2FuY2VsKCksdm9pZCBQb3VjaFV0aWxzLmNhbGwodC5jb21wbGV0ZSxuLG51bGwpO2lmKDA9PT1PYmplY3Qua2V5cyhvKS5sZW5ndGgpe2Zvcih2YXIgYyBpbiBlKW0tPWVbY107cmV0dXJuIHZvaWQgZigpfXZhciB1PWZ1bmN0aW9uKGUpe3AuZW5xdWV1ZShyLFtsLGVdKX07Zm9yKHZhciBsIGluIG8pe3ZhciBzPWVbbF0tb1tsXS5taXNzaW5nLmxlbmd0aDttLT1zLG9bbF0ubWlzc2luZy5mb3JFYWNoKHUpfX19ZnVuY3Rpb24gbChlLHQpe24ucmV2c0RpZmYoZSx1KHQpKX1mdW5jdGlvbiBzKGUpe3E9ZS5zZXEsdi5wdXNoKGUpO3ZhciBuPXt9O25bZS5pZF09ZS5jaGFuZ2VzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXZ9KTt2YXIgdD17fTt0W2UuaWRdPWUuY2hhbmdlcy5sZW5ndGgsbSs9ZS5jaGFuZ2VzLmxlbmd0aCxwLmVucXVldWUobCxbbix0XSl9ZnVuY3Rpb24gYSgpe2c9ITAsZigpfWZ1bmN0aW9uIGYoKXtnJiYwPT09bSYmKFAuZW5kX3RpbWU9bmV3IERhdGUsUG91Y2hVdGlscy5jYWxsKHQuY29tcGxldGUsbnVsbCxQKSl9dmFyIHA9bmV3IFJlcXVlc3RNYW5hZ2VyKGkpLGg9W10sZD1nZW5SZXBsaWNhdGlvbklkKGUsbix0KSx2PVtdLGc9ITEsbT0wLHE9MCx5PXQuY29udGludW91c3x8ITEsXz10LmRvY19pZHMsUD17b2s6ITAsc3RhcnRfdGltZTpuZXcgRGF0ZSxkb2NzX3JlYWQ6MCxkb2NzX3dyaXR0ZW46MH07ZmV0Y2hDaGVja3BvaW50KGUsbixkLGZ1bmN0aW9uKG4sbyl7aWYobilyZXR1cm4gUG91Y2hVdGlscy5jYWxsKHQuY29tcGxldGUsbik7aWYocT1vLCFpLmNhbmNlbGxlZCl7dmFyIGM9e2NvbnRpbnVvdXM6eSxzaW5jZTpxLHN0eWxlOlwiYWxsX2RvY3NcIixvbkNoYW5nZTpzLGNvbXBsZXRlOmEsZG9jX2lkczpffTt0LmZpbHRlciYmKGMuZmlsdGVyPXQuZmlsdGVyKSx0LnF1ZXJ5X3BhcmFtcyYmKGMucXVlcnlfcGFyYW1zPXQucXVlcnlfcGFyYW1zKTt2YXIgcj1lLmNoYW5nZXMoYyk7aWYodC5jb250aW51b3VzKXt2YXIgdT1pLmNhbmNlbDtpLmNhbmNlbD1mdW5jdGlvbigpe3UoKSxyLmNhbmNlbCgpfX19fSl9ZnVuY3Rpb24gdG9Qb3VjaChlLG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP25ldyBQb3VjaChlLG4pOnZvaWQgbihudWxsLGUpfXZhciBQb3VjaFV0aWxzPXJlcXVpcmUoXCIuL3V0aWxzXCIpLFBvdWNoPXJlcXVpcmUoXCIuL2luZGV4XCIpO2V4cG9ydHMucmVwbGljYXRlPWZ1bmN0aW9uKGUsbix0LGkpe3QgaW5zdGFuY2VvZiBGdW5jdGlvbiYmKGk9dCx0PXt9KSx2b2lkIDA9PT10JiYodD17fSksdC5jb21wbGV0ZXx8KHQuY29tcGxldGU9aSk7dmFyIG89bmV3IFByb21pc2U7cmV0dXJuIHRvUG91Y2goZSxmdW5jdGlvbihlLGMpe3JldHVybiBlP1BvdWNoVXRpbHMuY2FsbChpLGUpOnZvaWQgdG9Qb3VjaChuLGZ1bmN0aW9uKGUsbil7aWYoZSlyZXR1cm4gUG91Y2hVdGlscy5jYWxsKGksZSk7aWYodC5zZXJ2ZXIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMucmVwbGljYXRlT25TZXJ2ZXIpcmV0dXJuIFBvdWNoVXRpbHMuY2FsbChpLHtlcnJvcjpcIlNlcnZlciByZXBsaWNhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBcIitjLnR5cGUoKStcIiBhZGFwdGVyXCJ9KTtpZihjLnR5cGUoKSE9PW4udHlwZSgpKXJldHVybiBQb3VjaFV0aWxzLmNhbGwoaSx7ZXJyb3I6XCJTZXJ2ZXIgcmVwbGljYXRpb24gZm9yIGRpZmZlcmVudCBhZGFwdGVyIHR5cGVzIChcIitjLnR5cGUoKStcIiBhbmQgXCIrbi50eXBlKCkrXCIpIGlzIG5vdCBzdXBwb3J0ZWRcIn0pO2MucmVwbGljYXRlT25TZXJ2ZXIobix0LG8pfWVsc2UgcmVwbGljYXRlKGMsbix0LG8pfSl9KSxvfTtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiL1VzZXJzL2luZG9sZXJpbmcvU3BlZWNoLmpzL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luc2VydC1tb2R1bGUtZ2xvYmFscy9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXCIpKSIsIlwidXNlIHN0cmljdFwiO3ZhciBQb3VjaERCPXJlcXVpcmUoXCIuL2NvbnN0cnVjdG9yXCIpO1BvdWNoREIuYWRhcHRlcnM9e30sUG91Y2hEQi5wbHVnaW5zPXt9LFBvdWNoREIucHJlZml4PVwiX3BvdWNoX1wiLFBvdWNoREIucGFyc2VBZGFwdGVyPWZ1bmN0aW9uKG8pe3ZhciBlLG49by5tYXRjaCgvKFthLXpcXC1dKik6XFwvXFwvKC4qKS8pO2lmKG4pe2lmKG89L2h0dHAocz8pLy50ZXN0KG5bMV0pP25bMV0rXCI6Ly9cIituWzJdOm5bMl0sZT1uWzFdLCFQb3VjaERCLmFkYXB0ZXJzW2VdLnZhbGlkKCkpdGhyb3dcIkludmFsaWQgYWRhcHRlclwiO3JldHVybntuYW1lOm8sYWRhcHRlcjpuWzFdfX1mb3IodmFyIHU9W1wiaWRiXCIsXCJsZXZlbGRiXCIsXCJ3ZWJzcWxcIl0sdD0wO3Q8dS5sZW5ndGg7Kyt0KWlmKHVbdF1pbiBQb3VjaERCLmFkYXB0ZXJzKXtlPVBvdWNoREIuYWRhcHRlcnNbdVt0XV07dmFyIHI9XCJ1c2VfcHJlZml4XCJpbiBlP2UudXNlX3ByZWZpeDohMDtyZXR1cm57bmFtZTpyP1BvdWNoREIucHJlZml4K286byxhZGFwdGVyOnVbdF19fXRocm93XCJObyB2YWxpZCBhZGFwdGVyIGZvdW5kXCJ9LFBvdWNoREIuZGVzdHJveT1mdW5jdGlvbihvLGUsbil7KFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlKSYmKG49ZSxlPXt9KSxcIm9iamVjdFwiPT10eXBlb2YgbyYmKGU9byxvPXZvaWQgMCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4mJihuPWZ1bmN0aW9uKCl7fSk7dmFyIHU9UG91Y2hEQi5wYXJzZUFkYXB0ZXIoZS5uYW1lfHxvKSx0PXUubmFtZSxyPWZ1bmN0aW9uKG8pe2lmKG8pcmV0dXJuIHZvaWQgbihvKTtmb3IodmFyIHIgaW4gUG91Y2hEQi5wbHVnaW5zKVBvdWNoREIucGx1Z2luc1tyXS5fZGVsZXRlKHQpO1BvdWNoREIuYWRhcHRlcnNbdS5hZGFwdGVyXS5kZXN0cm95KHQsZSxuKX07UG91Y2hEQi5yZW1vdmVGcm9tQWxsRGJzKHUscil9LFBvdWNoREIucmVtb3ZlRnJvbUFsbERicz1mdW5jdGlvbihvLGUpe2lmKCFQb3VjaERCLmVuYWJsZUFsbERicylyZXR1cm4gdm9pZCBlKCk7dmFyIG49by5hZGFwdGVyO3JldHVyblwiaHR0cFwiPT09bnx8XCJodHRwc1wiPT09bj92b2lkIGUoKTp2b2lkIG5ldyBQb3VjaERCKFBvdWNoREIuYWxsREJOYW1lKG8uYWRhcHRlciksZnVuY3Rpb24obix1KXtpZihuKXJldHVybiB2b2lkIGUoKTt2YXIgdD1Qb3VjaERCLmRiTmFtZShvLmFkYXB0ZXIsby5uYW1lKTt1LmdldCh0LGZ1bmN0aW9uKG8sbil7bz9lKCk6dS5yZW1vdmUobixmdW5jdGlvbihvKXtlKCl9KX0pfSl9LFBvdWNoREIuYWRhcHRlcj1mdW5jdGlvbihvLGUpe2UudmFsaWQoKSYmKFBvdWNoREIuYWRhcHRlcnNbb109ZSl9LFBvdWNoREIucGx1Z2luPWZ1bmN0aW9uKG8sZSl7UG91Y2hEQi5wbHVnaW5zW29dPWV9LFBvdWNoREIuZW5hYmxlQWxsRGJzPSExLFBvdWNoREIuQUxMX0RCUz1cIl9hbGxEYnNcIixQb3VjaERCLmRiTmFtZT1mdW5jdGlvbihvLGUpe3JldHVybltvLFwiLVwiLGVdLmpvaW4oXCJcIil9LFBvdWNoREIucmVhbERCTmFtZT1mdW5jdGlvbihvLGUpe3JldHVybltvLFwiOi8vXCIsZV0uam9pbihcIlwiKX0sUG91Y2hEQi5hbGxEQk5hbWU9ZnVuY3Rpb24obyl7cmV0dXJuW28sXCI6Ly9cIixQb3VjaERCLnByZWZpeCtQb3VjaERCLkFMTF9EQlNdLmpvaW4oXCJcIil9LFBvdWNoREIub3Blbj1mdW5jdGlvbihvLGUpe2lmKCFQb3VjaERCLmVuYWJsZUFsbERicylyZXR1cm4gdm9pZCBlKCk7dmFyIG49by5hZGFwdGVyO3JldHVyblwiaHR0cFwiPT09bnx8XCJodHRwc1wiPT09bj92b2lkIGUoKTp2b2lkIG5ldyBQb3VjaERCKFBvdWNoREIuYWxsREJOYW1lKG4pLGZ1bmN0aW9uKHUsdCl7aWYodSlyZXR1cm4gdm9pZCBlKCk7dmFyIHI9UG91Y2hEQi5kYk5hbWUobixvLm5hbWUpO3QuZ2V0KHIsZnVuY3Rpb24obil7biYmNDA0PT09bi5zdGF0dXM/dC5wdXQoe19pZDpyLGRibmFtZTpvLm9yaWdpbmFsTmFtZX0sZnVuY3Rpb24obyl7ZSgpfSk6ZSgpfSl9KX0sUG91Y2hEQi5hbGxEYnM9ZnVuY3Rpb24obyl7dmFyIGU9ZnVuY3Rpb24obix1KXtpZigwPT09bi5sZW5ndGgpe3ZhciB0PVtdO3JldHVybiB1LmZvckVhY2goZnVuY3Rpb24obyl7dmFyIGU9dC5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09by5pZH0pO2V8fHQucHVzaChvKX0pLHZvaWQgbyhudWxsLHQubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBvLmRvYy5kYm5hbWV9KSl9dmFyIHI9bi5zaGlmdCgpO3JldHVyblwiaHR0cFwiPT09cnx8XCJodHRwc1wiPT09cj92b2lkIGUobix1KTp2b2lkIG5ldyBQb3VjaERCKFBvdWNoREIuYWxsREJOYW1lKHIpLGZ1bmN0aW9uKHQscil7cmV0dXJuIHQ/dm9pZCBvKHQpOnZvaWQgci5hbGxEb2NzKHtpbmNsdWRlX2RvY3M6ITB9LGZ1bmN0aW9uKHQscil7cmV0dXJuIHQ/dm9pZCBvKHQpOih1LnVuc2hpZnQuYXBwbHkodSxyLnJvd3MpLHZvaWQgZShuLHUpKX0pfSl9LG49T2JqZWN0LmtleXMoUG91Y2hEQi5hZGFwdGVycyk7ZShuLFtdKX0sbW9kdWxlLmV4cG9ydHM9UG91Y2hEQjsiLCJmdW5jdGlvbiBpc0Nocm9tZUFwcCgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUuc3RvcmFnZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNocm9tZS5zdG9yYWdlLmxvY2FsfXZhciBtZXJnZT1yZXF1aXJlKFwiLi9tZXJnZVwiKTtleHBvcnRzLmV4dGVuZD1yZXF1aXJlKFwiLi9kZXBzL2V4dGVuZFwiKSxleHBvcnRzLmFqYXg9cmVxdWlyZShcIi4vZGVwcy9hamF4XCIpLGV4cG9ydHMuY3JlYXRlQmxvYj1yZXF1aXJlKFwiLi9kZXBzL2Jsb2JcIik7dmFyIHV1aWQ9cmVxdWlyZShcIi4vZGVwcy91dWlkXCIpO2V4cG9ydHMuQ3J5cHRvPXJlcXVpcmUoXCIuL2RlcHMvbWQ1LmpzXCIpO3ZhciBidWZmZXI9cmVxdWlyZShcIi4vZGVwcy9idWZmZXJcIiksZXJyb3JzPXJlcXVpcmUoXCIuL2RlcHMvZXJyb3JzXCIpLHJlc2VydmVkV29yZHM9W1wiX2lkXCIsXCJfcmV2XCIsXCJfYXR0YWNobWVudHNcIixcIl9kZWxldGVkXCIsXCJfcmV2aXNpb25zXCIsXCJfcmV2c19pbmZvXCIsXCJfY29uZmxpY3RzXCIsXCJfZGVsZXRlZF9jb25mbGljdHNcIixcIl9sb2NhbF9zZXFcIixcIl9yZXZfdHJlZVwiXTtleHBvcnRzLnV1aWRzPWZ1bmN0aW9uKGUscil7XCJvYmplY3RcIiE9dHlwZW9mIHImJihyPXt9KTtmb3IodmFyIHQ9ci5sZW5ndGgsbj1yLnJhZGl4LG89W107by5wdXNoKHV1aWQodCxuKSk8ZTspO3JldHVybiBvfSxleHBvcnRzLnV1aWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV4cG9ydHMudXVpZHMoMSxlKVswXX0sZXhwb3J0cy5pc1ZhbGlkSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlPy9eXy8udGVzdChlKT8vXl8oZGVzaWdufGxvY2FsKS8udGVzdChlKTohMDohMX0sZXhwb3J0cy5jYWxsPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlPT10eXBlb2YgRnVuY3Rpb24pe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmFwcGx5KHRoaXMscil9fSxleHBvcnRzLmlzTG9jYWxJZD1mdW5jdGlvbihlKXtyZXR1cm4vXl9sb2NhbC8udGVzdChlKX0sZXhwb3J0cy5pc0RlbGV0ZWQ9ZnVuY3Rpb24oZSxyKXtyfHwocj1tZXJnZS53aW5uaW5nUmV2KGUpKSxyLmluZGV4T2YoXCItXCIpPj0wJiYocj1yLnNwbGl0KFwiLVwiKVsxXSk7dmFyIHQ9ITE7cmV0dXJuIG1lcmdlLnRyYXZlcnNlUmV2VHJlZShlLnJldl90cmVlLGZ1bmN0aW9uKGUsbixvLGkscyl7bz09PXImJih0PSEhcy5kZWxldGVkKX0pLHR9LGV4cG9ydHMuZmlsdGVyQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgdD17fSxuPWUuZmlsdGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZpbHRlcjtpZih0LnF1ZXJ5PWUucXVlcnlfcGFyYW1zLGUuZmlsdGVyJiZuJiYhZS5maWx0ZXIuY2FsbCh0aGlzLHIuZG9jLHQpKXJldHVybiExO2lmKGUuZG9jX2lkcyYmLTE9PT1lLmRvY19pZHMuaW5kZXhPZihyLmlkKSlyZXR1cm4hMTtpZihlLmluY2x1ZGVfZG9jcylmb3IodmFyIG8gaW4gci5kb2MuX2F0dGFjaG1lbnRzKXIuZG9jLl9hdHRhY2htZW50c1tvXS5zdHViPSEwO2Vsc2UgZGVsZXRlIHIuZG9jO3JldHVybiEwfX0sZXhwb3J0cy5wcm9jZXNzQ2hhbmdlcz1mdW5jdGlvbihlLHIsdCl7cj1yLmZpbHRlcihleHBvcnRzLmZpbHRlckNoYW5nZShlKSksZS5saW1pdCYmZS5saW1pdDxyLmxlbmd0aCYmKHIubGVuZ3RoPWUubGltaXQpLHIuZm9yRWFjaChmdW5jdGlvbihyKXtleHBvcnRzLmNhbGwoZS5vbkNoYW5nZSxyKX0pLGV4cG9ydHMuY2FsbChlLmNvbXBsZXRlLG51bGwse3Jlc3VsdHM6cixsYXN0X3NlcTp0fSl9LGV4cG9ydHMucGFyc2VEb2M9ZnVuY3Rpb24oZSxyKXt2YXIgdCxuLG8saT1udWxsLHM9e3N0YXR1czpcImF2YWlsYWJsZVwifTtpZihlLl9kZWxldGVkJiYocy5kZWxldGVkPSEwKSxyKWlmKGUuX2lkfHwoZS5faWQ9ZXhwb3J0cy51dWlkKCkpLG49ZXhwb3J0cy51dWlkKHtsZW5ndGg6MzIscmFkaXg6MTZ9KS50b0xvd2VyQ2FzZSgpLGUuX3Jldil7aWYobz0vXihcXGQrKS0oLispJC8uZXhlYyhlLl9yZXYpLCFvKXRocm93XCJpbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eSAnX3JldidcIjtlLl9yZXZfdHJlZT1be3BvczpwYXJzZUludChvWzFdLDEwKSxpZHM6W29bMl0se3N0YXR1czpcIm1pc3NpbmdcIn0sW1tuLHMsW11dXV19XSx0PXBhcnNlSW50KG9bMV0sMTApKzF9ZWxzZSBlLl9yZXZfdHJlZT1be3BvczoxLGlkczpbbixzLFtdXX1dLHQ9MTtlbHNlIGlmKGUuX3JldmlzaW9ucyYmKGUuX3Jldl90cmVlPVt7cG9zOmUuX3JldmlzaW9ucy5zdGFydC1lLl9yZXZpc2lvbnMuaWRzLmxlbmd0aCsxLGlkczplLl9yZXZpc2lvbnMuaWRzLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiBudWxsPT09ZT9bcixzLFtdXTpbcix7c3RhdHVzOlwibWlzc2luZ1wifSxbZV1dfSxudWxsKX1dLHQ9ZS5fcmV2aXNpb25zLnN0YXJ0LG49ZS5fcmV2aXNpb25zLmlkc1swXSksIWUuX3Jldl90cmVlKXtpZihvPS9eKFxcZCspLSguKykkLy5leGVjKGUuX3JldiksIW8pcmV0dXJuIGVycm9ycy5CQURfQVJHO3Q9cGFyc2VJbnQob1sxXSwxMCksbj1vWzJdLGUuX3Jldl90cmVlPVt7cG9zOnBhcnNlSW50KG9bMV0sMTApLGlkczpbb1syXSxzLFtdXX1dfVwic3RyaW5nXCIhPXR5cGVvZiBlLl9pZD9pPWVycm9ycy5JTlZBTElEX0lEOmV4cG9ydHMuaXNWYWxpZElkKGUuX2lkKXx8KGk9ZXJyb3JzLlJFU0VSVkVEX0lEKTtmb3IodmFyIGQgaW4gZSllLmhhc093blByb3BlcnR5KGQpJiZcIl9cIj09PWRbMF0mJi0xPT09cmVzZXJ2ZWRXb3Jkcy5pbmRleE9mKGQpJiYoaT1leHBvcnRzLmV4dGVuZCh7fSxlcnJvcnMuRE9DX1ZBTElEQVRJT04pLGkucmVhc29uKz1cIjogXCIrZCk7cmV0dXJuIGUuX2lkPWRlY29kZVVSSUNvbXBvbmVudChlLl9pZCksZS5fcmV2PVt0LG5dLmpvaW4oXCItXCIpLGk/aTpPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24ocix0KXtyZXR1cm4vXl8vLnRlc3QodCkmJlwiX2F0dGFjaG1lbnRzXCIhPT10P3IubWV0YWRhdGFbdC5zbGljZSgxKV09ZVt0XTpyLmRhdGFbdF09ZVt0XSxyfSx7bWV0YWRhdGE6e30sZGF0YTp7fX0pfSxleHBvcnRzLmlzQ29yZG92YT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb3Jkb3ZhfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgUGhvbmVHYXB8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwaG9uZWdhcH0sZXhwb3J0cy5DaGFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9e30scj17fTtyZXR1cm4gaXNDaHJvbWVBcHAoKT9jaHJvbWUuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24ocil7bnVsbCE9ci5kYl9uYW1lJiZlLm5vdGlmeShyLmRiX25hbWUubmV3VmFsdWUpfSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsZnVuY3Rpb24ocil7ZS5ub3RpZnkoci5rZXkpfSksZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbixvKXtyW2VdfHwocltlXT17fSkscltlXVt0XT17ZGI6bixvcHRzOm99fSxlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cltlXSYmZGVsZXRlIHJbZV1bdF19LGUuY2xlYXJMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7ZGVsZXRlIHJbZV19LGUubm90aWZ5TG9jYWxXaW5kb3dzPWZ1bmN0aW9uKGUpe2lzQ2hyb21lQXBwKCk/Y2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtkYl9uYW1lOmV9KTpsb2NhbFN0b3JhZ2VbZV09XCJhXCI9PT1sb2NhbFN0b3JhZ2VbZV0/XCJiXCI6XCJhXCJ9LGUubm90aWZ5PWZ1bmN0aW9uKGUpe3JbZV0mJk9iamVjdC5rZXlzKHJbZV0pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49cltlXVt0XS5vcHRzO3JbZV1bdF0uZGIuY2hhbmdlcyh7aW5jbHVkZV9kb2NzOm4uaW5jbHVkZV9kb2NzLGNvbmZsaWN0czpuLmNvbmZsaWN0cyxjb250aW51b3VzOiExLGRlc2NlbmRpbmc6ITEsZmlsdGVyOm4uZmlsdGVyLHZpZXc6bi52aWV3LHNpbmNlOm4uc2luY2UscXVlcnlfcGFyYW1zOm4ucXVlcnlfcGFyYW1zLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe2Uuc2VxPm4uc2luY2UmJiFuLmNhbmNlbGxlZCYmKG4uc2luY2U9ZS5zZXEsZXhwb3J0cy5jYWxsKG4ub25DaGFuZ2UsZSkpfX0pfSl9LGV9LGV4cG9ydHMuYXRvYj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcImF0b2JcImluIHdpbmRvdz9mdW5jdGlvbihlKXtyZXR1cm4gYXRvYihlKX06ZnVuY3Rpb24oZSl7dmFyIHI9bmV3IGJ1ZmZlcihlLFwiYmFzZTY0XCIpO2lmKHIudG9TdHJpbmcoXCJiYXNlNjRcIikhPT1lKXRocm93XCJDYW5ub3QgYmFzZTY0IGVuY29kZSBmdWxsIHN0cmluZ1wiO3JldHVybiByLnRvU3RyaW5nKFwiYmluYXJ5XCIpfSxleHBvcnRzLmJ0b2E9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJidG9hXCJpbiB3aW5kb3c/ZnVuY3Rpb24oZSl7cmV0dXJuIGJ0b2EoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYnVmZmVyKGUsXCJiaW5hcnlcIikudG9TdHJpbmcoXCJiYXNlNjRcIil9LG1vZHVsZS5leHBvcnRzPWV4cG9ydHM7IiwibW9kdWxlLmV4cG9ydHM9XCIxLjEuMFwiOyIsIi8qZ2xvYmFsIFBvdWNoOiB0cnVlLCBwb3VjaENvbGxhdGU6IHRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwb3VjaENvbGxhdGUgPSByZXF1aXJlKCdwb3VjaGRiLWNvbGxhdGUnKTtcblxuLy8gVGhpcyBpcyB0aGUgZmlyc3QgaW1wbGVtZW50YXRpb24gb2YgYSBiYXNpYyBwbHVnaW4sIHdlIHJlZ2lzdGVyIHRoZVxuLy8gcGx1Z2luIG9iamVjdCB3aXRoIHBvdWNoIGFuZCBpdCBpcyBtaXhpbidkIHRvIGVhY2ggZGF0YWJhc2UgY3JlYXRlZFxuLy8gKHJlZ2FyZGxlc3Mgb2YgYWRhcHRlciksIGFkYXB0ZXJzIGNhbiBvdmVycmlkZSBwbHVnaW5zIGJ5IHByb3ZpZGluZ1xuLy8gdGhlaXIgb3duIGltcGxlbWVudGF0aW9uLiBmdW5jdGlvbnMgb24gdGhlIHBsdWdpbiBvYmplY3QgdGhhdCBzdGFydFxuLy8gd2l0aCBfIGFyZSByZXNlcnZlZCBmdW5jdGlvbiB0aGF0IGFyZSBjYWxsZWQgYnkgcG91Y2hkYiBmb3Igc3BlY2lhbFxuLy8gbm90aWZpY2F0aW9ucy5cblxuLy8gSWYgd2Ugd2FudGVkIHRvIHN0b3JlIGluY3JlbWVudGFsIHZpZXdzIHdlIGNhbiBkbyBpdCBoZXJlIGJ5IGxpc3RlbmluZ1xuLy8gdG8gdGhlIGNoYW5nZXMgZmVlZCAoa2VlcGluZyB0cmFjayBvZiBvdXIgbGFzdCB1cGRhdGVfc2VxIGJldHdlZW4gcGFnZSBsb2Fkcylcbi8vIGFuZCBzdG9yaW5nIHRoZSByZXN1bHQgb2YgdGhlIG1hcCBmdW5jdGlvbiAocG9zc2libHkgdXNpbmcgdGhlIHVwY29taW5nXG4vLyBleHRyYWN0ZWQgYWRhcHRlciBmdW5jdGlvbnMpXG5cblxuXG5mdW5jdGlvbiBNYXBSZWR1Y2UoZGIpIHtcbiAgaWYoISh0aGlzIGluc3RhbmNlb2YgTWFwUmVkdWNlKSl7XG4gICAgcmV0dXJuIG5ldyBNYXBSZWR1Y2UoZGIpO1xuICB9XG4gIGZ1bmN0aW9uIHZpZXdRdWVyeShmdW4sIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMuY29tcGxldGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuc2tpcCkge1xuICAgICAgb3B0aW9ucy5za2lwID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIWZ1bi5yZWR1Y2UpIHtcbiAgICAgIG9wdGlvbnMucmVkdWNlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICAgICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9LCAwKTtcbiAgICB9XG5cbiAgICB2YXIgYnVpbHRJblJlZHVjZSA9IHtcbiAgICAgIFwiX3N1bVwiOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKXtcbiAgICAgICAgcmV0dXJuIHN1bSh2YWx1ZXMpO1xuICAgICAgfSxcblxuICAgICAgXCJfY291bnRcIjogZnVuY3Rpb24gKGtleXMsIHZhbHVlcywgcmVyZWR1Y2Upe1xuICAgICAgICBpZiAocmVyZWR1Y2Upe1xuICAgICAgICAgIHJldHVybiBzdW0odmFsdWVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgXCJfc3RhdHNcIjogZnVuY3Rpb24gKGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAnc3VtJzogc3VtKHZhbHVlcyksXG4gICAgICAgICAgJ21pbic6IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICAgICAgJ21heCc6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICAgICAgJ2NvdW50JzogdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICAnc3Vtc3FyJzogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfc3Vtc3FyID0gMDtcbiAgICAgICAgICAgIGZvcih2YXIgaWR4IGluIHZhbHVlcykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1tpZHhdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICBfc3Vtc3FyICs9IHZhbHVlc1tpZHhdICogdmFsdWVzW2lkeF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfc3Vtc3FyO1xuICAgICAgICAgIH0pKClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgY3VycmVudCA9IG51bGw7XG4gICAgdmFyIG51bV9zdGFydGVkPSAwO1xuICAgIHZhciBjb21wbGV0ZWQ9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gZW1pdChrZXksIHZhbCkge1xuICAgICAgdmFyIHZpZXdSb3cgPSB7XG4gICAgICAgIGlkOiBjdXJyZW50LmRvYy5faWQsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICB2YWx1ZTogdmFsXG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucy5zdGFydGtleSAmJiBwb3VjaENvbGxhdGUoa2V5LCBvcHRpb25zLnN0YXJ0a2V5KSA8IDApIHJldHVybjtcbiAgICAgIGlmIChvcHRpb25zLmVuZGtleSAmJiBwb3VjaENvbGxhdGUoa2V5LCBvcHRpb25zLmVuZGtleSkgPiAwKSByZXR1cm47XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMua2V5ICE9PSAndW5kZWZpbmVkJyAmJiBwb3VjaENvbGxhdGUoa2V5LCBvcHRpb25zLmtleSkgIT09IDApIHJldHVybjtcblxuICAgICAgbnVtX3N0YXJ0ZWQrKztcbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVfZG9jcykge1xuICAgICAgICAvL2luIHRoaXMgc3BlY2lhbCBjYXNlLCBqb2luIG9uIF9pZCAoaXNzdWUgIzEwNilcbiAgICAgICAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuX2lkKXtcbiAgICAgICAgICBkYi5nZXQodmFsLl9pZCxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKF8sIGpvaW5lZF9kb2Mpe1xuICAgICAgICAgICAgICAgIGlmIChqb2luZWRfZG9jKSB7XG4gICAgICAgICAgICAgICAgICB2aWV3Um93LmRvYyA9IGpvaW5lZF9kb2M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh2aWV3Um93KTtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2aWV3Um93LmRvYyA9IGN1cnJlbnQuZG9jO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHRzLnB1c2godmlld1Jvdyk7XG4gICAgfTtcblxuICAgIC8vIHVnbHkgd2F5IHRvIG1ha2Ugc3VyZSByZWZlcmVuY2VzIHRvICdlbWl0JyBpbiBtYXAvcmVkdWNlIGJpbmQgdG8gdGhlXG4gICAgLy8gYWJvdmUgZW1pdFxuICAgIGV2YWwoJ2Z1bi5tYXAgPSAnICsgZnVuLm1hcC50b1N0cmluZygpICsgJzsnKTtcbiAgICBpZiAoZnVuLnJlZHVjZSkge1xuICAgICAgaWYgKGJ1aWx0SW5SZWR1Y2VbZnVuLnJlZHVjZV0pIHtcbiAgICAgICAgZnVuLnJlZHVjZSA9IGJ1aWx0SW5SZWR1Y2VbZnVuLnJlZHVjZV07XG4gICAgICB9XG5cbiAgICAgIGV2YWwoJ2Z1bi5yZWR1Y2UgPSAnICsgZnVuLnJlZHVjZS50b1N0cmluZygpICsgJzsnKTtcbiAgICB9XG5cbiAgICAvL29ubHkgcHJvY2VlZCBvbmNlIGFsbCBkb2N1bWVudHMgYXJlIG1hcHBlZCBhbmQgam9pbmVkXG4gICAgZnVuY3Rpb24gY2hlY2tDb21wbGV0ZSgpIHtcbiAgICAgIGlmIChjb21wbGV0ZWQgJiYgcmVzdWx0cy5sZW5ndGggPT0gbnVtX3N0YXJ0ZWQpe1xuICAgICAgICByZXN1bHRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gcG91Y2hDb2xsYXRlKGEua2V5LCBiLmtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0aW9ucy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgcmVzdWx0cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVkdWNlID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgICAgICAgIHRvdGFsX3Jvd3M6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zLnNraXAsXG4gICAgICAgICAgICByb3dzOiAoJ2xpbWl0JyBpbiBvcHRpb25zKSA/IHJlc3VsdHMuc2xpY2Uob3B0aW9ucy5za2lwLCBvcHRpb25zLmxpbWl0ICsgb3B0aW9ucy5za2lwKSA6XG4gICAgICAgICAgICAgIChvcHRpb25zLnNraXAgPiAwKSA/IHJlc3VsdHMuc2xpY2Uob3B0aW9ucy5za2lwKSA6IHJlc3VsdHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBncm91cHMgPSBbXTtcbiAgICAgICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIGxhc3QgPSBncm91cHNbZ3JvdXBzLmxlbmd0aC0xXSB8fCBudWxsO1xuICAgICAgICAgIGlmIChsYXN0ICYmIHBvdWNoQ29sbGF0ZShsYXN0LmtleVswXVswXSwgZS5rZXkpID09PSAwKSB7XG4gICAgICAgICAgICBsYXN0LmtleS5wdXNoKFtlLmtleSwgZS5pZF0pO1xuICAgICAgICAgICAgbGFzdC52YWx1ZS5wdXNoKGUudmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBncm91cHMucHVzaCh7a2V5OiBbW2Uua2V5LCBlLmlkXV0sIHZhbHVlOiBbZS52YWx1ZV19KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZS52YWx1ZSA9IGZ1bi5yZWR1Y2UoZS5rZXksIGUudmFsdWUpO1xuICAgICAgICAgIGUudmFsdWUgPSAodHlwZW9mIGUudmFsdWUgPT09ICd1bmRlZmluZWQnKSA/IG51bGwgOiBlLnZhbHVlO1xuICAgICAgICAgIGUua2V5ID0gZS5rZXlbMF1bMF07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9wdGlvbnMuY29tcGxldGUobnVsbCwge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IGdyb3Vwcy5sZW5ndGgsXG4gICAgICAgICAgb2Zmc2V0OiBvcHRpb25zLnNraXAsXG4gICAgICAgICAgcm93czogKCdsaW1pdCcgaW4gb3B0aW9ucykgPyBncm91cHMuc2xpY2Uob3B0aW9ucy5za2lwLCBvcHRpb25zLmxpbWl0ICsgb3B0aW9ucy5za2lwKSA6XG4gICAgICAgICAgICAob3B0aW9ucy5za2lwID4gMCkgPyBncm91cHMuc2xpY2Uob3B0aW9ucy5za2lwKSA6IGdyb3Vwc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZGIuY2hhbmdlcyh7XG4gICAgICBjb25mbGljdHM6IHRydWUsXG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBpZiAoISgnZGVsZXRlZCcgaW4gZG9jKSkge1xuICAgICAgICAgIGN1cnJlbnQgPSB7ZG9jOiBkb2MuZG9jfTtcbiAgICAgICAgICBmdW4ubWFwLmNhbGwodGhpcywgZG9jLmRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb21wbGV0ZWQ9IHRydWU7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBRdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBQVVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB2YXIgYm9keSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG5cbiAgICAvLyBJZiBvcHRzLnJlZHVjZSBleGlzdHMgYW5kIGlzIGRlZmluZWQsIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgLy8gb2YgcGFyYW1ldGVycy5cbiAgICAvLyBJZiByZWR1Y2U9ZmFsc2UgdGhlbiB0aGUgcmVzdWx0cyBhcmUgdGhhdCBvZiBvbmx5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICAvLyBub3QgdGhlIGZpbmFsIHJlc3VsdCBvZiBtYXAgYW5kIHJlZHVjZS5cbiAgICBpZiAodHlwZW9mIG9wdHMucmVkdWNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ3JlZHVjZT0nICsgb3B0cy5yZWR1Y2UpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuaW5jbHVkZV9kb2NzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ2luY2x1ZGVfZG9jcz0nICsgb3B0cy5pbmNsdWRlX2RvY3MpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMucHVzaCgnbGltaXQ9JyArIG9wdHMubGltaXQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuZGVzY2VuZGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdkZXNjZW5kaW5nPScgKyBvcHRzLmRlc2NlbmRpbmcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuc3RhcnRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMucHVzaCgnc3RhcnRrZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLnN0YXJ0a2V5KSkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuZW5ka2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ2VuZGtleT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG9wdHMuZW5ka2V5KSkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnB1c2goJ2tleT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG9wdHMua2V5KSkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuZ3JvdXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMucHVzaCgnZ3JvdXA9JyArIG9wdHMuZ3JvdXApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuZ3JvdXBfbGV2ZWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMucHVzaCgnZ3JvdXBfbGV2ZWw9JyArIG9wdHMuZ3JvdXBfbGV2ZWwpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdza2lwPScgKyBvcHRzLnNraXApO1xuICAgIH1cblxuICAgIC8vIElmIGtleXMgYXJlIHN1cHBsaWVkLCBpc3N1ZSBhIFBPU1QgcmVxdWVzdCB0byBjaXJjdW12ZW50IEdFVCBxdWVyeSBzdHJpbmcgbGltaXRzXG4gICAgLy8gc2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IVFRQX3ZpZXdfQVBJI1F1ZXJ5aW5nX09wdGlvbnNcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7a2V5czpvcHRzLmtleXN9KTtcbiAgICB9XG5cbiAgICAvLyBGb3JtYXQgdGhlIGxpc3Qgb2YgcGFyYW1ldGVycyBpbnRvIGEgdmFsaWQgVVJJIHF1ZXJ5IHN0cmluZ1xuICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG4gICAgcGFyYW1zID0gcGFyYW1zID09PSAnJyA/ICcnIDogJz8nICsgcGFyYW1zO1xuXG4gICAgLy8gV2UgYXJlIHJlZmVyZW5jaW5nIGEgcXVlcnkgZGVmaW5lZCBpbiB0aGUgZGVzaWduIGRvY1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhcnRzID0gZnVuLnNwbGl0KCcvJyk7XG4gICAgICBkYi5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHVybDogJ19kZXNpZ24vJyArIHBhcnRzWzBdICsgJy9fdmlldy8nICsgcGFydHNbMV0gKyBwYXJhbXMsXG4gICAgICAgIGJvZHk6IGJvZHlcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgdXNpbmcgYSB0ZW1wb3JhcnkgdmlldywgdGVycmlibGUgZm9yIHBlcmZvcm1hbmNlIGJ1dCBnb29kIGZvciB0ZXN0aW5nXG4gICAgdmFyIHF1ZXJ5T2JqZWN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmdW4sIGZ1bmN0aW9uIChrZXksIHZhbCkge1xuICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbCArICcnOyAvLyBpbXBsaWNpdGx5IGB0b1N0cmluZ2AgaXRcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSkpO1xuXG4gICAgZGIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6J1BPU1QnLFxuICAgICAgdXJsOiAnX3RlbXBfdmlldycgKyBwYXJhbXMsXG4gICAgICBib2R5OiBxdWVyeU9iamVjdFxuICAgIH0sIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHRoaXMucXVlcnkgPSBmdW5jdGlvbihmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgaWYgKGRiLnR5cGUoKSA9PT0gJ2h0dHAnKSB7XG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdmdW5jdGlvbicpe1xuICAgICAgcmV0dXJuIGh0dHBRdWVyeSh7bWFwOiBmdW59LCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIHJldHVybiBodHRwUXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gdmlld1F1ZXJ5KGZ1biwgb3B0cyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB2aWV3UXVlcnkoe21hcDogZnVufSwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHBhcnRzID0gZnVuLnNwbGl0KCcvJyk7XG4gICAgZGIuZ2V0KCdfZGVzaWduLycgKyBwYXJ0c1swXSwgZnVuY3Rpb24gKGVyciwgZG9jKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRvYy52aWV3c1twYXJ0c1sxXV0pIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayh7IGVycm9yOiAnbm90X2ZvdW5kJywgcmVhc29uOiAnbWlzc2luZ19uYW1lZF92aWV3JyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2aWV3UXVlcnkoe1xuICAgICAgICBtYXA6IGRvYy52aWV3c1twYXJ0c1sxXV0ubWFwLFxuICAgICAgICByZWR1Y2U6IGRvYy52aWV3c1twYXJ0c1sxXV0ucmVkdWNlXG4gICAgICB9LCBvcHRzKTtcbiAgICB9KTtcbiAgfVxuXG59O1xuXG4vLyBEZWxldGlvbiBpcyBhIG5vb3Agc2luY2Ugd2UgZG9udCBzdG9yZSB0aGUgcmVzdWx0cyBvZiB0aGUgdmlld1xuTWFwUmVkdWNlLl9kZWxldGUgPSBmdW5jdGlvbiAoKSB7IH07XG5tb2R1bGUuZXhwb3J0cyA9IE1hcFJlZHVjZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXJyYXlDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgc29ydCA9IHBvdWNoQ29sbGF0ZShhW2ldLCBiW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSA/IDAgOlxuICAgIChhLmxlbmd0aCA+IGIubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIHN0cmluZ0NvbGxhdGUoYSwgYikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYWxlaGFydmV5L3BvdWNoZGIvaXNzdWVzLzQwXG4gIC8vIFRoaXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIENvdWNoREIgaW1wbGVtZW50YXRpb24sIGJ1dCBpdHMgdGhlXG4gIC8vIGJlc3Qgd2UgY2FuIGRvIGZvciBub3dcbiAgcmV0dXJuIChhID09PSBiKSA/IDAgOiAoKGEgPiBiKSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBvYmplY3RDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFrID0gT2JqZWN0LmtleXMoYSksIGJrID0gT2JqZWN0LmtleXMoYik7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhay5sZW5ndGgsIGJrLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBGaXJzdCBzb3J0IHRoZSBrZXlzXG4gICAgdmFyIHNvcnQgPSBwb3VjaENvbGxhdGUoYWtbaV0sIGJrW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBrZXlzIGFyZSBlcXVhbCBzb3J0IHRoZSB2YWx1ZXNcbiAgICBzb3J0ID0gcG91Y2hDb2xsYXRlKGFbYWtbaV1dLCBiW2JrW2ldXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cblxuICB9XG4gIHJldHVybiAoYWsubGVuZ3RoID09PSBiay5sZW5ndGgpID8gMCA6XG4gICAgKGFrLmxlbmd0aCA+IGJrLmxlbmd0aCkgPyAxIDogLTE7XG59XG4vLyBUaGUgY29sbGF0aW9uIGlzIGRlZmluZWQgYnkgZXJsYW5ncyBvcmRlcmVkIHRlcm1zXG4vLyB0aGUgYXRvbXMgbnVsbCwgdHJ1ZSwgZmFsc2UgY29tZSBmaXJzdCwgdGhlbiBudW1iZXJzLCBzdHJpbmdzLFxuLy8gYXJyYXlzLCB0aGVuIG9iamVjdHNcbmZ1bmN0aW9uIGNvbGxhdGlvbkluZGV4KHgpIHtcbiAgdmFyIGlkID0gWydib29sZWFuJywgJ251bWJlcicsICdzdHJpbmcnLCAnb2JqZWN0J107XG4gIGlmIChpZC5pbmRleE9mKHR5cGVvZiB4KSAhPT0gLTEpIHtcbiAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiBpZC5pbmRleE9mKHR5cGVvZiB4KSArIDI7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4gNC41O1xuICB9XG4gIGlmICh0eXBlb2YgeCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBDb3VjaERCIGluZGV4ZXMgYm90aCBudWxsL3VuZGVmaW5lZCBhcyBudWxsXG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gcG91Y2hDb2xsYXRlO1xuZnVuY3Rpb24gcG91Y2hDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFpID0gY29sbGF0aW9uSW5kZXgoYSk7XG4gIHZhciBiaSA9IGNvbGxhdGlvbkluZGV4KGIpO1xuICBpZiAoKGFpIC0gYmkpICE9PSAwKSB7XG4gICAgcmV0dXJuIGFpIC0gYmk7XG4gIH1cbiAgaWYgKGEgPT09IG51bGwgfHwgdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBhIC0gYjtcbiAgfVxuICBpZiAodHlwZW9mIGEgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBhID09PSBiID8gMCA6IChhIDwgYiA/IC0xIDogMSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHJpbmdDb2xsYXRlKGEsIGIpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgcmV0dXJuIGFycmF5Q29sbGF0ZShhLCBiKTtcbiAgfVxuICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdENvbGxhdGUoYSwgYik7XG4gIH1cbn07OyIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOnQuSVB2Nj1lKHQpfSh0aGlzLGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCl7dmFyIGU9dC50b0xvd2VyQ2FzZSgpLG49ZS5zcGxpdChcIjpcIiksaT1uLmxlbmd0aCxyPTg7XCJcIj09PW5bMF0mJlwiXCI9PT1uWzFdJiZcIlwiPT09blsyXT8obi5zaGlmdCgpLG4uc2hpZnQoKSk6XCJcIj09PW5bMF0mJlwiXCI9PT1uWzFdP24uc2hpZnQoKTpcIlwiPT09bltpLTFdJiZcIlwiPT09bltpLTJdJiZuLnBvcCgpLGk9bi5sZW5ndGgsLTEhPT1uW2ktMV0uaW5kZXhPZihcIi5cIikmJihyPTcpO3ZhciBvO2ZvcihvPTA7aT5vJiZcIlwiIT09bltvXTtvKyspO2lmKHI+byl7Zm9yKG4uc3BsaWNlKG8sMSxcIjAwMDBcIik7bi5sZW5ndGg8cjspbi5zcGxpY2UobywwLFwiMDAwMFwiKTtpPW4ubGVuZ3RofWZvcih2YXIgZixzPTA7cj5zO3MrKyl7Zj1uW3NdLnNwbGl0KFwiXCIpO2Zvcih2YXIgbD0wOzM+bCYmKFwiMFwiPT09ZlswXSYmZi5sZW5ndGg+MSk7bCsrKWYuc3BsaWNlKDAsMSk7bltzXT1mLmpvaW4oXCJcIil9dmFyIGM9LTEsaD0wLHA9MCx2PS0xLHU9ITE7Zm9yKHM9MDtyPnM7cysrKXU/XCIwXCI9PT1uW3NdP3ArPTE6KHU9ITEscD5oJiYoYz12LGg9cCkpOlwiMFwiPT1uW3NdJiYodT0hMCx2PXMscD0xKTtwPmgmJihjPXYsaD1wKSxoPjEmJm4uc3BsaWNlKGMsaCxcIlwiKSxpPW4ubGVuZ3RoO3ZhciBhPVwiXCI7Zm9yKFwiXCI9PT1uWzBdJiYoYmVzdHN0cj1cIjpcIikscz0wO2k+cyYmKGErPW5bc10scyE9PWktMSk7cysrKWErPVwiOlwiO3JldHVyblwiXCI9PT1uW2ktMV0mJihhKz1cIjpcIiksYX1mdW5jdGlvbiBuKCl7cmV0dXJuIHQuSVB2Nj09PXRoaXMmJih0LklQdjY9aSksdGhpc312YXIgaT10JiZ0LklQdjY7cmV0dXJue2Jlc3Q6ZSxub0NvbmZsaWN0Om59fSk7IiwiIWZ1bmN0aW9uKG8sZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6by5TZWNvbmRMZXZlbERvbWFpbnM9ZShvKX0odGhpcyxmdW5jdGlvbihvKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1vJiZvLlNlY29uZExldmVsRG9tYWlucyxuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscj17bGlzdDp7YWM6XCJjb218Z292fG1pbHxuZXR8b3JnXCIsYWU6XCJhY3xjb3xnb3Z8bWlsfG5hbWV8bmV0fG9yZ3xwcm98c2NoXCIsYWY6XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsYWw6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ1wiLGFvOlwiY298ZWR8Z3Z8aXR8b2d8cGJcIixhcjpcImNvbXxlZHV8Z29ifGdvdnxpbnR8bWlsfG5ldHxvcmd8dHVyXCIsYXQ6XCJhY3xjb3xndnxvclwiLGF1OlwiYXNufGNvbXxjc2lyb3xlZHV8Z292fGlkfG5ldHxvcmdcIixiYTpcImNvfGNvbXxlZHV8Z292fG1pbHxuZXR8b3JnfHJzfHVuYml8dW5tb3x1bnNhfHVudHp8dW56ZVwiLGJiOlwiYml6fGNvfGNvbXxlZHV8Z292fGluZm98bmV0fG9yZ3xzdG9yZXx0dlwiLGJoOlwiYml6fGNjfGNvbXxlZHV8Z292fGluZm98bmV0fG9yZ1wiLGJuOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGJvOlwiY29tfGVkdXxnb2J8Z292fGludHxtaWx8bmV0fG9yZ3x0dlwiLGJyOlwiYWRtfGFkdnxhZ3J8YW18YXJxfGFydHxhdG98YnxiaW98YmxvZ3xibWR8Y2ltfGNuZ3xjbnR8Y29tfGNvb3B8ZWNufGVkdXxlbmd8ZXNwfGV0Y3xldGl8ZmFyfGZsb2d8Zm18Zm5kfGZvdHxmc3R8ZzEyfGdnZnxnb3Z8aW1ifGluZHxpbmZ8am9yfGp1c3xsZWx8bWF0fG1lZHxtaWx8bXVzfG5ldHxub218bm90fG50cnxvZG98b3JnfHBwZ3xwcm98cHNjfHBzaXxxc2x8cmVjfHNsZ3xzcnZ8dG1wfHRyZHx0dXJ8dHZ8dmV0fHZsb2d8d2lraXx6bGdcIixiczpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixiejpcImR1fGV0fG9tfG92fHJnXCIsY2E6XCJhYnxiY3xtYnxuYnxuZnxubHxuc3xudHxudXxvbnxwZXxxY3xza3x5a1wiLGNrOlwiYml6fGNvfGVkdXxnZW58Z292fGluZm98bmV0fG9yZ1wiLGNuOlwiYWN8YWh8Ymp8Y29tfGNxfGVkdXxmanxnZHxnb3Z8Z3N8Z3h8Z3p8aGF8aGJ8aGV8aGl8aGx8aG58amx8anN8anh8bG58bWlsfG5ldHxubXxueHxvcmd8cWh8c2N8c2R8c2h8c258c3h8dGp8dHd8eGp8eHp8eW58empcIixjbzpcImNvbXxlZHV8Z292fG1pbHxuZXR8bm9tfG9yZ1wiLGNyOlwiYWN8Y3xjb3xlZHxmaXxnb3xvcnxzYVwiLGN5OlwiYWN8Yml6fGNvbXxla2xvZ2VzfGdvdnxsdGR8bmFtZXxuZXR8b3JnfHBhcmxpYW1lbnR8cHJlc3N8cHJvfHRtXCIsXCJkb1wiOlwiYXJ0fGNvbXxlZHV8Z29ifGdvdnxtaWx8bmV0fG9yZ3xzbGR8d2ViXCIsZHo6XCJhcnR8YXNzb3xjb218ZWR1fGdvdnxuZXR8b3JnfHBvbFwiLGVjOlwiY29tfGVkdXxmaW58Z292fGluZm98bWVkfG1pbHxuZXR8b3JnfHByb1wiLGVnOlwiY29tfGVkdXxldW58Z292fG1pbHxuYW1lfG5ldHxvcmd8c2NpXCIsZXI6XCJjb218ZWR1fGdvdnxpbmR8bWlsfG5ldHxvcmd8cm9jaGVzdHx3XCIsZXM6XCJjb218ZWR1fGdvYnxub218b3JnXCIsZXQ6XCJiaXp8Y29tfGVkdXxnb3Z8aW5mb3xuYW1lfG5ldHxvcmdcIixmajpcImFjfGJpenxjb218aW5mb3xtaWx8bmFtZXxuZXR8b3JnfHByb1wiLGZrOlwiYWN8Y298Z292fG5ldHxub218b3JnXCIsZnI6XCJhc3NvfGNvbXxmfGdvdXZ8bm9tfHByZHxwcmVzc2V8dG1cIixnZzpcImNvfG5ldHxvcmdcIixnaDpcImNvbXxlZHV8Z292fG1pbHxvcmdcIixnbjpcImFjfGNvbXxnb3Z8bmV0fG9yZ1wiLGdyOlwiY29tfGVkdXxnb3Z8bWlsfG5ldHxvcmdcIixndDpcImNvbXxlZHV8Z29ifGluZHxtaWx8bmV0fG9yZ1wiLGd1OlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGhrOlwiY29tfGVkdXxnb3Z8aWR2fG5ldHxvcmdcIixpZDpcImFjfGNvfGdvfG1pbHxuZXR8b3J8c2NofHdlYlwiLGlsOlwiYWN8Y298Z292fGlkZnxrMTJ8bXVuaXxuZXR8b3JnXCIsXCJpblwiOlwiYWN8Y298ZWR1fGVybmV0fGZpcm18Z2VufGdvdnxpfGluZHxtaWx8bmV0fG5pY3xvcmd8cmVzXCIsaXE6XCJjb218ZWR1fGdvdnxpfG1pbHxuZXR8b3JnXCIsaXI6XCJhY3xjb3xkbnNzZWN8Z292fGl8aWR8bmV0fG9yZ3xzY2hcIixpdDpcImVkdXxnb3ZcIixqZTpcImNvfG5ldHxvcmdcIixqbzpcImNvbXxlZHV8Z292fG1pbHxuYW1lfG5ldHxvcmd8c2NoXCIsanA6XCJhY3xhZHxjb3xlZHxnb3xncnxsZ3xuZXxvclwiLGtlOlwiYWN8Y298Z298aW5mb3xtZXxtb2JpfG5lfG9yfHNjXCIsa2g6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ3xwZXJcIixraTpcImJpenxjb218ZGV8ZWR1fGdvdnxpbmZvfG1vYnxuZXR8b3JnfHRlbFwiLGttOlwiYXNzb3xjb218Y29vcHxlZHV8Z291dnxrfG1lZGVjaW58bWlsfG5vbXxub3RhaXJlc3xwaGFybWFjaWVuc3xwcmVzc2V8dG18dmV0ZXJpbmFpcmVcIixrbjpcImVkdXxnb3Z8bmV0fG9yZ1wiLGtyOlwiYWN8YnVzYW58Y2h1bmdidWt8Y2h1bmduYW18Y298ZGFlZ3V8ZGFlamVvbnxlc3xnYW5nd29ufGdvfGd3YW5nanV8Z3llb25nYnVrfGd5ZW9uZ2dpfGd5ZW9uZ25hbXxoc3xpbmNoZW9ufGplanV8amVvbmJ1a3xqZW9ubmFtfGt8a2d8bWlsfG1zfG5lfG9yfHBlfHJlfHNjfHNlb3VsfHVsc2FuXCIsa3c6XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsa3k6XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsa3o6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ1wiLGxiOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGxrOlwiYXNzbnxjb218ZWR1fGdvdnxncnB8aG90ZWx8aW50fGx0ZHxuZXR8bmdvfG9yZ3xzY2h8c29jfHdlYlwiLGxyOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLGx2OlwiYXNufGNvbXxjb25mfGVkdXxnb3Z8aWR8bWlsfG5ldHxvcmdcIixseTpcImNvbXxlZHV8Z292fGlkfG1lZHxuZXR8b3JnfHBsY3xzY2hcIixtYTpcImFjfGNvfGdvdnxtfG5ldHxvcmd8cHJlc3NcIixtYzpcImFzc298dG1cIixtZTpcImFjfGNvfGVkdXxnb3Z8aXRzfG5ldHxvcmd8cHJpdlwiLG1nOlwiY29tfGVkdXxnb3Z8bWlsfG5vbXxvcmd8cHJkfHRtXCIsbWs6XCJjb218ZWR1fGdvdnxpbmZ8bmFtZXxuZXR8b3JnfHByb1wiLG1sOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ3xwcmVzc2VcIixtbjpcImVkdXxnb3Z8b3JnXCIsbW86XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsbXQ6XCJjb218ZWR1fGdvdnxuZXR8b3JnXCIsbXY6XCJhZXJvfGJpenxjb218Y29vcHxlZHV8Z292fGluZm98aW50fG1pbHxtdXNldW18bmFtZXxuZXR8b3JnfHByb1wiLG13OlwiYWN8Y298Y29tfGNvb3B8ZWR1fGdvdnxpbnR8bXVzZXVtfG5ldHxvcmdcIixteDpcImNvbXxlZHV8Z29ifG5ldHxvcmdcIixteTpcImNvbXxlZHV8Z292fG1pbHxuYW1lfG5ldHxvcmd8c2NoXCIsbmY6XCJhcnRzfGNvbXxmaXJtfGluZm98bmV0fG90aGVyfHBlcnxyZWN8c3RvcmV8d2ViXCIsbmc6XCJiaXp8Y29tfGVkdXxnb3Z8bWlsfG1vYml8bmFtZXxuZXR8b3JnfHNjaFwiLG5pOlwiYWN8Y298Y29tfGVkdXxnb2J8bWlsfG5ldHxub218b3JnXCIsbnA6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ1wiLG5yOlwiYml6fGNvbXxlZHV8Z292fGluZm98bmV0fG9yZ1wiLG9tOlwiYWN8Yml6fGNvfGNvbXxlZHV8Z292fG1lZHxtaWx8bXVzZXVtfG5ldHxvcmd8cHJvfHNjaFwiLHBlOlwiY29tfGVkdXxnb2J8bWlsfG5ldHxub218b3JnfHNsZFwiLHBoOlwiY29tfGVkdXxnb3Z8aXxtaWx8bmV0fG5nb3xvcmdcIixwazpcImJpenxjb218ZWR1fGZhbXxnb2J8Z29rfGdvbnxnb3B8Z29zfGdvdnxuZXR8b3JnfHdlYlwiLHBsOlwiYXJ0fGJpYWx5c3Rva3xiaXp8Y29tfGVkdXxnZGF8Z2RhbnNrfGdvcnpvd3xnb3Z8aW5mb3xrYXRvd2ljZXxrcmFrb3d8bG9kenxsdWJsaW58bWlsfG5ldHxuZ298b2xzenR5bnxvcmd8cG96bmFufHB3cnxyYWRvbXxzbHVwc2t8c3pjemVjaW58dG9ydW58d2Fyc3phd2F8d2F3fHdyb2N8d3JvY2xhd3x6Z29yYVwiLHByOlwiYWN8Yml6fGNvbXxlZHV8ZXN0fGdvdnxpbmZvfGlzbGF8bmFtZXxuZXR8b3JnfHByb3xwcm9mXCIscHM6XCJjb218ZWR1fGdvdnxuZXR8b3JnfHBsb3xzZWNcIixwdzpcImJlbGF1fGNvfGVkfGdvfG5lfG9yXCIscm86XCJhcnRzfGNvbXxmaXJtfGluZm98bm9tfG50fG9yZ3xyZWN8c3RvcmV8dG18d3d3XCIscnM6XCJhY3xjb3xlZHV8Z292fGlufG9yZ1wiLHNiOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLHNjOlwiY29tfGVkdXxnb3Z8bmV0fG9yZ1wiLHNoOlwiY298Y29tfGVkdXxnb3Z8bmV0fG5vbXxvcmdcIixzbDpcImNvbXxlZHV8Z292fG5ldHxvcmdcIixzdDpcImNvfGNvbXxjb25zdWxhZG98ZWR1fGVtYmFpeGFkYXxnb3Z8bWlsfG5ldHxvcmd8cHJpbmNpcGV8c2FvdG9tZXxzdG9yZVwiLHN2OlwiY29tfGVkdXxnb2J8b3JnfHJlZFwiLHN6OlwiYWN8Y298b3JnXCIsdHI6XCJhdnxiYnN8YmVsfGJpenxjb218ZHJ8ZWR1fGdlbnxnb3Z8aW5mb3xrMTJ8bmFtZXxuZXR8b3JnfHBvbHx0ZWx8dHNrfHR2fHdlYlwiLHR0OlwiYWVyb3xiaXp8Y2F0fGNvfGNvbXxjb29wfGVkdXxnb3Z8aW5mb3xpbnR8am9ic3xtaWx8bW9iaXxtdXNldW18bmFtZXxuZXR8b3JnfHByb3x0ZWx8dHJhdmVsXCIsdHc6XCJjbHVifGNvbXxlYml6fGVkdXxnYW1lfGdvdnxpZHZ8bWlsfG5ldHxvcmdcIixtdTpcImFjfGNvfGNvbXxnb3Z8bmV0fG9yfG9yZ1wiLG16OlwiYWN8Y298ZWR1fGdvdnxvcmdcIixuYTpcImNvfGNvbVwiLG56OlwiYWN8Y298Y3JpfGdlZWt8Z2VufGdvdnR8aGVhbHRofGl3aXxtYW9yaXxtaWx8bmV0fG9yZ3xwYXJsaWFtZW50fHNjaG9vbFwiLHBhOlwiYWJvfGFjfGNvbXxlZHV8Z29ifGluZ3xtZWR8bmV0fG5vbXxvcmd8c2xkXCIscHQ6XCJjb218ZWR1fGdvdnxpbnR8bmV0fG5vbWV8b3JnfHB1YmxcIixweTpcImNvbXxlZHV8Z292fG1pbHxuZXR8b3JnXCIscWE6XCJjb218ZWR1fGdvdnxtaWx8bmV0fG9yZ1wiLHJlOlwiYXNzb3xjb218bm9tXCIscnU6XCJhY3xhZHlnZXlhfGFsdGFpfGFtdXJ8YXJraGFuZ2Vsc2t8YXN0cmFraGFufGJhc2hraXJpYXxiZWxnb3JvZHxiaXJ8YnJ5YW5za3xidXJ5YXRpYXxjYmd8Y2hlbHxjaGVseWFiaW5za3xjaGl0YXxjaHVrb3RrYXxjaHV2YXNoaWF8Y29tfGRhZ2VzdGFufGUtYnVyZ3xlZHV8Z292fGdyb3pueXxpbnR8aXJrdXRza3xpdmFub3ZvfGl6aGV2c2t8amFyfGpvc2hrYXItb2xhfGthbG15a2lhfGthbHVnYXxrYW1jaGF0a2F8a2FyZWxpYXxrYXphbnxrY2hyfGtlbWVyb3ZvfGtoYWJhcm92c2t8a2hha2Fzc2lhfGtodnxraXJvdnxrb2VuaWd8a29taXxrb3N0cm9tYXxrcmFub3lhcnNrfGt1YmFufGt1cmdhbnxrdXJza3xsaXBldHNrfG1hZ2FkYW58bWFyaXxtYXJpLWVsfG1hcmluZXxtaWx8bW9yZG92aWF8bW9zcmVnfG1za3xtdXJtYW5za3xuYWxjaGlrfG5ldHxubm92fG5vdnxub3Zvc2liaXJza3xuc2t8b21za3xvcmVuYnVyZ3xvcmd8b3J5b2x8cGVuemF8cGVybXxwcHxwc2tvdnxwdHp8cm5kfHJ5YXphbnxzYWtoYWxpbnxzYW1hcmF8c2FyYXRvdnxzaW1iaXJza3xzbW9sZW5za3xzcGJ8c3RhdnJvcG9sfHN0dnxzdXJndXR8dGFtYm92fHRhdGFyc3Rhbnx0b218dG9tc2t8dHNhcml0c3lufHRza3x0dWxhfHR1dmF8dHZlcnx0eXVtZW58dWRtfHVkbXVydGlhfHVsYW4tdWRlfHZsYWRpa2F2a2F6fHZsYWRpbWlyfHZsYWRpdm9zdG9rfHZvbGdvZ3JhZHx2b2xvZ2RhfHZvcm9uZXpofHZybnx2eWF0a2F8eWFrdXRpYXx5YW1hbHx5ZWthdGVyaW5idXJnfHl1emhuby1zYWtoYWxpbnNrXCIscnc6XCJhY3xjb3xjb218ZWR1fGdvdXZ8Z292fGludHxtaWx8bmV0XCIsc2E6XCJjb218ZWR1fGdvdnxtZWR8bmV0fG9yZ3xwdWJ8c2NoXCIsc2Q6XCJjb218ZWR1fGdvdnxpbmZvfG1lZHxuZXR8b3JnfHR2XCIsc2U6XCJhfGFjfGJ8YmR8Y3xkfGV8ZnxnfGh8aXxrfGx8bXxufG98b3JnfHB8cGFydGl8cHB8cHJlc3N8cnxzfHR8dG18dXx3fHh8eXx6XCIsc2c6XCJjb218ZWR1fGdvdnxpZG58bmV0fG9yZ3xwZXJcIixzbjpcImFydHxjb218ZWR1fGdvdXZ8b3JnfHBlcnNvfHVuaXZcIixzeTpcImNvbXxlZHV8Z292fG1pbHxuZXR8bmV3c3xvcmdcIix0aDpcImFjfGNvfGdvfGlufG1pfG5ldHxvclwiLHRqOlwiYWN8Yml6fGNvfGNvbXxlZHV8Z298Z292fGluZm98aW50fG1pbHxuYW1lfG5ldHxuaWN8b3JnfHRlc3R8d2ViXCIsdG46XCJhZ3JpbmV0fGNvbXxkZWZlbnNlfGVkdW5ldHxlbnN8ZmlufGdvdnxpbmR8aW5mb3xpbnRsfG1pbmNvbXxuYXR8bmV0fG9yZ3xwZXJzb3xybnJ0fHJuc3xybnV8dG91cmlzbVwiLHR6OlwiYWN8Y298Z298bmV8b3JcIix1YTpcImJpenxjaGVya2Fzc3l8Y2hlcm5pZ292fGNoZXJub3Z0c3l8Y2t8Y258Y298Y29tfGNyaW1lYXxjdnxkbnxkbmVwcm9wZXRyb3Zza3xkb25ldHNrfGRwfGVkdXxnb3Z8aWZ8aW58aXZhbm8tZnJhbmtpdnNrfGtofGtoYXJrb3Z8a2hlcnNvbnxraG1lbG5pdHNraXl8a2lldnxraXJvdm9ncmFkfGttfGtyfGtzfGt2fGxnfGx1Z2Fuc2t8bHV0c2t8bHZpdnxtZXxta3xuZXR8bmlrb2xhZXZ8b2R8b2Rlc3NhfG9yZ3xwbHxwb2x0YXZhfHBwfHJvdm5vfHJ2fHNlYmFzdG9wb2x8c3VteXx0ZXx0ZXJub3BpbHx1emhnb3JvZHx2aW5uaWNhfHZufHphcG9yaXpoemhlfHpoaXRvbWlyfHpwfHp0XCIsdWc6XCJhY3xjb3xnb3xuZXxvcnxvcmd8c2NcIix1azpcImFjfGJsfGJyaXRpc2gtbGlicmFyeXxjb3xjeW18Z292fGdvdnR8aWNuZXR8amV0fGxlYXxsdGR8bWV8bWlsfG1vZHxuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kfG5lbHxuZXR8bmhzfG5pY3xubHN8b3JnfG9yZ258cGFybGlhbWVudHxwbGN8cG9saWNlfHNjaHxzY290fHNvY1wiLHVzOlwiZG5pfGZlZHxpc2F8a2lkc3xuc25cIix1eTpcImNvbXxlZHV8Z3VifG1pbHxuZXR8b3JnXCIsdmU6XCJjb3xjb218ZWR1fGdvYnxpbmZvfG1pbHxuZXR8b3JnfHdlYlwiLHZpOlwiY298Y29tfGsxMnxuZXR8b3JnXCIsdm46XCJhY3xiaXp8Y29tfGVkdXxnb3Z8aGVhbHRofGluZm98aW50fG5hbWV8bmV0fG9yZ3xwcm9cIix5ZTpcImNvfGNvbXxnb3Z8bHRkfG1lfG5ldHxvcmd8cGxjXCIseXU6XCJhY3xjb3xlZHV8Z292fG9yZ1wiLHphOlwiYWN8YWdyaWN8YWx0fGJvdXJzZXxjaXR5fGNvfGN5YmVybmV0fGRifGVkdXxnb3Z8Z3JvbmRhcnxpYWNjZXNzfGltdHxpbmNhfGxhbmRlc2lnbnxsYXd8bWlsfG5ldHxuZ298bmlzfG5vbXxvbGl2ZXR0aXxvcmd8cGl4fHNjaG9vbHx0bXx3ZWJcIix6bTpcImFjfGNvfGNvbXxlZHV8Z292fG5ldHxvcmd8c2NoXCJ9LGhhc19leHByZXNzaW9uOm51bGwsaXNfZXhwcmVzc2lvbjpudWxsLGhhczpmdW5jdGlvbihvKXtyZXR1cm4hIW8ubWF0Y2goci5oYXNfZXhwcmVzc2lvbil9LGlzOmZ1bmN0aW9uKG8pe3JldHVybiEhby5tYXRjaChyLmlzX2V4cHJlc3Npb24pfSxnZXQ6ZnVuY3Rpb24obyl7dmFyIGU9by5tYXRjaChyLmhhc19leHByZXNzaW9uKTtyZXR1cm4gZSYmZVsxXXx8bnVsbH0sbm9Db25mbGljdDpmdW5jdGlvbigpe3JldHVybiBvLlNlY29uZExldmVsRG9tYWlucz09PXRoaXMmJihvLlNlY29uZExldmVsRG9tYWlucz1lKSx0aGlzfSxpbml0OmZ1bmN0aW9uKCl7dmFyIG89XCJcIjtmb3IodmFyIGUgaW4gci5saXN0KWlmKG4uY2FsbChyLmxpc3QsZSkpe3ZhciBnPVwiKFwiK3IubGlzdFtlXStcIikuXCIrZTtvKz1cInwoXCIrZytcIilcIn1yLmhhc19leHByZXNzaW9uPW5ldyBSZWdFeHAoXCJcXFxcLihcIitvLnN1YnN0cigxKStcIikkXCIsXCJpXCIpLHIuaXNfZXhwcmVzc2lvbj1uZXcgUmVnRXhwKFwiXihcIitvLnN1YnN0cigxKStcIikkXCIsXCJpXCIpfX07cmV0dXJuIHIuaW5pdCgpLHJ9KTsiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCIuL3B1bnljb2RlXCIpLHJlcXVpcmUoXCIuL0lQdjZcIikscmVxdWlyZShcIi4vU2Vjb25kTGV2ZWxEb21haW5zXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcIi4vcHVueWNvZGVcIixcIi4vSVB2NlwiLFwiLi9TZWNvbmRMZXZlbERvbWFpbnNcIl0sZSk6dC5VUkk9ZSh0LnB1bnljb2RlLHQuSVB2Nix0LlNlY29uZExldmVsRG9tYWlucyx0KX0odGhpcyxmdW5jdGlvbih0LGUscixzKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuPyh2b2lkIDA9PT10JiYodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24/bG9jYXRpb24uaHJlZitcIlwiOlwiXCIpLHRoaXMuaHJlZih0KSx2b2lkIDAhPT1lP3RoaXMuYWJzb2x1dGVUbyhlKTp0aGlzKTpuZXcgbih0LGUpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZyxcIlxcXFwkMVwiKX1mdW5jdGlvbiBhKHQpe3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6U3RyaW5nKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuc2xpY2UoOCwtMSl9ZnVuY3Rpb24gbyh0KXtyZXR1cm5cIkFycmF5XCI9PT1hKHQpfWZ1bmN0aW9uIGgodCxlKXt2YXIgcixzLG49e307aWYobyhlKSlmb3Iocj0wLHM9ZS5sZW5ndGg7cz5yO3IrKyluW2Vbcl1dPSEwO2Vsc2UgbltlXT0hMDtmb3Iocj0wLHM9dC5sZW5ndGg7cz5yO3IrKyl2b2lkIDAhPT1uW3Rbcl1dJiYodC5zcGxpY2UociwxKSxzLS0sci0tKTtyZXR1cm4gdH1mdW5jdGlvbiB1KHQsZSl7dmFyIHIscztpZihvKGUpKXtmb3Iocj0wLHM9ZS5sZW5ndGg7cz5yO3IrKylpZighdSh0LGVbcl0pKXJldHVybiExO3JldHVybiEwfXZhciBuPWEoZSk7Zm9yKHI9MCxzPXQubGVuZ3RoO3M+cjtyKyspaWYoXCJSZWdFeHBcIj09PW4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0W3JdJiZ0W3JdLm1hdGNoKGUpKXJldHVybiEwfWVsc2UgaWYodFtyXT09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcCh0LGUpe2lmKCFvKHQpfHwhbyhlKSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO3Quc29ydCgpLGUuc29ydCgpO2Zvcih2YXIgcj0wLHM9dC5sZW5ndGg7cz5yO3IrKylpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBjKHQpe3JldHVybiBlc2NhcGUodCl9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoL1shJygpKl0vZyxjKS5yZXBsYWNlKC9cXCovZyxcIiUyQVwiKX12YXIgZD1zJiZzLlVSSTtuLnZlcnNpb249XCIxLjEyLjBcIjt2YXIgZj1uLnByb3RvdHlwZSxtPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7bi5fcGFydHM9ZnVuY3Rpb24oKXtyZXR1cm57cHJvdG9jb2w6bnVsbCx1c2VybmFtZTpudWxsLHBhc3N3b3JkOm51bGwsaG9zdG5hbWU6bnVsbCx1cm46bnVsbCxwb3J0Om51bGwscGF0aDpudWxsLHF1ZXJ5Om51bGwsZnJhZ21lbnQ6bnVsbCxkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM6bi5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsZXNjYXBlUXVlcnlTcGFjZTpuLmVzY2FwZVF1ZXJ5U3BhY2V9fSxuLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycz0hMSxuLmVzY2FwZVF1ZXJ5U3BhY2U9ITAsbi5wcm90b2NvbF9leHByZXNzaW9uPS9eW2Etel1bYS16MC05ListXSokL2ksbi5pZG5fZXhwcmVzc2lvbj0vW15hLXowLTlcXC4tXS9pLG4ucHVueWNvZGVfZXhwcmVzc2lvbj0vKHhuLS0pL2ksbi5pcDRfZXhwcmVzc2lvbj0vXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC8sbi5pcDZfZXhwcmVzc2lvbj0vXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC8sbi5maW5kX3VyaV9leHByZXNzaW9uPS9cXGIoKD86W2Etel1bXFx3LV0rOig/OlxcL3sxLDN9fFthLXowLTklXSl8d3d3XFxkezAsM31bLl18W2EtejAtOS5cXC1dK1suXVthLXpdezIsNH1cXC8pKD86W15cXHMoKTw+XSt8XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKSkrKD86XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2dpLG4uZmluZFVyaT17c3RhcnQ6L1xcYig/OihbYS16XVthLXowLTkuKy1dKjpcXC9cXC8pfHd3d1xcLikvZ2ksZW5kOi9bXFxzXFxyXFxuXXwkLyx0cmltOi9bYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvfSxuLmRlZmF1bHRQb3J0cz17aHR0cDpcIjgwXCIsaHR0cHM6XCI0NDNcIixmdHA6XCIyMVwiLGdvcGhlcjpcIjcwXCIsd3M6XCI4MFwiLHdzczpcIjQ0M1wifSxuLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycz0vW15hLXpBLVowLTlcXC4tXS8sbi5kb21BdHRyaWJ1dGVzPXthOlwiaHJlZlwiLGJsb2NrcXVvdGU6XCJjaXRlXCIsbGluazpcImhyZWZcIixiYXNlOlwiaHJlZlwiLHNjcmlwdDpcInNyY1wiLGZvcm06XCJhY3Rpb25cIixpbWc6XCJzcmNcIixhcmVhOlwiaHJlZlwiLGlmcmFtZTpcInNyY1wiLGVtYmVkOlwic3JjXCIsc291cmNlOlwic3JjXCIsdHJhY2s6XCJzcmNcIixpbnB1dDpcInNyY1wifSxuLmdldERvbUF0dHJpYnV0ZT1mdW5jdGlvbih0KXtpZighdHx8IXQubm9kZU5hbWUpcmV0dXJuIHZvaWQgMDt2YXIgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09ZSYmXCJpbWFnZVwiIT09dC50eXBlP3ZvaWQgMDpuLmRvbUF0dHJpYnV0ZXNbZV19LG4uZW5jb2RlPWwsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50LG4uaXNvODg1OT1mdW5jdGlvbigpe24uZW5jb2RlPWVzY2FwZSxuLmRlY29kZT11bmVzY2FwZX0sbi51bmljb2RlPWZ1bmN0aW9uKCl7bi5lbmNvZGU9bCxuLmRlY29kZT1kZWNvZGVVUklDb21wb25lbnR9LG4uY2hhcmFjdGVycz17cGF0aG5hbWU6e2VuY29kZTp7ZXhwcmVzc2lvbjovJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvZ2ksbWFwOntcIiUyNFwiOlwiJFwiLFwiJTI2XCI6XCImXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIixcIiUzQVwiOlwiOlwiLFwiJTQwXCI6XCJAXCJ9fSxkZWNvZGU6e2V4cHJlc3Npb246L1tcXC9cXD8jXS9nLG1hcDp7XCIvXCI6XCIlMkZcIixcIj9cIjpcIiUzRlwiLFwiI1wiOlwiJTIzXCJ9fX0scmVzZXJ2ZWQ6e2VuY29kZTp7ZXhwcmVzc2lvbjovJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvZ2ksbWFwOntcIiUzQVwiOlwiOlwiLFwiJTJGXCI6XCIvXCIsXCIlM0ZcIjpcIj9cIixcIiUyM1wiOlwiI1wiLFwiJTVCXCI6XCJbXCIsXCIlNURcIjpcIl1cIixcIiU0MFwiOlwiQFwiLFwiJTIxXCI6XCIhXCIsXCIlMjRcIjpcIiRcIixcIiUyNlwiOlwiJlwiLFwiJTI3XCI6XCInXCIsXCIlMjhcIjpcIihcIixcIiUyOVwiOlwiKVwiLFwiJTJBXCI6XCIqXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIn19fX0sbi5lbmNvZGVRdWVyeT1mdW5jdGlvbih0LGUpe3ZhciByPW4uZW5jb2RlKHQrXCJcIik7cmV0dXJuIGU/ci5yZXBsYWNlKC8lMjAvZyxcIitcIik6cn0sbi5kZWNvZGVRdWVyeT1mdW5jdGlvbih0LGUpe3QrPVwiXCI7dHJ5e3JldHVybiBuLmRlY29kZShlP3QucmVwbGFjZSgvXFwrL2csXCIlMjBcIik6dCl9Y2F0Y2gocil7cmV0dXJuIHR9fSxuLnJlY29kZVBhdGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSh0K1wiXCIpLnNwbGl0KFwiL1wiKSxyPTAscz1lLmxlbmd0aDtzPnI7cisrKWVbcl09bi5lbmNvZGVQYXRoU2VnbWVudChuLmRlY29kZShlW3JdKSk7cmV0dXJuIGUuam9pbihcIi9cIil9LG4uZGVjb2RlUGF0aD1mdW5jdGlvbih0KXtmb3IodmFyIGU9KHQrXCJcIikuc3BsaXQoXCIvXCIpLHI9MCxzPWUubGVuZ3RoO3M+cjtyKyspZVtyXT1uLmRlY29kZVBhdGhTZWdtZW50KGVbcl0pO3JldHVybiBlLmpvaW4oXCIvXCIpfTt2YXIgXyxnPXtlbmNvZGU6XCJlbmNvZGVcIixkZWNvZGU6XCJkZWNvZGVcIn0seT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gbltlXShyK1wiXCIpLnJlcGxhY2Uobi5jaGFyYWN0ZXJzW3RdW2VdLmV4cHJlc3Npb24sZnVuY3Rpb24ocil7cmV0dXJuIG4uY2hhcmFjdGVyc1t0XVtlXS5tYXBbcl19KX19O2ZvcihfIGluIGcpbltfK1wiUGF0aFNlZ21lbnRcIl09eShcInBhdGhuYW1lXCIsZ1tfXSk7bi5lbmNvZGVSZXNlcnZlZD15KFwicmVzZXJ2ZWRcIixcImVuY29kZVwiKSxuLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIGV8fChlPXt9KSxyPXQuaW5kZXhPZihcIiNcIikscj4tMSYmKGUuZnJhZ21lbnQ9dC5zdWJzdHJpbmcocisxKXx8bnVsbCx0PXQuc3Vic3RyaW5nKDAscikpLHI9dC5pbmRleE9mKFwiP1wiKSxyPi0xJiYoZS5xdWVyeT10LnN1YnN0cmluZyhyKzEpfHxudWxsLHQ9dC5zdWJzdHJpbmcoMCxyKSksXCIvL1wiPT09dC5zdWJzdHJpbmcoMCwyKT8oZS5wcm90b2NvbD1udWxsLHQ9dC5zdWJzdHJpbmcoMiksdD1uLnBhcnNlQXV0aG9yaXR5KHQsZSkpOihyPXQuaW5kZXhPZihcIjpcIikscj4tMSYmKGUucHJvdG9jb2w9dC5zdWJzdHJpbmcoMCxyKXx8bnVsbCxlLnByb3RvY29sJiYhZS5wcm90b2NvbC5tYXRjaChuLnByb3RvY29sX2V4cHJlc3Npb24pP2UucHJvdG9jb2w9dm9pZCAwOlwiZmlsZVwiPT09ZS5wcm90b2NvbD90PXQuc3Vic3RyaW5nKHIrMyk6XCIvL1wiPT09dC5zdWJzdHJpbmcocisxLHIrMyk/KHQ9dC5zdWJzdHJpbmcociszKSx0PW4ucGFyc2VBdXRob3JpdHkodCxlKSk6KHQ9dC5zdWJzdHJpbmcocisxKSxlLnVybj0hMCkpKSxlLnBhdGg9dCxlfSxuLnBhcnNlSG9zdD1mdW5jdGlvbih0LGUpe3ZhciByLHMsbj10LmluZGV4T2YoXCIvXCIpO3JldHVybi0xPT09biYmKG49dC5sZW5ndGgpLFwiW1wiPT09dC5jaGFyQXQoMCk/KHI9dC5pbmRleE9mKFwiXVwiKSxlLmhvc3RuYW1lPXQuc3Vic3RyaW5nKDEscil8fG51bGwsZS5wb3J0PXQuc3Vic3RyaW5nKHIrMixuKXx8bnVsbCk6dC5pbmRleE9mKFwiOlwiKSE9PXQubGFzdEluZGV4T2YoXCI6XCIpPyhlLmhvc3RuYW1lPXQuc3Vic3RyaW5nKDAsbil8fG51bGwsZS5wb3J0PW51bGwpOihzPXQuc3Vic3RyaW5nKDAsbikuc3BsaXQoXCI6XCIpLGUuaG9zdG5hbWU9c1swXXx8bnVsbCxlLnBvcnQ9c1sxXXx8bnVsbCksZS5ob3N0bmFtZSYmXCIvXCIhPT10LnN1YnN0cmluZyhuKS5jaGFyQXQoMCkmJihuKyssdD1cIi9cIit0KSx0LnN1YnN0cmluZyhuKXx8XCIvXCJ9LG4ucGFyc2VBdXRob3JpdHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uLnBhcnNlVXNlcmluZm8odCxlKSxuLnBhcnNlSG9zdCh0LGUpfSxuLnBhcnNlVXNlcmluZm89ZnVuY3Rpb24odCxlKXt2YXIgcixzPXQuaW5kZXhPZihcIi9cIiksaT1zPi0xP3QubGFzdEluZGV4T2YoXCJAXCIscyk6dC5pbmRleE9mKFwiQFwiKTtyZXR1cm4gaT4tMSYmKC0xPT09c3x8cz5pKT8ocj10LnN1YnN0cmluZygwLGkpLnNwbGl0KFwiOlwiKSxlLnVzZXJuYW1lPXJbMF0/bi5kZWNvZGUoclswXSk6bnVsbCxyLnNoaWZ0KCksZS5wYXNzd29yZD1yWzBdP24uZGVjb2RlKHIuam9pbihcIjpcIikpOm51bGwsdD10LnN1YnN0cmluZyhpKzEpKTooZS51c2VybmFtZT1udWxsLGUucGFzc3dvcmQ9bnVsbCksdH0sbi5wYXJzZVF1ZXJ5PWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJue307aWYodD10LnJlcGxhY2UoLyYrL2csXCImXCIpLnJlcGxhY2UoL15cXD8qJip8JiskL2csXCJcIiksIXQpcmV0dXJue307Zm9yKHZhciByLHMsaSxhPXt9LG89dC5zcGxpdChcIiZcIiksaD1vLmxlbmd0aCx1PTA7aD51O3UrKylyPW9bdV0uc3BsaXQoXCI9XCIpLHM9bi5kZWNvZGVRdWVyeShyLnNoaWZ0KCksZSksaT1yLmxlbmd0aD9uLmRlY29kZVF1ZXJ5KHIuam9pbihcIj1cIiksZSk6bnVsbCxhW3NdPyhcInN0cmluZ1wiPT10eXBlb2YgYVtzXSYmKGFbc109W2Fbc11dKSxhW3NdLnB1c2goaSkpOmFbc109aTtyZXR1cm4gYX0sbi5idWlsZD1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO3JldHVybiB0LnByb3RvY29sJiYoZSs9dC5wcm90b2NvbCtcIjpcIiksdC51cm58fCFlJiYhdC5ob3N0bmFtZXx8KGUrPVwiLy9cIiksZSs9bi5idWlsZEF1dGhvcml0eSh0KXx8XCJcIixcInN0cmluZ1wiPT10eXBlb2YgdC5wYXRoJiYoXCIvXCIhPT10LnBhdGguY2hhckF0KDApJiZcInN0cmluZ1wiPT10eXBlb2YgdC5ob3N0bmFtZSYmKGUrPVwiL1wiKSxlKz10LnBhdGgpLFwic3RyaW5nXCI9PXR5cGVvZiB0LnF1ZXJ5JiZ0LnF1ZXJ5JiYoZSs9XCI/XCIrdC5xdWVyeSksXCJzdHJpbmdcIj09dHlwZW9mIHQuZnJhZ21lbnQmJnQuZnJhZ21lbnQmJihlKz1cIiNcIit0LmZyYWdtZW50KSxlfSxuLmJ1aWxkSG9zdD1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO3JldHVybiB0Lmhvc3RuYW1lPyhuLmlwNl9leHByZXNzaW9uLnRlc3QodC5ob3N0bmFtZSk/ZSs9dC5wb3J0P1wiW1wiK3QuaG9zdG5hbWUrXCJdOlwiK3QucG9ydDp0Lmhvc3RuYW1lOihlKz10Lmhvc3RuYW1lLHQucG9ydCYmKGUrPVwiOlwiK3QucG9ydCkpLGUpOlwiXCJ9LG4uYnVpbGRBdXRob3JpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIG4uYnVpbGRVc2VyaW5mbyh0KStuLmJ1aWxkSG9zdCh0KX0sbi5idWlsZFVzZXJpbmZvPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQudXNlcm5hbWUmJihlKz1uLmVuY29kZSh0LnVzZXJuYW1lKSx0LnBhc3N3b3JkJiYoZSs9XCI6XCIrbi5lbmNvZGUodC5wYXNzd29yZCkpLGUrPVwiQFwiKSxlfSxuLmJ1aWxkUXVlcnk9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLGksYSxoLHU9XCJcIjtmb3IoaSBpbiB0KWlmKG0uY2FsbCh0LGkpJiZpKWlmKG8odFtpXSkpZm9yKHM9e30sYT0wLGg9dFtpXS5sZW5ndGg7aD5hO2ErKyl2b2lkIDAhPT10W2ldW2FdJiZ2b2lkIDA9PT1zW3RbaV1bYV0rXCJcIl0mJih1Kz1cIiZcIituLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoaSx0W2ldW2FdLHIpLGUhPT0hMCYmKHNbdFtpXVthXStcIlwiXT0hMCkpO2Vsc2Ugdm9pZCAwIT09dFtpXSYmKHUrPVwiJlwiK24uYnVpbGRRdWVyeVBhcmFtZXRlcihpLHRbaV0scikpO3JldHVybiB1LnN1YnN0cmluZygxKX0sbi5idWlsZFF1ZXJ5UGFyYW1ldGVyPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5lbmNvZGVRdWVyeSh0LHIpKyhudWxsIT09ZT9cIj1cIituLmVuY29kZVF1ZXJ5KGUscik6XCJcIil9LG4uYWRkUXVlcnk9ZnVuY3Rpb24odCxlLHIpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWZvcih2YXIgcyBpbiBlKW0uY2FsbChlLHMpJiZuLmFkZFF1ZXJ5KHQscyxlW3NdKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlclwiKTtpZih2b2lkIDA9PT10W2VdKXJldHVybiB2b2lkKHRbZV09cik7XCJzdHJpbmdcIj09dHlwZW9mIHRbZV0mJih0W2VdPVt0W2VdXSksbyhyKXx8KHI9W3JdKSx0W2VdPXRbZV0uY29uY2F0KHIpfX0sbi5yZW1vdmVRdWVyeT1mdW5jdGlvbih0LGUscil7dmFyIHMsaSxhO2lmKG8oZSkpZm9yKHM9MCxpPWUubGVuZ3RoO2k+cztzKyspdFtlW3NdXT12b2lkIDA7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgZSlmb3IoYSBpbiBlKW0uY2FsbChlLGEpJiZuLnJlbW92ZVF1ZXJ5KHQsYSxlW2FdKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcIik7dm9pZCAwIT09cj90W2VdPT09cj90W2VdPXZvaWQgMDpvKHRbZV0pJiYodFtlXT1oKHRbZV0scikpOnRbZV09dm9pZCAwfX0sbi5oYXNRdWVyeT1mdW5jdGlvbih0LGUscixzKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7Zm9yKHZhciBpIGluIGUpaWYobS5jYWxsKGUsaSkmJiFuLmhhc1F1ZXJ5KHQsaSxlW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1pZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7c3dpdGNoKGEocikpe2Nhc2VcIlVuZGVmaW5lZFwiOnJldHVybiBlIGluIHQ7Y2FzZVwiQm9vbGVhblwiOnZhciBoPUJvb2xlYW4obyh0W2VdKT90W2VdLmxlbmd0aDp0W2VdKTtyZXR1cm4gcj09PWg7Y2FzZVwiRnVuY3Rpb25cIjpyZXR1cm4hIXIodFtlXSxlLHQpO2Nhc2VcIkFycmF5XCI6aWYoIW8odFtlXSkpcmV0dXJuITE7dmFyIGM9cz91OnA7cmV0dXJuIGModFtlXSxyKTtjYXNlXCJSZWdFeHBcIjpyZXR1cm4gbyh0W2VdKT9zP3UodFtlXSxyKTohMTpCb29sZWFuKHRbZV0mJnRbZV0ubWF0Y2gocikpO2Nhc2VcIk51bWJlclwiOnI9U3RyaW5nKHIpO2Nhc2VcIlN0cmluZ1wiOnJldHVybiBvKHRbZV0pP3M/dSh0W2VdLHIpOiExOnRbZV09PT1yO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyXCIpfX0sbi5jb21tb25QYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCk7Zm9yKHI9MDtzPnI7cisrKWlmKHQuY2hhckF0KHIpIT09ZS5jaGFyQXQocikpe3ItLTticmVha31yZXR1cm4gMT5yP3QuY2hhckF0KDApPT09ZS5jaGFyQXQoMCkmJlwiL1wiPT09dC5jaGFyQXQoMCk/XCIvXCI6XCJcIjooKFwiL1wiIT09dC5jaGFyQXQocil8fFwiL1wiIT09ZS5jaGFyQXQocikpJiYocj10LnN1YnN0cmluZygwLHIpLmxhc3RJbmRleE9mKFwiL1wiKSksdC5zdWJzdHJpbmcoMCxyKzEpKX0sbi53aXRoaW5TdHJpbmc9ZnVuY3Rpb24odCxlLHIpe3J8fChyPXt9KTt2YXIgcz1yLnN0YXJ0fHxuLmZpbmRVcmkuc3RhcnQsaT1yLmVuZHx8bi5maW5kVXJpLmVuZCxhPXIudHJpbXx8bi5maW5kVXJpLnRyaW0sbz0vW2EtejAtOS1dPVtcIiddPyQvaTtmb3Iocy5sYXN0SW5kZXg9MDs7KXt2YXIgaD1zLmV4ZWModCk7aWYoIWgpYnJlYWs7dmFyIHU9aC5pbmRleDtpZihyLmlnbm9yZUh0bWwpe3ZhciBwPXQuc2xpY2UoTWF0aC5tYXgodS0zLDApLHUpO2lmKHAmJm8udGVzdChwKSljb250aW51ZX12YXIgYz11K3Quc2xpY2UodSkuc2VhcmNoKGkpLGw9dC5zbGljZSh1LGMpLnJlcGxhY2UoYSxcIlwiKTtpZighci5pZ25vcmV8fCFyLmlnbm9yZS50ZXN0KGwpKXtjPXUrbC5sZW5ndGg7dmFyIGQ9ZShsLHUsYyx0KTt0PXQuc2xpY2UoMCx1KStkK3Quc2xpY2UoYykscy5sYXN0SW5kZXg9dStkLmxlbmd0aH19cmV0dXJuIHMubGFzdEluZGV4PTAsdH0sbi5lbnN1cmVWYWxpZEhvc3RuYW1lPWZ1bmN0aW9uKGUpe2lmKGUubWF0Y2gobi5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKXtpZighdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSG9zdG5hbWUgJ1wiK2UrXCInIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlXCIpO2lmKHQudG9BU0NJSShlKS5tYXRjaChuLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkhvc3RuYW1lICdcIitlK1wiJyBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXVwiKX19LG4ubm9Db25mbGljdD1mdW5jdGlvbih0KXtpZih0KXt2YXIgcj17VVJJOnRoaXMubm9Db25mbGljdCgpfTtyZXR1cm4gVVJJVGVtcGxhdGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSSVRlbXBsYXRlLm5vQ29uZmxpY3QmJihyLlVSSVRlbXBsYXRlPVVSSVRlbXBsYXRlLm5vQ29uZmxpY3QoKSksZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5ub0NvbmZsaWN0JiYoci5JUHY2PWUubm9Db25mbGljdCgpKSxTZWNvbmRMZXZlbERvbWFpbnMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0JiYoci5TZWNvbmRMZXZlbERvbWFpbnM9U2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QoKSkscn1yZXR1cm4gcy5VUkk9PT10aGlzJiYocy5VUkk9ZCksdGhpc30sZi5idWlsZD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PSEwP3RoaXMuX2RlZmVycmVkX2J1aWxkPSEwOih2b2lkIDA9PT10fHx0aGlzLl9kZWZlcnJlZF9idWlsZCkmJih0aGlzLl9zdHJpbmc9bi5idWlsZCh0aGlzLl9wYXJ0cyksdGhpcy5fZGVmZXJyZWRfYnVpbGQ9ITEpLHRoaXN9LGYuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9LGYudmFsdWVPZj1mLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGQoITEpLl9zdHJpbmd9LGc9e3Byb3RvY29sOlwicHJvdG9jb2xcIix1c2VybmFtZTpcInVzZXJuYW1lXCIscGFzc3dvcmQ6XCJwYXNzd29yZFwiLGhvc3RuYW1lOlwiaG9zdG5hbWVcIixwb3J0OlwicG9ydFwifSx5PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMuX3BhcnRzW3RdfHxcIlwiOih0aGlzLl9wYXJ0c1t0XT1lfHxudWxsLHRoaXMuYnVpbGQoIXIpLHRoaXMpfX07Zm9yKF8gaW4gZylmW19dPXkoZ1tfXSk7Zz17cXVlcnk6XCI/XCIsZnJhZ21lbnQ6XCIjXCJ9LHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24ocixzKXtyZXR1cm4gdm9pZCAwPT09cj90aGlzLl9wYXJ0c1t0XXx8XCJcIjoobnVsbCE9PXImJihyKz1cIlwiLHIuY2hhckF0KDApPT09ZSYmKHI9ci5zdWJzdHJpbmcoMSkpKSx0aGlzLl9wYXJ0c1t0XT1yLHRoaXMuYnVpbGQoIXMpLHRoaXMpfX07Zm9yKF8gaW4gZylmW19dPXkoXyxnW19dKTtnPXtzZWFyY2g6W1wiP1wiLFwicXVlcnlcIl0saGFzaDpbXCIjXCIsXCJmcmFnbWVudFwiXX0seT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihyLHMpe3ZhciBuPXRoaXNbdF0ocixzKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbiYmbi5sZW5ndGg/ZStuOm59fTtmb3IoXyBpbiBnKWZbX109eShnW19dWzFdLGdbX11bMF0pO2YucGF0aG5hbWU9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10fHx0PT09ITApe3ZhciByPXRoaXMuX3BhcnRzLnBhdGh8fCh0aGlzLl9wYXJ0cy5ob3N0bmFtZT9cIi9cIjpcIlwiKTtyZXR1cm4gdD9uLmRlY29kZVBhdGgocik6cn1yZXR1cm4gdGhpcy5fcGFydHMucGF0aD10P24ucmVjb2RlUGF0aCh0KTpcIi9cIix0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLnBhdGg9Zi5wYXRobmFtZSxmLmhyZWY9ZnVuY3Rpb24odCxlKXt2YXIgcjtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLnRvU3RyaW5nKCk7dGhpcy5fc3RyaW5nPVwiXCIsdGhpcy5fcGFydHM9bi5fcGFydHMoKTt2YXIgcz10IGluc3RhbmNlb2YgbixpPVwib2JqZWN0XCI9PXR5cGVvZiB0JiYodC5ob3N0bmFtZXx8dC5wYXRofHx0LnBhdGhuYW1lKTtpZih0Lm5vZGVOYW1lKXt2YXIgYT1uLmdldERvbUF0dHJpYnV0ZSh0KTt0PXRbYV18fFwiXCIsaT0hMX1pZighcyYmaSYmdm9pZCAwIT09dC5wYXRobmFtZSYmKHQ9dC50b1N0cmluZygpKSxcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLl9wYXJ0cz1uLnBhcnNlKHQsdGhpcy5fcGFydHMpO2Vsc2V7aWYoIXMmJiFpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIGlucHV0XCIpO3ZhciBvPXM/dC5fcGFydHM6dDtmb3IociBpbiBvKW0uY2FsbCh0aGlzLl9wYXJ0cyxyKSYmKHRoaXMuX3BhcnRzW3JdPW9bcl0pfXJldHVybiB0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLmlzPWZ1bmN0aW9uKHQpe3ZhciBlPSExLHM9ITEsaT0hMSxhPSExLG89ITEsaD0hMSx1PSExLHA9IXRoaXMuX3BhcnRzLnVybjtzd2l0Y2godGhpcy5fcGFydHMuaG9zdG5hbWUmJihwPSExLHM9bi5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSxpPW4uaXA2X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSksZT1zfHxpLGE9IWUsbz1hJiZyJiZyLmhhcyh0aGlzLl9wYXJ0cy5ob3N0bmFtZSksaD1hJiZuLmlkbl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpLHU9YSYmbi5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpKSx0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcInJlbGF0aXZlXCI6cmV0dXJuIHA7Y2FzZVwiYWJzb2x1dGVcIjpyZXR1cm4hcDtjYXNlXCJkb21haW5cIjpjYXNlXCJuYW1lXCI6cmV0dXJuIGE7Y2FzZVwic2xkXCI6cmV0dXJuIG87Y2FzZVwiaXBcIjpyZXR1cm4gZTtjYXNlXCJpcDRcIjpjYXNlXCJpcHY0XCI6Y2FzZVwiaW5ldDRcIjpyZXR1cm4gcztjYXNlXCJpcDZcIjpjYXNlXCJpcHY2XCI6Y2FzZVwiaW5ldDZcIjpyZXR1cm4gaTtjYXNlXCJpZG5cIjpyZXR1cm4gaDtjYXNlXCJ1cmxcIjpyZXR1cm4hdGhpcy5fcGFydHMudXJuO2Nhc2VcInVyblwiOnJldHVybiEhdGhpcy5fcGFydHMudXJuO2Nhc2VcInB1bnljb2RlXCI6cmV0dXJuIHV9cmV0dXJuIG51bGx9O3ZhciB2PWYucHJvdG9jb2wsYj1mLnBvcnQsUT1mLmhvc3RuYW1lO2YucHJvdG9jb2w9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT10JiZ0JiYodD10LnJlcGxhY2UoLzooXFwvXFwvKT8kLyxcIlwiKSwhdC5tYXRjaChuLnByb3RvY29sX2V4cHJlc3Npb24pKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvdG9jb2wgJ1wiK3QrXCInIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2Vzbid0IHN0YXJ0IHdpdGggW0EtWl1cIik7cmV0dXJuIHYuY2FsbCh0aGlzLHQsZSl9LGYuc2NoZW1lPWYucHJvdG9jb2wsZi5wb3J0PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDAhPT10JiYoMD09PXQmJih0PW51bGwpLHQmJih0Kz1cIlwiLFwiOlwiPT09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyaW5nKDEpKSx0Lm1hdGNoKC9bXjAtOV0vKSkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQb3J0ICdcIit0K1wiJyBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV1cIik7cmV0dXJuIGIuY2FsbCh0aGlzLHQsZSl9LGYuaG9zdG5hbWU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9wYXJ0cy51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMCE9PXQpe3ZhciByPXt9O24ucGFyc2VIb3N0KHQsciksdD1yLmhvc3RuYW1lfXJldHVybiBRLmNhbGwodGhpcyx0LGUpfSxmLmhvc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcGFydHMudXJuP3ZvaWQgMD09PXQ/XCJcIjp0aGlzOnZvaWQgMD09PXQ/dGhpcy5fcGFydHMuaG9zdG5hbWU/bi5idWlsZEhvc3QodGhpcy5fcGFydHMpOlwiXCI6KG4ucGFyc2VIb3N0KHQsdGhpcy5fcGFydHMpLHRoaXMuYnVpbGQoIWUpLHRoaXMpfSxmLmF1dGhvcml0eT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9wYXJ0cy51cm4/dm9pZCAwPT09dD9cIlwiOnRoaXM6dm9pZCAwPT09dD90aGlzLl9wYXJ0cy5ob3N0bmFtZT9uLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKTpcIlwiOihuLnBhcnNlQXV0aG9yaXR5KHQsdGhpcy5fcGFydHMpLHRoaXMuYnVpbGQoIWUpLHRoaXMpfSxmLnVzZXJpbmZvPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10KXtpZighdGhpcy5fcGFydHMudXNlcm5hbWUpcmV0dXJuXCJcIjt2YXIgcj1uLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpO3JldHVybiByLnN1YnN0cmluZygwLHIubGVuZ3RoLTEpfXJldHVyblwiQFwiIT09dFt0Lmxlbmd0aC0xXSYmKHQrPVwiQFwiKSxuLnBhcnNlVXNlcmluZm8odCx0aGlzLl9wYXJ0cyksdGhpcy5idWlsZCghZSksdGhpc30sZi5yZXNvdXJjZT1mdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiB2b2lkIDA9PT10P3RoaXMucGF0aCgpK3RoaXMuc2VhcmNoKCkrdGhpcy5oYXNoKCk6KHI9bi5wYXJzZSh0KSx0aGlzLl9wYXJ0cy5wYXRoPXIucGF0aCx0aGlzLl9wYXJ0cy5xdWVyeT1yLnF1ZXJ5LHRoaXMuX3BhcnRzLmZyYWdtZW50PXIuZnJhZ21lbnQsdGhpcy5idWlsZCghZSksdGhpcyl9LGYuc3ViZG9tYWluPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10KXtpZighdGhpcy5fcGFydHMuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciByPXRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aC10aGlzLmRvbWFpbigpLmxlbmd0aC0xO3JldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCxyKXx8XCJcIn12YXIgcz10aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGgtdGhpcy5kb21haW4oKS5sZW5ndGgsYT10aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCxzKSxvPW5ldyBSZWdFeHAoXCJeXCIraShhKSk7cmV0dXJuIHQmJlwiLlwiIT09dC5jaGFyQXQodC5sZW5ndGgtMSkmJih0Kz1cIi5cIiksdCYmbi5lbnN1cmVWYWxpZEhvc3RuYW1lKHQpLHRoaXMuX3BhcnRzLmhvc3RuYW1lPXRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2Uobyx0KSx0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLmRvbWFpbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0JiYoZT10LHQ9dm9pZCAwKSx2b2lkIDA9PT10KXtpZighdGhpcy5fcGFydHMuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciByPXRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cXC4vZyk7aWYociYmci5sZW5ndGg8MilyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7dmFyIHM9dGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoLXRoaXMudGxkKGUpLmxlbmd0aC0xO3JldHVybiBzPXRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKFwiLlwiLHMtMSkrMSx0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcocyl8fFwiXCJ9aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgZG9tYWluIGVtcHR5XCIpO2lmKG4uZW5zdXJlVmFsaWRIb3N0bmFtZSh0KSwhdGhpcy5fcGFydHMuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSl0aGlzLl9wYXJ0cy5ob3N0bmFtZT10O2Vsc2V7dmFyIGE9bmV3IFJlZ0V4cChpKHRoaXMuZG9tYWluKCkpK1wiJFwiKTt0aGlzLl9wYXJ0cy5ob3N0bmFtZT10aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKGEsdCl9cmV0dXJuIHRoaXMuYnVpbGQoIWUpLHRoaXN9LGYudGxkPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZihcImJvb2xlYW5cIj09dHlwZW9mIHQmJihlPXQsdD12b2lkIDApLHZvaWQgMD09PXQpe2lmKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXJldHVyblwiXCI7dmFyIHM9dGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoXCIuXCIpLG49dGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHMrMSk7cmV0dXJuIGUhPT0hMCYmciYmci5saXN0W24udG9Mb3dlckNhc2UoKV0/ci5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpfHxuOm59dmFyIGE7aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgVExEIGVtcHR5XCIpO2lmKHQubWF0Y2goL1teYS16QS1aMC05LV0vKSl7aWYoIXJ8fCFyLmlzKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUTEQgJ1wiK3QrXCInIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XVwiKTthPW5ldyBSZWdFeHAoaSh0aGlzLnRsZCgpKStcIiRcIiksdGhpcy5fcGFydHMuaG9zdG5hbWU9dGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShhLHQpfWVsc2V7aWYoIXRoaXMuX3BhcnRzLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0XCIpO2E9bmV3IFJlZ0V4cChpKHRoaXMudGxkKCkpK1wiJFwiKSx0aGlzLl9wYXJ0cy5ob3N0bmFtZT10aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKGEsdCl9cmV0dXJuIHRoaXMuYnVpbGQoIWUpLHRoaXN9LGYuZGlyZWN0b3J5PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10fHx0PT09ITApe2lmKCF0aGlzLl9wYXJ0cy5wYXRoJiYhdGhpcy5fcGFydHMuaG9zdG5hbWUpcmV0dXJuXCJcIjtpZihcIi9cIj09PXRoaXMuX3BhcnRzLnBhdGgpcmV0dXJuXCIvXCI7dmFyIHI9dGhpcy5fcGFydHMucGF0aC5sZW5ndGgtdGhpcy5maWxlbmFtZSgpLmxlbmd0aC0xLHM9dGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCxyKXx8KHRoaXMuX3BhcnRzLmhvc3RuYW1lP1wiL1wiOlwiXCIpO3JldHVybiB0P24uZGVjb2RlUGF0aChzKTpzfXZhciBhPXRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoLXRoaXMuZmlsZW5hbWUoKS5sZW5ndGgsbz10aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLGEpLGg9bmV3IFJlZ0V4cChcIl5cIitpKG8pKTtyZXR1cm4gdGhpcy5pcyhcInJlbGF0aXZlXCIpfHwodHx8KHQ9XCIvXCIpLFwiL1wiIT09dC5jaGFyQXQoMCkmJih0PVwiL1wiK3QpKSx0JiZcIi9cIiE9PXQuY2hhckF0KHQubGVuZ3RoLTEpJiYodCs9XCIvXCIpLHQ9bi5yZWNvZGVQYXRoKHQpLHRoaXMuX3BhcnRzLnBhdGg9dGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKGgsdCksdGhpcy5idWlsZCghZSksdGhpc30sZi5maWxlbmFtZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dHx8dD09PSEwKXtpZighdGhpcy5fcGFydHMucGF0aHx8XCIvXCI9PT10aGlzLl9wYXJ0cy5wYXRoKXJldHVyblwiXCI7dmFyIHI9dGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZihcIi9cIikscz10aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhyKzEpO3JldHVybiB0P24uZGVjb2RlUGF0aFNlZ21lbnQocyk6c312YXIgYT0hMTtcIi9cIj09PXQuY2hhckF0KDApJiYodD10LnN1YnN0cmluZygxKSksdC5tYXRjaCgvXFwuP1xcLy8pJiYoYT0hMCk7dmFyIG89bmV3IFJlZ0V4cChpKHRoaXMuZmlsZW5hbWUoKSkrXCIkXCIpO3JldHVybiB0PW4ucmVjb2RlUGF0aCh0KSx0aGlzLl9wYXJ0cy5wYXRoPXRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShvLHQpLGE/dGhpcy5ub3JtYWxpemVQYXRoKGUpOnRoaXMuYnVpbGQoIWUpLHRoaXN9LGYuc3VmZml4PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fcGFydHMudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10fHx0PT09ITApe2lmKCF0aGlzLl9wYXJ0cy5wYXRofHxcIi9cIj09PXRoaXMuX3BhcnRzLnBhdGgpcmV0dXJuXCJcIjt2YXIgcixzLGE9dGhpcy5maWxlbmFtZSgpLG89YS5sYXN0SW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PT1vP1wiXCI6KHI9YS5zdWJzdHJpbmcobysxKSxzPS9eW2EtejAtOSVdKyQvaS50ZXN0KHIpP3I6XCJcIix0P24uZGVjb2RlUGF0aFNlZ21lbnQocyk6cyl9XCIuXCI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zdWJzdHJpbmcoMSkpO3ZhciBoLHU9dGhpcy5zdWZmaXgoKTtpZih1KWg9bmV3IFJlZ0V4cCh0P2kodSkrXCIkXCI6aShcIi5cIit1KStcIiRcIik7ZWxzZXtpZighdClyZXR1cm4gdGhpczt0aGlzLl9wYXJ0cy5wYXRoKz1cIi5cIituLnJlY29kZVBhdGgodCl9cmV0dXJuIGgmJih0PW4ucmVjb2RlUGF0aCh0KSx0aGlzLl9wYXJ0cy5wYXRoPXRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShoLHQpKSx0aGlzLmJ1aWxkKCFlKSx0aGlzfSxmLnNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBzPXRoaXMuX3BhcnRzLnVybj9cIjpcIjpcIi9cIixuPXRoaXMucGF0aCgpLGk9XCIvXCI9PT1uLnN1YnN0cmluZygwLDEpLGE9bi5zcGxpdChzKTtpZih2b2lkIDAhPT10JiZcIm51bWJlclwiIT10eXBlb2YgdCYmKHI9ZSxlPXQsdD12b2lkIDApLHZvaWQgMCE9PXQmJlwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkJhZCBzZWdtZW50ICdcIit0K1wiJywgbXVzdCBiZSAwLWJhc2VkIGludGVnZXJcIik7aWYoaSYmYS5zaGlmdCgpLDA+dCYmKHQ9TWF0aC5tYXgoYS5sZW5ndGgrdCwwKSksdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwPT09dD9hOmFbdF07aWYobnVsbD09PXR8fHZvaWQgMD09PWFbdF0paWYobyhlKSl7YT1bXTtmb3IodmFyIGg9MCx1PWUubGVuZ3RoO3U+aDtoKyspKGVbaF0ubGVuZ3RofHxhLmxlbmd0aCYmYVthLmxlbmd0aC0xXS5sZW5ndGgpJiYoYS5sZW5ndGgmJiFhW2EubGVuZ3RoLTFdLmxlbmd0aCYmYS5wb3AoKSxhLnB1c2goZVtoXSkpfWVsc2UoZXx8XCJzdHJpbmdcIj09dHlwZW9mIGUpJiYoXCJcIj09PWFbYS5sZW5ndGgtMV0/YVthLmxlbmd0aC0xXT1lOmEucHVzaChlKSk7ZWxzZSBlfHxcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg/YVt0XT1lOmEuc3BsaWNlKHQsMSk7cmV0dXJuIGkmJmEudW5zaGlmdChcIlwiKSx0aGlzLnBhdGgoYS5qb2luKHMpLHIpfSxmLnNlZ21lbnRDb2RlZD1mdW5jdGlvbih0LGUscil7dmFyIHMsaSxhO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0JiYocj1lLGU9dCx0PXZvaWQgMCksdm9pZCAwPT09ZSl7aWYocz10aGlzLnNlZ21lbnQodCxlLHIpLG8ocykpZm9yKGk9MCxhPXMubGVuZ3RoO2E+aTtpKyspc1tpXT1uLmRlY29kZShzW2ldKTtlbHNlIHM9dm9pZCAwIT09cz9uLmRlY29kZShzKTp2b2lkIDA7cmV0dXJuIHN9aWYobyhlKSlmb3IoaT0wLGE9ZS5sZW5ndGg7YT5pO2krKyllW2ldPW4uZGVjb2RlKGVbaV0pO2Vsc2UgZT1cInN0cmluZ1wiPT10eXBlb2YgZT9uLmVuY29kZShlKTplO3JldHVybiB0aGlzLnNlZ21lbnQodCxlLHIpfTt2YXIgdz1mLnF1ZXJ5O3JldHVybiBmLnF1ZXJ5PWZ1bmN0aW9uKHQsZSl7aWYodD09PSEwKXJldHVybiBuLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIHI9bi5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLHM9dC5jYWxsKHRoaXMscik7cmV0dXJuIHRoaXMuX3BhcnRzLnF1ZXJ5PW4uYnVpbGRRdWVyeShzfHxyLHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSx0aGlzLmJ1aWxkKCFlKSx0aGlzfXJldHVybiB2b2lkIDAhPT10JiZcInN0cmluZ1wiIT10eXBlb2YgdD8odGhpcy5fcGFydHMucXVlcnk9bi5idWlsZFF1ZXJ5KHQsdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLHRoaXMuYnVpbGQoIWUpLHRoaXMpOncuY2FsbCh0aGlzLHQsZSl9LGYuc2V0UXVlcnk9ZnVuY3Rpb24odCxlLHIpe3ZhciBzPW4ucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCltLmNhbGwodCxpKSYmKHNbaV09dFtpXSk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7c1t0XT12b2lkIDAhPT1lP2U6bnVsbH1yZXR1cm4gdGhpcy5fcGFydHMucXVlcnk9bi5idWlsZFF1ZXJ5KHMsdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLFwic3RyaW5nXCIhPXR5cGVvZiB0JiYocj1lKSx0aGlzLmJ1aWxkKCFyKSx0aGlzfSxmLmFkZFF1ZXJ5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1uLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7cmV0dXJuIG4uYWRkUXVlcnkocyx0LHZvaWQgMD09PWU/bnVsbDplKSx0aGlzLl9wYXJ0cy5xdWVyeT1uLmJ1aWxkUXVlcnkocyx0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSksXCJzdHJpbmdcIiE9dHlwZW9mIHQmJihyPWUpLHRoaXMuYnVpbGQoIXIpLHRoaXN9LGYucmVtb3ZlUXVlcnk9ZnVuY3Rpb24odCxlLHIpe3ZhciBzPW4ucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSx0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtyZXR1cm4gbi5yZW1vdmVRdWVyeShzLHQsZSksdGhpcy5fcGFydHMucXVlcnk9bi5idWlsZFF1ZXJ5KHMsdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLFwic3RyaW5nXCIhPXR5cGVvZiB0JiYocj1lKSx0aGlzLmJ1aWxkKCFyKSx0aGlzfSxmLmhhc1F1ZXJ5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1uLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7cmV0dXJuIG4uaGFzUXVlcnkocyx0LGUscil9LGYuc2V0U2VhcmNoPWYuc2V0UXVlcnksZi5hZGRTZWFyY2g9Zi5hZGRRdWVyeSxmLnJlbW92ZVNlYXJjaD1mLnJlbW92ZVF1ZXJ5LGYuaGFzU2VhcmNoPWYuaGFzUXVlcnksZi5ub3JtYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFydHMudXJuP3RoaXMubm9ybWFsaXplUHJvdG9jb2woITEpLm5vcm1hbGl6ZVF1ZXJ5KCExKS5ub3JtYWxpemVGcmFnbWVudCghMSkuYnVpbGQoKTp0aGlzLm5vcm1hbGl6ZVByb3RvY29sKCExKS5ub3JtYWxpemVIb3N0bmFtZSghMSkubm9ybWFsaXplUG9ydCghMSkubm9ybWFsaXplUGF0aCghMSkubm9ybWFsaXplUXVlcnkoITEpLm5vcm1hbGl6ZUZyYWdtZW50KCExKS5idWlsZCgpfSxmLm5vcm1hbGl6ZVByb3RvY29sPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCYmKHRoaXMuX3BhcnRzLnByb3RvY29sPXRoaXMuX3BhcnRzLnByb3RvY29sLnRvTG93ZXJDYXNlKCksdGhpcy5idWlsZCghdCkpLHRoaXN9LGYubm9ybWFsaXplSG9zdG5hbWU9ZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lJiYodGhpcy5pcyhcIklETlwiKSYmdD90aGlzLl9wYXJ0cy5ob3N0bmFtZT10LnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOnRoaXMuaXMoXCJJUHY2XCIpJiZlJiYodGhpcy5fcGFydHMuaG9zdG5hbWU9ZS5iZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSksdGhpcy5fcGFydHMuaG9zdG5hbWU9dGhpcy5fcGFydHMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSx0aGlzLmJ1aWxkKCFyKSksdGhpc30sZi5ub3JtYWxpemVQb3J0PWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCYmdGhpcy5fcGFydHMucG9ydD09PW4uZGVmYXVsdFBvcnRzW3RoaXMuX3BhcnRzLnByb3RvY29sXSYmKHRoaXMuX3BhcnRzLnBvcnQ9bnVsbCx0aGlzLmJ1aWxkKCF0KSksdGhpc30sZi5ub3JtYWxpemVQYXRoPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3BhcnRzLnVybilyZXR1cm4gdGhpcztpZighdGhpcy5fcGFydHMucGF0aHx8XCIvXCI9PT10aGlzLl9wYXJ0cy5wYXRoKXJldHVybiB0aGlzO3ZhciBlLHIscyxpPXRoaXMuX3BhcnRzLnBhdGgsYT1cIlwiO2ZvcihcIi9cIiE9PWkuY2hhckF0KDApJiYoZT0hMCxpPVwiL1wiK2kpLGk9aS5yZXBsYWNlKC8oXFwvKFxcLlxcLykrKXwoXFwvXFwuJCkvZyxcIi9cIikucmVwbGFjZSgvXFwvezIsfS9nLFwiL1wiKSxlJiYoYT1pLnN1YnN0cmluZygxKS5tYXRjaCgvXihcXC5cXC5cXC8pKy8pfHxcIlwiLGEmJihhPWFbMF0pKTs7KXtpZihyPWkuaW5kZXhPZihcIi8uLlwiKSwtMT09PXIpYnJlYWs7MCE9PXI/KHM9aS5zdWJzdHJpbmcoMCxyKS5sYXN0SW5kZXhPZihcIi9cIiksLTE9PT1zJiYocz1yKSxpPWkuc3Vic3RyaW5nKDAscykraS5zdWJzdHJpbmcociszKSk6aT1pLnN1YnN0cmluZygzKX1yZXR1cm4gZSYmdGhpcy5pcyhcInJlbGF0aXZlXCIpJiYoaT1hK2kuc3Vic3RyaW5nKDEpKSxpPW4ucmVjb2RlUGF0aChpKSx0aGlzLl9wYXJ0cy5wYXRoPWksdGhpcy5idWlsZCghdCksdGhpc30sZi5ub3JtYWxpemVQYXRobmFtZT1mLm5vcm1hbGl6ZVBhdGgsZi5ub3JtYWxpemVRdWVyeT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5fcGFydHMucXVlcnkmJih0aGlzLl9wYXJ0cy5xdWVyeS5sZW5ndGg/dGhpcy5xdWVyeShuLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkpOnRoaXMuX3BhcnRzLnF1ZXJ5PW51bGwsdGhpcy5idWlsZCghdCkpLHRoaXN9LGYubm9ybWFsaXplRnJhZ21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BhcnRzLmZyYWdtZW50fHwodGhpcy5fcGFydHMuZnJhZ21lbnQ9bnVsbCx0aGlzLmJ1aWxkKCF0KSksdGhpc30sZi5ub3JtYWxpemVTZWFyY2g9Zi5ub3JtYWxpemVRdWVyeSxmLm5vcm1hbGl6ZUhhc2g9Zi5ub3JtYWxpemVGcmFnbWVudCxmLmlzbzg4NTk9ZnVuY3Rpb24oKXt2YXIgdD1uLmVuY29kZSxlPW4uZGVjb2RlO3JldHVybiBuLmVuY29kZT1lc2NhcGUsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50LHRoaXMubm9ybWFsaXplKCksbi5lbmNvZGU9dCxuLmRlY29kZT1lLHRoaXN9LGYudW5pY29kZT1mdW5jdGlvbigpe3ZhciB0PW4uZW5jb2RlLGU9bi5kZWNvZGU7cmV0dXJuIG4uZW5jb2RlPWwsbi5kZWNvZGU9dW5lc2NhcGUsdGhpcy5ub3JtYWxpemUoKSxuLmVuY29kZT10LG4uZGVjb2RlPWUsdGhpc30sZi5yZWFkYWJsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY2xvbmUoKTtlLnVzZXJuYW1lKFwiXCIpLnBhc3N3b3JkKFwiXCIpLm5vcm1hbGl6ZSgpO3ZhciByPVwiXCI7aWYoZS5fcGFydHMucHJvdG9jb2wmJihyKz1lLl9wYXJ0cy5wcm90b2NvbCtcIjovL1wiKSxlLl9wYXJ0cy5ob3N0bmFtZSYmKGUuaXMoXCJwdW55Y29kZVwiKSYmdD8ocis9dC50b1VuaWNvZGUoZS5fcGFydHMuaG9zdG5hbWUpLGUuX3BhcnRzLnBvcnQmJihyKz1cIjpcIitlLl9wYXJ0cy5wb3J0KSk6cis9ZS5ob3N0KCkpLGUuX3BhcnRzLmhvc3RuYW1lJiZlLl9wYXJ0cy5wYXRoJiZcIi9cIiE9PWUuX3BhcnRzLnBhdGguY2hhckF0KDApJiYocis9XCIvXCIpLHIrPWUucGF0aCghMCksZS5fcGFydHMucXVlcnkpe2Zvcih2YXIgcz1cIlwiLGk9MCxhPWUuX3BhcnRzLnF1ZXJ5LnNwbGl0KFwiJlwiKSxvPWEubGVuZ3RoO28+aTtpKyspe3ZhciBoPShhW2ldfHxcIlwiKS5zcGxpdChcIj1cIik7cys9XCImXCIrbi5kZWNvZGVRdWVyeShoWzBdLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLnJlcGxhY2UoLyYvZyxcIiUyNlwiKSx2b2lkIDAhPT1oWzFdJiYocys9XCI9XCIrbi5kZWNvZGVRdWVyeShoWzFdLHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpLnJlcGxhY2UoLyYvZyxcIiUyNlwiKSl9cis9XCI/XCIrcy5zdWJzdHJpbmcoMSl9cmV0dXJuIHIrPW4uZGVjb2RlUXVlcnkoZS5oYXNoKCksITApfSxmLmFic29sdXRlVG89ZnVuY3Rpb24odCl7dmFyIGUscixzLGk9dGhpcy5jbG9uZSgpLGE9W1wicHJvdG9jb2xcIixcInVzZXJuYW1lXCIsXCJwYXNzd29yZFwiLFwiaG9zdG5hbWVcIixcInBvcnRcIl07aWYodGhpcy5fcGFydHMudXJuKXRocm93IG5ldyBFcnJvcihcIlVSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzXCIpO2lmKHQgaW5zdGFuY2VvZiBufHwodD1uZXcgbih0KSksaS5fcGFydHMucHJvdG9jb2x8fChpLl9wYXJ0cy5wcm90b2NvbD10Ll9wYXJ0cy5wcm90b2NvbCksdGhpcy5fcGFydHMuaG9zdG5hbWUpcmV0dXJuIGk7Zm9yKHI9MDtzPWFbcl07cisrKWkuX3BhcnRzW3NdPXQuX3BhcnRzW3NdO3JldHVybiBpLl9wYXJ0cy5wYXRoP1wiLi5cIj09PWkuX3BhcnRzLnBhdGguc3Vic3RyaW5nKC0yKSYmKGkuX3BhcnRzLnBhdGgrPVwiL1wiKTooaS5fcGFydHMucGF0aD10Ll9wYXJ0cy5wYXRoLGkuX3BhcnRzLnF1ZXJ5fHwoaS5fcGFydHMucXVlcnk9dC5fcGFydHMucXVlcnkpKSxcIi9cIiE9PWkucGF0aCgpLmNoYXJBdCgwKSYmKGU9dC5kaXJlY3RvcnkoKSxpLl9wYXJ0cy5wYXRoPShlP2UrXCIvXCI6XCJcIikraS5fcGFydHMucGF0aCxpLm5vcm1hbGl6ZVBhdGgoKSksaS5idWlsZCgpLGl9LGYucmVsYXRpdmVUbz1mdW5jdGlvbih0KXt2YXIgZSxyLHMsaSxhLG89dGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpO2lmKG8uX3BhcnRzLnVybil0aHJvdyBuZXcgRXJyb3IoXCJVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50c1wiKTtpZih0PW5ldyBuKHQpLm5vcm1hbGl6ZSgpLGU9by5fcGFydHMscj10Ll9wYXJ0cyxpPW8ucGF0aCgpLGE9dC5wYXRoKCksXCIvXCIhPT1pLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoXCJVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZVwiKTtpZihcIi9cIiE9PWEuY2hhckF0KDApKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUklcIik7aWYoZS5wcm90b2NvbD09PXIucHJvdG9jb2wmJihlLnByb3RvY29sPW51bGwpLGUudXNlcm5hbWUhPT1yLnVzZXJuYW1lfHxlLnBhc3N3b3JkIT09ci5wYXNzd29yZClyZXR1cm4gby5idWlsZCgpO2lmKG51bGwhPT1lLnByb3RvY29sfHxudWxsIT09ZS51c2VybmFtZXx8bnVsbCE9PWUucGFzc3dvcmQpcmV0dXJuIG8uYnVpbGQoKTtpZihlLmhvc3RuYW1lIT09ci5ob3N0bmFtZXx8ZS5wb3J0IT09ci5wb3J0KXJldHVybiBvLmJ1aWxkKCk7aWYoZS5ob3N0bmFtZT1udWxsLGUucG9ydD1udWxsLGk9PT1hKXJldHVybiBlLnBhdGg9XCJcIixvLmJ1aWxkKCk7aWYocz1uLmNvbW1vblBhdGgoby5wYXRoKCksdC5wYXRoKCkpLCFzKXJldHVybiBvLmJ1aWxkKCk7dmFyIGg9ci5wYXRoLnN1YnN0cmluZyhzLmxlbmd0aCkucmVwbGFjZSgvW15cXC9dKiQvLFwiXCIpLnJlcGxhY2UoLy4qP1xcLy9nLFwiLi4vXCIpO3JldHVybiBlLnBhdGg9aCtlLnBhdGguc3Vic3RyaW5nKHMubGVuZ3RoKSxvLmJ1aWxkKCl9LGYuZXF1YWxzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscyxpPXRoaXMuY2xvbmUoKSxhPW5ldyBuKHQpLGg9e30sdT17fSxjPXt9O2lmKGkubm9ybWFsaXplKCksYS5ub3JtYWxpemUoKSxpLnRvU3RyaW5nKCk9PT1hLnRvU3RyaW5nKCkpcmV0dXJuITA7aWYoZT1pLnF1ZXJ5KCkscj1hLnF1ZXJ5KCksaS5xdWVyeShcIlwiKSxhLnF1ZXJ5KFwiXCIpLGkudG9TdHJpbmcoKSE9PWEudG9TdHJpbmcoKSlyZXR1cm4hMTtpZihlLmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2g9bi5wYXJzZVF1ZXJ5KGUsdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSksdT1uLnBhcnNlUXVlcnkocix0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtmb3IocyBpbiBoKWlmKG0uY2FsbChoLHMpKXtpZihvKGhbc10pKXtpZighcChoW3NdLHVbc10pKXJldHVybiExfWVsc2UgaWYoaFtzXSE9PXVbc10pcmV0dXJuITE7Y1tzXT0hMH1mb3IocyBpbiB1KWlmKG0uY2FsbCh1LHMpJiYhY1tzXSlyZXR1cm4hMTtyZXR1cm4hMH0sZi5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycz0hIXQsdGhpc30sZi5lc2NhcGVRdWVyeVNwYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlPSEhdCx0aGlzfSxufSk7IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuIWZ1bmN0aW9uKG8pe2Z1bmN0aW9uIGUobyl7dGhyb3cgUmFuZ2VFcnJvcihMW29dKX1mdW5jdGlvbiBuKG8sZSl7Zm9yKHZhciBuPW8ubGVuZ3RoO24tLTspb1tuXT1lKG9bbl0pO3JldHVybiBvfWZ1bmN0aW9uIHQobyxlKXtyZXR1cm4gbihvLnNwbGl0KFMpLGUpLmpvaW4oXCIuXCIpfWZ1bmN0aW9uIHIobyl7Zm9yKHZhciBlLG4sdD1bXSxyPTAsdT1vLmxlbmd0aDt1PnI7KWU9by5jaGFyQ29kZUF0KHIrKyksZT49NTUyOTYmJjU2MzE5Pj1lJiZ1PnI/KG49by5jaGFyQ29kZUF0KHIrKyksNTYzMjA9PSg2NDUxMiZuKT90LnB1c2goKCgxMDIzJmUpPDwxMCkrKDEwMjMmbikrNjU1MzYpOih0LnB1c2goZSksci0tKSk6dC5wdXNoKGUpO3JldHVybiB0fWZ1bmN0aW9uIHUobyl7cmV0dXJuIG4obyxmdW5jdGlvbihvKXt2YXIgZT1cIlwiO3JldHVybiBvPjY1NTM1JiYoby09NjU1MzYsZSs9UihvPj4+MTAmMTAyM3w1NTI5Niksbz01NjMyMHwxMDIzJm8pLGUrPVIobyl9KS5qb2luKFwiXCIpfWZ1bmN0aW9uIGkobyl7cmV0dXJuIDEwPm8tNDg/by0yMjoyNj5vLTY1P28tNjU6MjY+by05Nz9vLTk3Onh9ZnVuY3Rpb24gZihvLGUpe3JldHVybiBvKzIyKzc1KigyNj5vKS0oKDAhPWUpPDw1KX1mdW5jdGlvbiBjKG8sZSxuKXt2YXIgdD0wO2ZvcihvPW4/UChvL20pOm8+PjEsbys9UChvL2UpO28+TSp5Pj4xO3QrPXgpbz1QKG8vTSk7cmV0dXJuIFAodCsoTSsxKSpvLyhvK2opKX1mdW5jdGlvbiBsKG8pe3ZhciBuLHQscixmLGwsZCxzLGEscCxoLHY9W10sZz1vLmxlbmd0aCx3PTAsaj1JLG09QTtmb3IodD1vLmxhc3RJbmRleE9mKEYpLDA+dCYmKHQ9MCkscj0wO3Q+cjsrK3Ipby5jaGFyQ29kZUF0KHIpPj0xMjgmJmUoXCJub3QtYmFzaWNcIiksdi5wdXNoKG8uY2hhckNvZGVBdChyKSk7Zm9yKGY9dD4wP3QrMTowO2c+Zjspe2ZvcihsPXcsZD0xLHM9eDtmPj1nJiZlKFwiaW52YWxpZC1pbnB1dFwiKSxhPWkoby5jaGFyQ29kZUF0KGYrKykpLChhPj14fHxhPlAoKGItdykvZCkpJiZlKFwib3ZlcmZsb3dcIiksdys9YSpkLHA9bT49cz9DOnM+PW0reT95OnMtbSwhKHA+YSk7cys9eCloPXgtcCxkPlAoYi9oKSYmZShcIm92ZXJmbG93XCIpLGQqPWg7bj12Lmxlbmd0aCsxLG09Yyh3LWwsbiwwPT1sKSxQKHcvbik+Yi1qJiZlKFwib3ZlcmZsb3dcIiksais9UCh3L24pLHclPW4sdi5zcGxpY2UodysrLDAsail9cmV0dXJuIHUodil9ZnVuY3Rpb24gZChvKXt2YXIgbix0LHUsaSxsLGQscyxhLHAsaCx2LGcsdyxqLG0sRT1bXTtmb3Iobz1yKG8pLGc9by5sZW5ndGgsbj1JLHQ9MCxsPUEsZD0wO2c+ZDsrK2Qpdj1vW2RdLDEyOD52JiZFLnB1c2goUih2KSk7Zm9yKHU9aT1FLmxlbmd0aCxpJiZFLnB1c2goRik7Zz51Oyl7Zm9yKHM9YixkPTA7Zz5kOysrZCl2PW9bZF0sdj49biYmcz52JiYocz12KTtmb3Iodz11KzEscy1uPlAoKGItdCkvdykmJmUoXCJvdmVyZmxvd1wiKSx0Kz0ocy1uKSp3LG49cyxkPTA7Zz5kOysrZClpZih2PW9bZF0sbj52JiYrK3Q+YiYmZShcIm92ZXJmbG93XCIpLHY9PW4pe2ZvcihhPXQscD14O2g9bD49cD9DOnA+PWwreT95OnAtbCwhKGg+YSk7cCs9eCltPWEtaCxqPXgtaCxFLnB1c2goUihmKGgrbSVqLDApKSksYT1QKG0vaik7RS5wdXNoKFIoZihhLDApKSksbD1jKHQsdyx1PT1pKSx0PTAsKyt1fSsrdCwrK259cmV0dXJuIEUuam9pbihcIlwiKX1mdW5jdGlvbiBzKG8pe3JldHVybiB0KG8sZnVuY3Rpb24obyl7cmV0dXJuIEUudGVzdChvKT9sKG8uc2xpY2UoNCkudG9Mb3dlckNhc2UoKSk6b30pfWZ1bmN0aW9uIGEobyl7cmV0dXJuIHQobyxmdW5jdGlvbihvKXtyZXR1cm4gTy50ZXN0KG8pP1wieG4tLVwiK2Qobyk6b30pfXZhciBwPVwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZleHBvcnRzLGg9XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz09cCYmbW9kdWxlLHY9XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsOyh2Lmdsb2JhbD09PXZ8fHYud2luZG93PT09dikmJihvPXYpO3ZhciBnLHcsYj0yMTQ3NDgzNjQ3LHg9MzYsQz0xLHk9MjYsaj0zOCxtPTcwMCxBPTcyLEk9MTI4LEY9XCItXCIsRT0vXnhuLS0vLE89L1teIC1+XS8sUz0vXFx4MkV8XFx1MzAwMnxcXHVGRjBFfFxcdUZGNjEvZyxMPXtvdmVyZmxvdzpcIk92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzXCIsXCJub3QtYmFzaWNcIjpcIklsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludClcIixcImludmFsaWQtaW5wdXRcIjpcIkludmFsaWQgaW5wdXRcIn0sTT14LUMsUD1NYXRoLmZsb29yLFI9U3RyaW5nLmZyb21DaGFyQ29kZTtpZihnPXt2ZXJzaW9uOlwiMS4yLjNcIix1Y3MyOntkZWNvZGU6cixlbmNvZGU6dX0sZGVjb2RlOmwsZW5jb2RlOmQsdG9BU0NJSTphLHRvVW5pY29kZTpzfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJlwib2JqZWN0XCI9PXR5cGVvZiBkZWZpbmUuYW1kJiZkZWZpbmUuYW1kKWRlZmluZShmdW5jdGlvbigpe3JldHVybiBnfSk7ZWxzZSBpZihwJiYhcC5ub2RlVHlwZSlpZihoKWguZXhwb3J0cz1nO2Vsc2UgZm9yKHcgaW4gZylnLmhhc093blByb3BlcnR5KHcpJiYocFt3XT1nW3ddKTtlbHNlIG8ucHVueWNvZGU9Z30odGhpcyk7XG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGxvZ2dlcihuKXtmdW5jdGlvbiBvKG4pe2Zvcih2YXIgbz1bXSxlPTA7ZTxuLmxlbmd0aDtlKyspb1tlXT1uW2VdO3JldHVybiBvfXZhciBlPXRoaXM7dGhpcy5sb2c9ZnVuY3Rpb24oKXt2YXIgbj1vKGFyZ3VtZW50cyk7ZS5jaGVja2VyKG4sREVCVUcsZnVuY3Rpb24obil7Y29uc29sZS5sb2cobil9KX0sdGhpcy5lcnJvcj1mdW5jdGlvbigpe3ZhciBuPW8oYXJndW1lbnRzKTtlLmNoZWNrZXIobixFUlJPUixmdW5jdGlvbihuKXtjb25zb2xlLmVycm9yKG4pfSl9LHRoaXMud2Fybj1mdW5jdGlvbigpe3ZhciBuPW8oYXJndW1lbnRzKTtlLmNoZWNrZXIobixXQVJOLGZ1bmN0aW9uKG4pe2NvbnNvbGUud2FybihuKX0pfSx0aGlzLmluZm89ZnVuY3Rpb24oKXt2YXIgbj1vKGFyZ3VtZW50cyk7ZS5jaGVja2VyKG4sSU5GTyxmdW5jdGlvbihuKXtjb25zb2xlLmluZm8obil9KX0sdGhpcy5wcmludGVyPWZ1bmN0aW9uKG4sbyl7XCJPYmplY3RcIj09dHlwZW9mIG4mJih3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiUGhhbnRvbUpTXCIpPi0xP249SlNPTi5zdHJpbmdpZnkobik6bz1jb25zb2xlLmRpciksbyhuKX0sdGhpcy5jaGVja2VyPWZ1bmN0aW9uKG8scix0KXtvLmxlbmd0aD4xJiZjb25zb2xlLmdyb3VwKCksby5mb3JFYWNoKGZ1bmN0aW9uKG8pe1widW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZudWxsIT09biYmciYmZS5wcmludGVyKG8sdCl9KSxvLmxlbmd0aD4xJiZjb25zb2xlLmdyb3VwRW5kKCl9fXZhciBFUlJPUj0hMSxERUJVRz1FUlJPUixXQVJOPURFQlVHLElORk89V0FSTjttb2R1bGUuZXhwb3J0cz1uZXcgbG9nZ2VyOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIE5hdihvKXt0aGlzLmlmcmFtZT1vLHdpbmRvdy5uYXY9dGhpcyx0aGlzLmdvPWZ1bmN0aW9uKG8pe1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1VUkkobykpLHRoaXMuaWZyYW1lLnNyYz1vLmhyZWYoKX0sdGhpcy5sb2FkPWZ1bmN0aW9uKG8pe28uJGpzZG5zLnVyaXMuZm9yRWFjaChmdW5jdGlvbihvKXtvPW5ldyBVUkkobyksY29uc29sZS5ncm91cCgpLGNvbnNvbGUuaW5mbyhcImNvbm5lY3Rpdml0eSB0ZXN0IG9mIFwiK28uaHJlZigpKSwkLmFqYXgoe3R5cGU6XCJIRUFEXCIsdXJsOm8uaHJlZigpfSkuY29tcGxldGUoZnVuY3Rpb24oZSxyKXtjb25zb2xlLmluZm8obyxlLHIpLFwidGltZW91dFwiIT09cj8oY29uc29sZS5pbmZvKG8uaHJlZigpK1wiIGlzIHJlYWNoYWJsZS5cIiksY29uc29sZS5ncm91cEVuZCgpLHdpbmRvdy5uYXYuZ28obykpOihjb25zb2xlLndhcm4oby5ocmVmKCkrXCIgaXMgTk9UIHJlYWNoYWJsZS5cIiksY29uc29sZS5ncm91cEVuZCgpKX0pfSl9fXZhciAkPXJlcXVpcmUoXCIuL2xpYnMvanF1ZXJ5L2Rpc3QvanF1ZXJ5XCIpLFVSST1yZXF1aXJlKFwiLi9saWJzL3VyaS5qcy9zcmMvVVJJXCIpLFJlY29yZD1yZXF1aXJlKFwiLi9yZWNvcmRcIik7bW9kdWxlLmV4cG9ydHM9TmF2OyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFJlY29yZChpLHIpe3RoaXMuX2lkPWksdGhpcy5uYW1lPWksdGhpcy52YWx1ZT1yLHRoaXMuJGpzZG5zPXt1cmlzOltdfTt2YXIgcz10aGlzLiRqc2Rucy51cmlzO3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKFtcImlwXCIsXCJ0cmFuc2xhdGVcIixcImh0dHBcIixcImxpbmtcIl0uaW5kZXhPZihpKT4tMSl7dmFyIHQ9cltpXTt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PW5ldyBBcnJheSh0KSksdC5mb3JFYWNoKGZ1bmN0aW9uKHIpeyhcImlwXCI9PT1pfHxcImlwNlwiPT09aSkmJihyPVwiLy9cIityKSxzLnB1c2gobmV3IFVSSShyKS5ocmVmKCkpfSl9fSksdGhpc312YXIgVVJJPXJlcXVpcmUoXCIuL2xpYnMvdXJpLmpzL3NyYy9VUklcIik7bW9kdWxlLmV4cG9ydHM9UmVjb3JkOyIsImZ1bmN0aW9uIHRocm90dGxlUmVzaXplKCl7ZHJhd2luZz09PSExJiYocmVzaXplRmlyZWQ9ITAsZHJhd1Jlc2l6ZSgpKX1mdW5jdGlvbiBkcmF3UmVzaXplKCl7cmVzaXplRmlyZWQ9PT0hMD8ocmVzaXplRmlyZWQ9ITEsZHJhd2luZz0hMCxpZnJhbWUuaGVpZ2h0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsaWZyYW1lLndpZHRoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxyZXFGcmFtZShkcmF3UmVzaXplKSk6ZHJhd2luZz0hMX12YXIgcmVhZHk9cmVxdWlyZShcIi4vbGlicy9kb21yZWFkeS9yZWFkeS5taW5cIikscmVzaXplRmlyZWQ9ITEsZHJhd2luZz0hMSxyZXFGcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGlmcmFtZTtyZWFkeShmdW5jdGlvbigpe2lmcmFtZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwZWVjaFwiKSxpZnJhbWUuaGVpZ2h0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsaWZyYW1lLndpZHRoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRocm90dGxlUmVzaXplLCExKSxjb25zb2xlLmluZm8oXCJyZXNpemUuanMgcmVnaXN0ZXJlZFwiKSxpZnJhbWV8fGNvbnNvbGUuZXJyb3IoXCJpZnJhbWUgaXMgXCIraWZyYW1lK1wiIGluIHJlc2l6ZS5qc1wiKX0pOyJdfQ==
